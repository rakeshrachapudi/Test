(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))d(m);new MutationObserver(m=>{for(const f of m)if(f.type==="childList")for(const x of f.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&d(x)}).observe(document,{childList:!0,subtree:!0});function s(m){const f={};return m.integrity&&(f.integrity=m.integrity),m.referrerPolicy&&(f.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?f.credentials="include":m.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function d(m){if(m.ep)return;m.ep=!0;const f=s(m);fetch(m.href,f)}})();function dm(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var Ei={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ku;function pm(){if(ku)return Me;ku=1;var o=Symbol.for("react.element"),c=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),x=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),k=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),A=Symbol.iterator;function I(p){return p===null||typeof p!="object"?null:(p=A&&p[A]||p["@@iterator"],typeof p=="function"?p:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,U={};function S(p,w,j){this.props=p,this.context=w,this.refs=U,this.updater=j||M}S.prototype.isReactComponent={},S.prototype.setState=function(p,w){if(typeof p!="object"&&typeof p!="function"&&p!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,p,w,"setState")},S.prototype.forceUpdate=function(p){this.updater.enqueueForceUpdate(this,p,"forceUpdate")};function N(){}N.prototype=S.prototype;function C(p,w,j){this.props=p,this.context=w,this.refs=U,this.updater=j||M}var H=C.prototype=new N;H.constructor=C,Y(H,S.prototype),H.isPureReactComponent=!0;var $=Array.isArray,q=Object.prototype.hasOwnProperty,X={current:null},xe={key:!0,ref:!0,__self:!0,__source:!0};function he(p,w,j){var J,oe={},ke=null,pe=null;if(w!=null)for(J in w.ref!==void 0&&(pe=w.ref),w.key!==void 0&&(ke=""+w.key),w)q.call(w,J)&&!xe.hasOwnProperty(J)&&(oe[J]=w[J]);var Be=arguments.length-2;if(Be===1)oe.children=j;else if(1<Be){for(var Pe=Array(Be),ze=0;ze<Be;ze++)Pe[ze]=arguments[ze+2];oe.children=Pe}if(p&&p.defaultProps)for(J in Be=p.defaultProps,Be)oe[J]===void 0&&(oe[J]=Be[J]);return{$$typeof:o,type:p,key:ke,ref:pe,props:oe,_owner:X.current}}function D(p,w){return{$$typeof:o,type:p.type,key:w,ref:p.ref,props:p.props,_owner:p._owner}}function W(p){return typeof p=="object"&&p!==null&&p.$$typeof===o}function ie(p){var w={"=":"=0",":":"=2"};return"$"+p.replace(/[=:]/g,function(j){return w[j]})}var re=/\/+/g;function Z(p,w){return typeof p=="object"&&p!==null&&p.key!=null?ie(""+p.key):w.toString(36)}function ce(p,w,j,J,oe){var ke=typeof p;(ke==="undefined"||ke==="boolean")&&(p=null);var pe=!1;if(p===null)pe=!0;else switch(ke){case"string":case"number":pe=!0;break;case"object":switch(p.$$typeof){case o:case c:pe=!0}}if(pe)return pe=p,oe=oe(pe),p=J===""?"."+Z(pe,0):J,$(oe)?(j="",p!=null&&(j=p.replace(re,"$&/")+"/"),ce(oe,w,j,"",function(ze){return ze})):oe!=null&&(W(oe)&&(oe=D(oe,j+(!oe.key||pe&&pe.key===oe.key?"":(""+oe.key).replace(re,"$&/")+"/")+p)),w.push(oe)),1;if(pe=0,J=J===""?".":J+":",$(p))for(var Be=0;Be<p.length;Be++){ke=p[Be];var Pe=J+Z(ke,Be);pe+=ce(ke,w,j,Pe,oe)}else if(Pe=I(p),typeof Pe=="function")for(p=Pe.call(p),Be=0;!(ke=p.next()).done;)ke=ke.value,Pe=J+Z(ke,Be++),pe+=ce(ke,w,j,Pe,oe);else if(ke==="object")throw w=String(p),Error("Objects are not valid as a React child (found: "+(w==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":w)+"). If you meant to render a collection of children, use an array instead.");return pe}function O(p,w,j){if(p==null)return p;var J=[],oe=0;return ce(p,J,"","",function(ke){return w.call(j,ke,oe++)}),J}function G(p){if(p._status===-1){var w=p._result;w=w(),w.then(function(j){(p._status===0||p._status===-1)&&(p._status=1,p._result=j)},function(j){(p._status===0||p._status===-1)&&(p._status=2,p._result=j)}),p._status===-1&&(p._status=0,p._result=w)}if(p._status===1)return p._result.default;throw p._result}var V={current:null},b={transition:null},F={ReactCurrentDispatcher:V,ReactCurrentBatchConfig:b,ReactCurrentOwner:X};return Me.Children={map:O,forEach:function(p,w,j){O(p,function(){w.apply(this,arguments)},j)},count:function(p){var w=0;return O(p,function(){w++}),w},toArray:function(p){return O(p,function(w){return w})||[]},only:function(p){if(!W(p))throw Error("React.Children.only expected to receive a single React element child.");return p}},Me.Component=S,Me.Fragment=s,Me.Profiler=m,Me.PureComponent=C,Me.StrictMode=d,Me.Suspense=E,Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,Me.cloneElement=function(p,w,j){if(p==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+p+".");var J=Y({},p.props),oe=p.key,ke=p.ref,pe=p._owner;if(w!=null){if(w.ref!==void 0&&(ke=w.ref,pe=X.current),w.key!==void 0&&(oe=""+w.key),p.type&&p.type.defaultProps)var Be=p.type.defaultProps;for(Pe in w)q.call(w,Pe)&&!xe.hasOwnProperty(Pe)&&(J[Pe]=w[Pe]===void 0&&Be!==void 0?Be[Pe]:w[Pe])}var Pe=arguments.length-2;if(Pe===1)J.children=j;else if(1<Pe){Be=Array(Pe);for(var ze=0;ze<Pe;ze++)Be[ze]=arguments[ze+2];J.children=Be}return{$$typeof:o,type:p.type,key:oe,ref:ke,props:J,_owner:pe}},Me.createContext=function(p){return p={$$typeof:x,_currentValue:p,_currentValue2:p,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},p.Provider={$$typeof:f,_context:p},p.Consumer=p},Me.createElement=he,Me.createFactory=function(p){var w=he.bind(null,p);return w.type=p,w},Me.createRef=function(){return{current:null}},Me.forwardRef=function(p){return{$$typeof:y,render:p}},Me.isValidElement=W,Me.lazy=function(p){return{$$typeof:h,_payload:{_status:-1,_result:p},_init:G}},Me.memo=function(p,w){return{$$typeof:k,type:p,compare:w===void 0?null:w}},Me.startTransition=function(p){var w=b.transition;b.transition={};try{p()}finally{b.transition=w}},Me.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},Me.useCallback=function(p,w){return V.current.useCallback(p,w)},Me.useContext=function(p){return V.current.useContext(p)},Me.useDebugValue=function(){},Me.useDeferredValue=function(p){return V.current.useDeferredValue(p)},Me.useEffect=function(p,w){return V.current.useEffect(p,w)},Me.useId=function(){return V.current.useId()},Me.useImperativeHandle=function(p,w,j){return V.current.useImperativeHandle(p,w,j)},Me.useInsertionEffect=function(p,w){return V.current.useInsertionEffect(p,w)},Me.useLayoutEffect=function(p,w){return V.current.useLayoutEffect(p,w)},Me.useMemo=function(p,w){return V.current.useMemo(p,w)},Me.useReducer=function(p,w,j){return V.current.useReducer(p,w,j)},Me.useRef=function(p){return V.current.useRef(p)},Me.useState=function(p){return V.current.useState(p)},Me.useSyncExternalStore=function(p,w,j){return V.current.useSyncExternalStore(p,w,j)},Me.useTransition=function(){return V.current.useTransition()},Me.version="18.2.0",Me}var Cu;function Hu(){return Cu||(Cu=1,Ei.exports=pm()),Ei.exports}var g=Hu();const n=dm(g);var So={},vi={exports:{}},Ct={},bi={exports:{}},Si={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tu;function mm(){return Tu||(Tu=1,(function(o){function c(b,F){var p=b.length;b.push(F);e:for(;0<p;){var w=p-1>>>1,j=b[w];if(0<m(j,F))b[w]=F,b[p]=j,p=w;else break e}}function s(b){return b.length===0?null:b[0]}function d(b){if(b.length===0)return null;var F=b[0],p=b.pop();if(p!==F){b[0]=p;e:for(var w=0,j=b.length,J=j>>>1;w<J;){var oe=2*(w+1)-1,ke=b[oe],pe=oe+1,Be=b[pe];if(0>m(ke,p))pe<j&&0>m(Be,ke)?(b[w]=Be,b[pe]=p,w=pe):(b[w]=ke,b[oe]=p,w=oe);else if(pe<j&&0>m(Be,p))b[w]=Be,b[pe]=p,w=pe;else break e}}return F}function m(b,F){var p=b.sortIndex-F.sortIndex;return p!==0?p:b.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var f=performance;o.unstable_now=function(){return f.now()}}else{var x=Date,y=x.now();o.unstable_now=function(){return x.now()-y}}var E=[],k=[],h=1,A=null,I=3,M=!1,Y=!1,U=!1,S=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function H(b){for(var F=s(k);F!==null;){if(F.callback===null)d(k);else if(F.startTime<=b)d(k),F.sortIndex=F.expirationTime,c(E,F);else break;F=s(k)}}function $(b){if(U=!1,H(b),!Y)if(s(E)!==null)Y=!0,G(q);else{var F=s(k);F!==null&&V($,F.startTime-b)}}function q(b,F){Y=!1,U&&(U=!1,N(he),he=-1),M=!0;var p=I;try{for(H(F),A=s(E);A!==null&&(!(A.expirationTime>F)||b&&!ie());){var w=A.callback;if(typeof w=="function"){A.callback=null,I=A.priorityLevel;var j=w(A.expirationTime<=F);F=o.unstable_now(),typeof j=="function"?A.callback=j:A===s(E)&&d(E),H(F)}else d(E);A=s(E)}if(A!==null)var J=!0;else{var oe=s(k);oe!==null&&V($,oe.startTime-F),J=!1}return J}finally{A=null,I=p,M=!1}}var X=!1,xe=null,he=-1,D=5,W=-1;function ie(){return!(o.unstable_now()-W<D)}function re(){if(xe!==null){var b=o.unstable_now();W=b;var F=!0;try{F=xe(!0,b)}finally{F?Z():(X=!1,xe=null)}}else X=!1}var Z;if(typeof C=="function")Z=function(){C(re)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,O=ce.port2;ce.port1.onmessage=re,Z=function(){O.postMessage(null)}}else Z=function(){S(re,0)};function G(b){xe=b,X||(X=!0,Z())}function V(b,F){he=S(function(){b(o.unstable_now())},F)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(b){b.callback=null},o.unstable_continueExecution=function(){Y||M||(Y=!0,G(q))},o.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<b?Math.floor(1e3/b):5},o.unstable_getCurrentPriorityLevel=function(){return I},o.unstable_getFirstCallbackNode=function(){return s(E)},o.unstable_next=function(b){switch(I){case 1:case 2:case 3:var F=3;break;default:F=I}var p=I;I=F;try{return b()}finally{I=p}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(b,F){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var p=I;I=b;try{return F()}finally{I=p}},o.unstable_scheduleCallback=function(b,F,p){var w=o.unstable_now();switch(typeof p=="object"&&p!==null?(p=p.delay,p=typeof p=="number"&&0<p?w+p:w):p=w,b){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=p+j,b={id:h++,callback:F,priorityLevel:b,startTime:p,expirationTime:j,sortIndex:-1},p>w?(b.sortIndex=p,c(k,b),s(E)===null&&b===s(k)&&(U?(N(he),he=-1):U=!0,V($,p-w))):(b.sortIndex=j,c(E,b),Y||M||(Y=!0,G(q))),b},o.unstable_shouldYield=ie,o.unstable_wrapCallback=function(b){var F=I;return function(){var p=I;I=F;try{return b.apply(this,arguments)}finally{I=p}}}})(Si)),Si}var Nu;function fm(){return Nu||(Nu=1,bi.exports=mm()),bi.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iu;function gm(){if(Iu)return Ct;Iu=1;var o=Hu(),c=fm();function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d=new Set,m={};function f(e,t){x(e,t),x(e+"Capture",t)}function x(e,t){for(m[e]=t,e=0;e<t.length;e++)d.add(t[e])}var y=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),E=Object.prototype.hasOwnProperty,k=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},A={};function I(e){return E.call(A,e)?!0:E.call(h,e)?!1:k.test(e)?A[e]=!0:(h[e]=!0,!1)}function M(e,t,r,l){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return l?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Y(e,t,r,l){if(t===null||typeof t>"u"||M(e,t,r,l))return!0;if(l)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function U(e,t,r,l,a,i,u){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=l,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=u}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){S[e]=new U(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];S[t]=new U(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){S[e]=new U(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){S[e]=new U(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){S[e]=new U(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){S[e]=new U(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){S[e]=new U(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){S[e]=new U(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){S[e]=new U(e,5,!1,e.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function C(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(N,C);S[t]=new U(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(N,C);S[t]=new U(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(N,C);S[t]=new U(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){S[e]=new U(e,1,!1,e.toLowerCase(),null,!1,!1)}),S.xlinkHref=new U("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){S[e]=new U(e,1,!1,e.toLowerCase(),null,!0,!0)});function H(e,t,r,l){var a=S.hasOwnProperty(t)?S[t]:null;(a!==null?a.type!==0:l||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Y(t,r,a,l)&&(r=null),l||a===null?I(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,l=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,l?e.setAttributeNS(l,t,r):e.setAttribute(t,r))))}var $=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,q=Symbol.for("react.element"),X=Symbol.for("react.portal"),xe=Symbol.for("react.fragment"),he=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),ie=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),V=Symbol.for("react.offscreen"),b=Symbol.iterator;function F(e){return e===null||typeof e!="object"?null:(e=b&&e[b]||e["@@iterator"],typeof e=="function"?e:null)}var p=Object.assign,w;function j(e){if(w===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);w=t&&t[1]||""}return`
`+w+e}var J=!1;function oe(e,t){if(!e||J)return"";J=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(_){var l=_}Reflect.construct(e,[],t)}else{try{t.call()}catch(_){l=_}e.call(t.prototype)}else{try{throw Error()}catch(_){l=_}e()}}catch(_){if(_&&l&&typeof _.stack=="string"){for(var a=_.stack.split(`
`),i=l.stack.split(`
`),u=a.length-1,v=i.length-1;1<=u&&0<=v&&a[u]!==i[v];)v--;for(;1<=u&&0<=v;u--,v--)if(a[u]!==i[v]){if(u!==1||v!==1)do if(u--,v--,0>v||a[u]!==i[v]){var T=`
`+a[u].replace(" at new "," at ");return e.displayName&&T.includes("<anonymous>")&&(T=T.replace("<anonymous>",e.displayName)),T}while(1<=u&&0<=v);break}}}finally{J=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?j(e):""}function ke(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=oe(e.type,!1),e;case 11:return e=oe(e.type.render,!1),e;case 1:return e=oe(e.type,!0),e;default:return""}}function pe(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case xe:return"Fragment";case X:return"Portal";case D:return"Profiler";case he:return"StrictMode";case Z:return"Suspense";case ce:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ie:return(e.displayName||"Context")+".Consumer";case W:return(e._context.displayName||"Context")+".Provider";case re:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case O:return t=e.displayName||null,t!==null?t:pe(e.type)||"Memo";case G:t=e._payload,e=e._init;try{return pe(e(t))}catch{}}return null}function Be(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(t);case 8:return t===he?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Pe(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ze(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ue(e){var t=ze(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(u){l=""+u,i.call(this,u)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(u){l=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function De(e){e._valueTracker||(e._valueTracker=ue(e))}function Nt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),l="";return e&&(l=ze(e)?e.checked?"true":"false":e.value),e=l,e!==r?(t.setValue(e),!0):!1}function gt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Fe(e,t){var r=t.checked;return p({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Ze(e,t){var r=t.defaultValue==null?"":t.defaultValue,l=t.checked!=null?t.checked:t.defaultChecked;r=Pe(t.value!=null?t.value:r),e._wrapperState={initialChecked:l,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function yt(e,t){t=t.checked,t!=null&&H(e,"checked",t,!1)}function $e(e,t){yt(e,t);var r=Pe(t.value),l=t.type;if(r!=null)l==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?br(e,t.type,r):t.hasOwnProperty("defaultValue")&&br(e,t.type,Pe(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ot(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var l=t.type;if(!(l!=="submit"&&l!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function br(e,t,r){(t!=="number"||gt(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Sr=Array.isArray;function Vn(e,t,r,l){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&l&&(e[r].defaultSelected=!0)}else{for(r=""+Pe(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,l&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Po(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(s(91));return p({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Di(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(s(92));if(Sr(r)){if(1<r.length)throw Error(s(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Pe(r)}}function zi(e,t){var r=Pe(t.value),l=Pe(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),l!=null&&(e.defaultValue=""+l)}function Li(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Mi(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ro(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Mi(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ml,Fi=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,l,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,l,a)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ml=ml||document.createElement("div"),ml.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ml.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function wr(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var kr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gd=["Webkit","ms","Moz","O"];Object.keys(kr).forEach(function(e){gd.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),kr[t]=kr[e]})});function Oi(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||kr.hasOwnProperty(e)&&kr[e]?(""+t).trim():t+"px"}function Wi(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var l=r.indexOf("--")===0,a=Oi(r,t[r],l);r==="float"&&(r="cssFloat"),l?e.setProperty(r,a):e[r]=a}}var yd=p({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ao(e,t){if(t){if(yd[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(s(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(t.style!=null&&typeof t.style!="object")throw Error(s(62))}}function Bo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Do=null;function zo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Lo=null,Yn=null,Qn=null;function $i(e){if(e=Vr(e)){if(typeof Lo!="function")throw Error(s(280));var t=e.stateNode;t&&(t=Ml(t),Lo(e.stateNode,e.type,t))}}function _i(e){Yn?Qn?Qn.push(e):Qn=[e]:Yn=e}function Ui(){if(Yn){var e=Yn,t=Qn;if(Qn=Yn=null,$i(e),t)for(e=0;e<t.length;e++)$i(t[e])}}function ji(e,t){return e(t)}function Hi(){}var Mo=!1;function Gi(e,t,r){if(Mo)return e(t,r);Mo=!0;try{return ji(e,t,r)}finally{Mo=!1,(Yn!==null||Qn!==null)&&(Hi(),Ui())}}function Cr(e,t){var r=e.stateNode;if(r===null)return null;var l=Ml(r);if(l===null)return null;r=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(s(231,t,typeof r));return r}var Fo=!1;if(y)try{var Tr={};Object.defineProperty(Tr,"passive",{get:function(){Fo=!0}}),window.addEventListener("test",Tr,Tr),window.removeEventListener("test",Tr,Tr)}catch{Fo=!1}function hd(e,t,r,l,a,i,u,v,T){var _=Array.prototype.slice.call(arguments,3);try{t.apply(r,_)}catch(ne){this.onError(ne)}}var Nr=!1,fl=null,gl=!1,Oo=null,xd={onError:function(e){Nr=!0,fl=e}};function Ed(e,t,r,l,a,i,u,v,T){Nr=!1,fl=null,hd.apply(xd,arguments)}function vd(e,t,r,l,a,i,u,v,T){if(Ed.apply(this,arguments),Nr){if(Nr){var _=fl;Nr=!1,fl=null}else throw Error(s(198));gl||(gl=!0,Oo=_)}}function Dn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Vi(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Yi(e){if(Dn(e)!==e)throw Error(s(188))}function bd(e){var t=e.alternate;if(!t){if(t=Dn(e),t===null)throw Error(s(188));return t!==e?null:e}for(var r=e,l=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(l=a.return,l!==null){r=l;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return Yi(a),e;if(i===l)return Yi(a),t;i=i.sibling}throw Error(s(188))}if(r.return!==l.return)r=a,l=i;else{for(var u=!1,v=a.child;v;){if(v===r){u=!0,r=a,l=i;break}if(v===l){u=!0,l=a,r=i;break}v=v.sibling}if(!u){for(v=i.child;v;){if(v===r){u=!0,r=i,l=a;break}if(v===l){u=!0,l=i,r=a;break}v=v.sibling}if(!u)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:t}function Qi(e){return e=bd(e),e!==null?qi(e):null}function qi(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=qi(e);if(t!==null)return t;e=e.sibling}return null}var Ki=c.unstable_scheduleCallback,Xi=c.unstable_cancelCallback,Sd=c.unstable_shouldYield,wd=c.unstable_requestPaint,Xe=c.unstable_now,kd=c.unstable_getCurrentPriorityLevel,Wo=c.unstable_ImmediatePriority,Ji=c.unstable_UserBlockingPriority,yl=c.unstable_NormalPriority,Cd=c.unstable_LowPriority,Zi=c.unstable_IdlePriority,hl=null,Vt=null;function Td(e){if(Vt&&typeof Vt.onCommitFiberRoot=="function")try{Vt.onCommitFiberRoot(hl,e,void 0,(e.current.flags&128)===128)}catch{}}var Wt=Math.clz32?Math.clz32:Pd,Nd=Math.log,Id=Math.LN2;function Pd(e){return e>>>=0,e===0?32:31-(Nd(e)/Id|0)|0}var xl=64,El=4194304;function Ir(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function vl(e,t){var r=e.pendingLanes;if(r===0)return 0;var l=0,a=e.suspendedLanes,i=e.pingedLanes,u=r&268435455;if(u!==0){var v=u&~a;v!==0?l=Ir(v):(i&=u,i!==0&&(l=Ir(i)))}else u=r&~a,u!==0?l=Ir(u):i!==0&&(l=Ir(i));if(l===0)return 0;if(t!==0&&t!==l&&(t&a)===0&&(a=l&-l,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if((l&4)!==0&&(l|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=l;0<t;)r=31-Wt(t),a=1<<r,l|=e[r],t&=~a;return l}function Rd(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ad(e,t){for(var r=e.suspendedLanes,l=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var u=31-Wt(i),v=1<<u,T=a[u];T===-1?((v&r)===0||(v&l)!==0)&&(a[u]=Rd(v,t)):T<=t&&(e.expiredLanes|=v),i&=~v}}function $o(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function es(){var e=xl;return xl<<=1,(xl&4194240)===0&&(xl=64),e}function _o(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Pr(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Wt(t),e[t]=r}function Bd(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Wt(r),i=1<<a;t[a]=0,l[a]=-1,e[a]=-1,r&=~i}}function Uo(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var l=31-Wt(r),a=1<<l;a&t|e[l]&t&&(e[l]|=t),r&=~a}}var _e=0;function ts(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var ns,jo,rs,ls,os,Ho=!1,bl=[],mn=null,fn=null,gn=null,Rr=new Map,Ar=new Map,yn=[],Dd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function as(e,t){switch(e){case"focusin":case"focusout":mn=null;break;case"dragenter":case"dragleave":fn=null;break;case"mouseover":case"mouseout":gn=null;break;case"pointerover":case"pointerout":Rr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ar.delete(t.pointerId)}}function Br(e,t,r,l,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:l,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Vr(t),t!==null&&jo(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function zd(e,t,r,l,a){switch(t){case"focusin":return mn=Br(mn,e,t,r,l,a),!0;case"dragenter":return fn=Br(fn,e,t,r,l,a),!0;case"mouseover":return gn=Br(gn,e,t,r,l,a),!0;case"pointerover":var i=a.pointerId;return Rr.set(i,Br(Rr.get(i)||null,e,t,r,l,a)),!0;case"gotpointercapture":return i=a.pointerId,Ar.set(i,Br(Ar.get(i)||null,e,t,r,l,a)),!0}return!1}function is(e){var t=zn(e.target);if(t!==null){var r=Dn(t);if(r!==null){if(t=r.tag,t===13){if(t=Vi(r),t!==null){e.blockedOn=t,os(e.priority,function(){rs(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Vo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var l=new r.constructor(r.type,r);Do=l,r.target.dispatchEvent(l),Do=null}else return t=Vr(r),t!==null&&jo(t),e.blockedOn=r,!1;t.shift()}return!0}function ss(e,t,r){Sl(e)&&r.delete(t)}function Ld(){Ho=!1,mn!==null&&Sl(mn)&&(mn=null),fn!==null&&Sl(fn)&&(fn=null),gn!==null&&Sl(gn)&&(gn=null),Rr.forEach(ss),Ar.forEach(ss)}function Dr(e,t){e.blockedOn===t&&(e.blockedOn=null,Ho||(Ho=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,Ld)))}function zr(e){function t(a){return Dr(a,e)}if(0<bl.length){Dr(bl[0],e);for(var r=1;r<bl.length;r++){var l=bl[r];l.blockedOn===e&&(l.blockedOn=null)}}for(mn!==null&&Dr(mn,e),fn!==null&&Dr(fn,e),gn!==null&&Dr(gn,e),Rr.forEach(t),Ar.forEach(t),r=0;r<yn.length;r++)l=yn[r],l.blockedOn===e&&(l.blockedOn=null);for(;0<yn.length&&(r=yn[0],r.blockedOn===null);)is(r),r.blockedOn===null&&yn.shift()}var qn=$.ReactCurrentBatchConfig,wl=!0;function Md(e,t,r,l){var a=_e,i=qn.transition;qn.transition=null;try{_e=1,Go(e,t,r,l)}finally{_e=a,qn.transition=i}}function Fd(e,t,r,l){var a=_e,i=qn.transition;qn.transition=null;try{_e=4,Go(e,t,r,l)}finally{_e=a,qn.transition=i}}function Go(e,t,r,l){if(wl){var a=Vo(e,t,r,l);if(a===null)ca(e,t,l,kl,r),as(e,l);else if(zd(a,e,t,r,l))l.stopPropagation();else if(as(e,l),t&4&&-1<Dd.indexOf(e)){for(;a!==null;){var i=Vr(a);if(i!==null&&ns(i),i=Vo(e,t,r,l),i===null&&ca(e,t,l,kl,r),i===a)break;a=i}a!==null&&l.stopPropagation()}else ca(e,t,l,null,r)}}var kl=null;function Vo(e,t,r,l){if(kl=null,e=zo(l),e=zn(e),e!==null)if(t=Dn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Vi(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return kl=e,null}function cs(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kd()){case Wo:return 1;case Ji:return 4;case yl:case Cd:return 16;case Zi:return 536870912;default:return 16}default:return 16}}var hn=null,Yo=null,Cl=null;function us(){if(Cl)return Cl;var e,t=Yo,r=t.length,l,a="value"in hn?hn.value:hn.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var u=r-e;for(l=1;l<=u&&t[r-l]===a[i-l];l++);return Cl=a.slice(e,1<l?1-l:void 0)}function Tl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Nl(){return!0}function ds(){return!1}function It(e){function t(r,l,a,i,u){this._reactName=r,this._targetInst=a,this.type=l,this.nativeEvent=i,this.target=u,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(r=e[v],this[v]=r?r(i):i[v]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Nl:ds,this.isPropagationStopped=ds,this}return p(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Nl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Nl)},persist:function(){},isPersistent:Nl}),t}var Kn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qo=It(Kn),Lr=p({},Kn,{view:0,detail:0}),Od=It(Lr),qo,Ko,Mr,Il=p({},Lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Mr&&(Mr&&e.type==="mousemove"?(qo=e.screenX-Mr.screenX,Ko=e.screenY-Mr.screenY):Ko=qo=0,Mr=e),qo)},movementY:function(e){return"movementY"in e?e.movementY:Ko}}),ps=It(Il),Wd=p({},Il,{dataTransfer:0}),$d=It(Wd),_d=p({},Lr,{relatedTarget:0}),Xo=It(_d),Ud=p({},Kn,{animationName:0,elapsedTime:0,pseudoElement:0}),jd=It(Ud),Hd=p({},Kn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Gd=It(Hd),Vd=p({},Kn,{data:0}),ms=It(Vd),Yd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kd(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=qd[e])?!!t[e]:!1}function Jo(){return Kd}var Xd=p({},Lr,{key:function(e){if(e.key){var t=Yd[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Tl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Qd[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jo,charCode:function(e){return e.type==="keypress"?Tl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Tl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Jd=It(Xd),Zd=p({},Il,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fs=It(Zd),ep=p({},Lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jo}),tp=It(ep),np=p({},Kn,{propertyName:0,elapsedTime:0,pseudoElement:0}),rp=It(np),lp=p({},Il,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),op=It(lp),ap=[9,13,27,32],Zo=y&&"CompositionEvent"in window,Fr=null;y&&"documentMode"in document&&(Fr=document.documentMode);var ip=y&&"TextEvent"in window&&!Fr,gs=y&&(!Zo||Fr&&8<Fr&&11>=Fr),ys=" ",hs=!1;function xs(e,t){switch(e){case"keyup":return ap.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Es(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xn=!1;function sp(e,t){switch(e){case"compositionend":return Es(t);case"keypress":return t.which!==32?null:(hs=!0,ys);case"textInput":return e=t.data,e===ys&&hs?null:e;default:return null}}function cp(e,t){if(Xn)return e==="compositionend"||!Zo&&xs(e,t)?(e=us(),Cl=Yo=hn=null,Xn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return gs&&t.locale!=="ko"?null:t.data;default:return null}}var up={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!up[e.type]:t==="textarea"}function bs(e,t,r,l){_i(l),t=Dl(t,"onChange"),0<t.length&&(r=new Qo("onChange","change",null,r,l),e.push({event:r,listeners:t}))}var Or=null,Wr=null;function dp(e){Ws(e,0)}function Pl(e){var t=nr(e);if(Nt(t))return e}function pp(e,t){if(e==="change")return t}var Ss=!1;if(y){var ea;if(y){var ta="oninput"in document;if(!ta){var ws=document.createElement("div");ws.setAttribute("oninput","return;"),ta=typeof ws.oninput=="function"}ea=ta}else ea=!1;Ss=ea&&(!document.documentMode||9<document.documentMode)}function ks(){Or&&(Or.detachEvent("onpropertychange",Cs),Wr=Or=null)}function Cs(e){if(e.propertyName==="value"&&Pl(Wr)){var t=[];bs(t,Wr,e,zo(e)),Gi(dp,t)}}function mp(e,t,r){e==="focusin"?(ks(),Or=t,Wr=r,Or.attachEvent("onpropertychange",Cs)):e==="focusout"&&ks()}function fp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pl(Wr)}function gp(e,t){if(e==="click")return Pl(t)}function yp(e,t){if(e==="input"||e==="change")return Pl(t)}function hp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $t=typeof Object.is=="function"?Object.is:hp;function $r(e,t){if($t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),l=Object.keys(t);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var a=r[l];if(!E.call(t,a)||!$t(e[a],t[a]))return!1}return!0}function Ts(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ns(e,t){var r=Ts(e);e=0;for(var l;r;){if(r.nodeType===3){if(l=e+r.textContent.length,e<=t&&l>=t)return{node:r,offset:t-e};e=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ts(r)}}function Is(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Is(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ps(){for(var e=window,t=gt();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=gt(e.document)}return t}function na(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function xp(e){var t=Ps(),r=e.focusedElem,l=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Is(r.ownerDocument.documentElement,r)){if(l!==null&&na(r)){if(t=l.start,e=l.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(l.start,a);l=l.end===void 0?i:Math.min(l.end,a),!e.extend&&i>l&&(a=l,l=i,i=a),a=Ns(r,i);var u=Ns(r,l);a&&u&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==u.node||e.focusOffset!==u.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>l?(e.addRange(t),e.extend(u.node,u.offset)):(t.setEnd(u.node,u.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ep=y&&"documentMode"in document&&11>=document.documentMode,Jn=null,ra=null,_r=null,la=!1;function Rs(e,t,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;la||Jn==null||Jn!==gt(l)||(l=Jn,"selectionStart"in l&&na(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),_r&&$r(_r,l)||(_r=l,l=Dl(ra,"onSelect"),0<l.length&&(t=new Qo("onSelect","select",null,t,r),e.push({event:t,listeners:l}),t.target=Jn)))}function Rl(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Zn={animationend:Rl("Animation","AnimationEnd"),animationiteration:Rl("Animation","AnimationIteration"),animationstart:Rl("Animation","AnimationStart"),transitionend:Rl("Transition","TransitionEnd")},oa={},As={};y&&(As=document.createElement("div").style,"AnimationEvent"in window||(delete Zn.animationend.animation,delete Zn.animationiteration.animation,delete Zn.animationstart.animation),"TransitionEvent"in window||delete Zn.transitionend.transition);function Al(e){if(oa[e])return oa[e];if(!Zn[e])return e;var t=Zn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in As)return oa[e]=t[r];return e}var Bs=Al("animationend"),Ds=Al("animationiteration"),zs=Al("animationstart"),Ls=Al("transitionend"),Ms=new Map,Fs="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xn(e,t){Ms.set(e,t),f(t,[e])}for(var aa=0;aa<Fs.length;aa++){var ia=Fs[aa],vp=ia.toLowerCase(),bp=ia[0].toUpperCase()+ia.slice(1);xn(vp,"on"+bp)}xn(Bs,"onAnimationEnd"),xn(Ds,"onAnimationIteration"),xn(zs,"onAnimationStart"),xn("dblclick","onDoubleClick"),xn("focusin","onFocus"),xn("focusout","onBlur"),xn(Ls,"onTransitionEnd"),x("onMouseEnter",["mouseout","mouseover"]),x("onMouseLeave",["mouseout","mouseover"]),x("onPointerEnter",["pointerout","pointerover"]),x("onPointerLeave",["pointerout","pointerover"]),f("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),f("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),f("onBeforeInput",["compositionend","keypress","textInput","paste"]),f("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ur="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sp=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ur));function Os(e,t,r){var l=e.type||"unknown-event";e.currentTarget=r,vd(l,t,void 0,e),e.currentTarget=null}function Ws(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var l=e[r],a=l.event;l=l.listeners;e:{var i=void 0;if(t)for(var u=l.length-1;0<=u;u--){var v=l[u],T=v.instance,_=v.currentTarget;if(v=v.listener,T!==i&&a.isPropagationStopped())break e;Os(a,v,_),i=T}else for(u=0;u<l.length;u++){if(v=l[u],T=v.instance,_=v.currentTarget,v=v.listener,T!==i&&a.isPropagationStopped())break e;Os(a,v,_),i=T}}}if(gl)throw e=Oo,gl=!1,Oo=null,e}function He(e,t){var r=t[ga];r===void 0&&(r=t[ga]=new Set);var l=e+"__bubble";r.has(l)||($s(t,e,2,!1),r.add(l))}function sa(e,t,r){var l=0;t&&(l|=4),$s(r,e,l,t)}var Bl="_reactListening"+Math.random().toString(36).slice(2);function jr(e){if(!e[Bl]){e[Bl]=!0,d.forEach(function(r){r!=="selectionchange"&&(Sp.has(r)||sa(r,!1,e),sa(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Bl]||(t[Bl]=!0,sa("selectionchange",!1,t))}}function $s(e,t,r,l){switch(cs(t)){case 1:var a=Md;break;case 4:a=Fd;break;default:a=Go}r=a.bind(null,t,r,e),a=void 0,!Fo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),l?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function ca(e,t,r,l,a){var i=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var u=l.tag;if(u===3||u===4){var v=l.stateNode.containerInfo;if(v===a||v.nodeType===8&&v.parentNode===a)break;if(u===4)for(u=l.return;u!==null;){var T=u.tag;if((T===3||T===4)&&(T=u.stateNode.containerInfo,T===a||T.nodeType===8&&T.parentNode===a))return;u=u.return}for(;v!==null;){if(u=zn(v),u===null)return;if(T=u.tag,T===5||T===6){l=i=u;continue e}v=v.parentNode}}l=l.return}Gi(function(){var _=i,ne=zo(r),ae=[];e:{var te=Ms.get(e);if(te!==void 0){var fe=Qo,be=e;switch(e){case"keypress":if(Tl(r)===0)break e;case"keydown":case"keyup":fe=Jd;break;case"focusin":be="focus",fe=Xo;break;case"focusout":be="blur",fe=Xo;break;case"beforeblur":case"afterblur":fe=Xo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=ps;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=$d;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=tp;break;case Bs:case Ds:case zs:fe=jd;break;case Ls:fe=rp;break;case"scroll":fe=Od;break;case"wheel":fe=op;break;case"copy":case"cut":case"paste":fe=Gd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=fs}var Se=(t&4)!==0,Je=!Se&&e==="scroll",B=Se?te!==null?te+"Capture":null:te;Se=[];for(var R=_,L;R!==null;){L=R;var se=L.stateNode;if(L.tag===5&&se!==null&&(L=se,B!==null&&(se=Cr(R,B),se!=null&&Se.push(Hr(R,se,L)))),Je)break;R=R.return}0<Se.length&&(te=new fe(te,be,null,r,ne),ae.push({event:te,listeners:Se}))}}if((t&7)===0){e:{if(te=e==="mouseover"||e==="pointerover",fe=e==="mouseout"||e==="pointerout",te&&r!==Do&&(be=r.relatedTarget||r.fromElement)&&(zn(be)||be[en]))break e;if((fe||te)&&(te=ne.window===ne?ne:(te=ne.ownerDocument)?te.defaultView||te.parentWindow:window,fe?(be=r.relatedTarget||r.toElement,fe=_,be=be?zn(be):null,be!==null&&(Je=Dn(be),be!==Je||be.tag!==5&&be.tag!==6)&&(be=null)):(fe=null,be=_),fe!==be)){if(Se=ps,se="onMouseLeave",B="onMouseEnter",R="mouse",(e==="pointerout"||e==="pointerover")&&(Se=fs,se="onPointerLeave",B="onPointerEnter",R="pointer"),Je=fe==null?te:nr(fe),L=be==null?te:nr(be),te=new Se(se,R+"leave",fe,r,ne),te.target=Je,te.relatedTarget=L,se=null,zn(ne)===_&&(Se=new Se(B,R+"enter",be,r,ne),Se.target=L,Se.relatedTarget=Je,se=Se),Je=se,fe&&be)t:{for(Se=fe,B=be,R=0,L=Se;L;L=er(L))R++;for(L=0,se=B;se;se=er(se))L++;for(;0<R-L;)Se=er(Se),R--;for(;0<L-R;)B=er(B),L--;for(;R--;){if(Se===B||B!==null&&Se===B.alternate)break t;Se=er(Se),B=er(B)}Se=null}else Se=null;fe!==null&&_s(ae,te,fe,Se,!1),be!==null&&Je!==null&&_s(ae,Je,be,Se,!0)}}e:{if(te=_?nr(_):window,fe=te.nodeName&&te.nodeName.toLowerCase(),fe==="select"||fe==="input"&&te.type==="file")var Ce=pp;else if(vs(te))if(Ss)Ce=yp;else{Ce=fp;var Te=mp}else(fe=te.nodeName)&&fe.toLowerCase()==="input"&&(te.type==="checkbox"||te.type==="radio")&&(Ce=gp);if(Ce&&(Ce=Ce(e,_))){bs(ae,Ce,r,ne);break e}Te&&Te(e,te,_),e==="focusout"&&(Te=te._wrapperState)&&Te.controlled&&te.type==="number"&&br(te,"number",te.value)}switch(Te=_?nr(_):window,e){case"focusin":(vs(Te)||Te.contentEditable==="true")&&(Jn=Te,ra=_,_r=null);break;case"focusout":_r=ra=Jn=null;break;case"mousedown":la=!0;break;case"contextmenu":case"mouseup":case"dragend":la=!1,Rs(ae,r,ne);break;case"selectionchange":if(Ep)break;case"keydown":case"keyup":Rs(ae,r,ne)}var Ne;if(Zo)e:{switch(e){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else Xn?xs(e,r)&&(Re="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Re="onCompositionStart");Re&&(gs&&r.locale!=="ko"&&(Xn||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&Xn&&(Ne=us()):(hn=ne,Yo="value"in hn?hn.value:hn.textContent,Xn=!0)),Te=Dl(_,Re),0<Te.length&&(Re=new ms(Re,e,null,r,ne),ae.push({event:Re,listeners:Te}),Ne?Re.data=Ne:(Ne=Es(r),Ne!==null&&(Re.data=Ne)))),(Ne=ip?sp(e,r):cp(e,r))&&(_=Dl(_,"onBeforeInput"),0<_.length&&(ne=new ms("onBeforeInput","beforeinput",null,r,ne),ae.push({event:ne,listeners:_}),ne.data=Ne))}Ws(ae,t)})}function Hr(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Dl(e,t){for(var r=t+"Capture",l=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Cr(e,r),i!=null&&l.unshift(Hr(e,i,a)),i=Cr(e,t),i!=null&&l.push(Hr(e,i,a))),e=e.return}return l}function er(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function _s(e,t,r,l,a){for(var i=t._reactName,u=[];r!==null&&r!==l;){var v=r,T=v.alternate,_=v.stateNode;if(T!==null&&T===l)break;v.tag===5&&_!==null&&(v=_,a?(T=Cr(r,i),T!=null&&u.unshift(Hr(r,T,v))):a||(T=Cr(r,i),T!=null&&u.push(Hr(r,T,v)))),r=r.return}u.length!==0&&e.push({event:t,listeners:u})}var wp=/\r\n?/g,kp=/\u0000|\uFFFD/g;function Us(e){return(typeof e=="string"?e:""+e).replace(wp,`
`).replace(kp,"")}function zl(e,t,r){if(t=Us(t),Us(e)!==t&&r)throw Error(s(425))}function Ll(){}var ua=null,da=null;function pa(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ma=typeof setTimeout=="function"?setTimeout:void 0,Cp=typeof clearTimeout=="function"?clearTimeout:void 0,js=typeof Promise=="function"?Promise:void 0,Tp=typeof queueMicrotask=="function"?queueMicrotask:typeof js<"u"?function(e){return js.resolve(null).then(e).catch(Np)}:ma;function Np(e){setTimeout(function(){throw e})}function fa(e,t){var r=t,l=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(l===0){e.removeChild(a),zr(t);return}l--}else r!=="$"&&r!=="$?"&&r!=="$!"||l++;r=a}while(r);zr(t)}function En(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Hs(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var tr=Math.random().toString(36).slice(2),Yt="__reactFiber$"+tr,Gr="__reactProps$"+tr,en="__reactContainer$"+tr,ga="__reactEvents$"+tr,Ip="__reactListeners$"+tr,Pp="__reactHandles$"+tr;function zn(e){var t=e[Yt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[en]||r[Yt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Hs(e);e!==null;){if(r=e[Yt])return r;e=Hs(e)}return t}e=r,r=e.parentNode}return null}function Vr(e){return e=e[Yt]||e[en],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function nr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function Ml(e){return e[Gr]||null}var ya=[],rr=-1;function vn(e){return{current:e}}function Ge(e){0>rr||(e.current=ya[rr],ya[rr]=null,rr--)}function je(e,t){rr++,ya[rr]=e.current,e.current=t}var bn={},dt=vn(bn),vt=vn(!1),Ln=bn;function lr(e,t){var r=e.type.contextTypes;if(!r)return bn;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===t)return l.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function bt(e){return e=e.childContextTypes,e!=null}function Fl(){Ge(vt),Ge(dt)}function Gs(e,t,r){if(dt.current!==bn)throw Error(s(168));je(dt,t),je(vt,r)}function Vs(e,t,r){var l=e.stateNode;if(t=t.childContextTypes,typeof l.getChildContext!="function")return r;l=l.getChildContext();for(var a in l)if(!(a in t))throw Error(s(108,Be(e)||"Unknown",a));return p({},r,l)}function Ol(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||bn,Ln=dt.current,je(dt,e),je(vt,vt.current),!0}function Ys(e,t,r){var l=e.stateNode;if(!l)throw Error(s(169));r?(e=Vs(e,t,Ln),l.__reactInternalMemoizedMergedChildContext=e,Ge(vt),Ge(dt),je(dt,e)):Ge(vt),je(vt,r)}var tn=null,Wl=!1,ha=!1;function Qs(e){tn===null?tn=[e]:tn.push(e)}function Rp(e){Wl=!0,Qs(e)}function Sn(){if(!ha&&tn!==null){ha=!0;var e=0,t=_e;try{var r=tn;for(_e=1;e<r.length;e++){var l=r[e];do l=l(!0);while(l!==null)}tn=null,Wl=!1}catch(a){throw tn!==null&&(tn=tn.slice(e+1)),Ki(Wo,Sn),a}finally{_e=t,ha=!1}}return null}var or=[],ar=0,$l=null,_l=0,Bt=[],Dt=0,Mn=null,nn=1,rn="";function Fn(e,t){or[ar++]=_l,or[ar++]=$l,$l=e,_l=t}function qs(e,t,r){Bt[Dt++]=nn,Bt[Dt++]=rn,Bt[Dt++]=Mn,Mn=e;var l=nn;e=rn;var a=32-Wt(l)-1;l&=~(1<<a),r+=1;var i=32-Wt(t)+a;if(30<i){var u=a-a%5;i=(l&(1<<u)-1).toString(32),l>>=u,a-=u,nn=1<<32-Wt(t)+a|r<<a|l,rn=i+e}else nn=1<<i|r<<a|l,rn=e}function xa(e){e.return!==null&&(Fn(e,1),qs(e,1,0))}function Ea(e){for(;e===$l;)$l=or[--ar],or[ar]=null,_l=or[--ar],or[ar]=null;for(;e===Mn;)Mn=Bt[--Dt],Bt[Dt]=null,rn=Bt[--Dt],Bt[Dt]=null,nn=Bt[--Dt],Bt[Dt]=null}var Pt=null,Rt=null,Ve=!1,_t=null;function Ks(e,t){var r=Ft(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Xs(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Pt=e,Rt=En(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Pt=e,Rt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Mn!==null?{id:nn,overflow:rn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ft(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Pt=e,Rt=null,!0):!1;default:return!1}}function va(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ba(e){if(Ve){var t=Rt;if(t){var r=t;if(!Xs(e,t)){if(va(e))throw Error(s(418));t=En(r.nextSibling);var l=Pt;t&&Xs(e,t)?Ks(l,r):(e.flags=e.flags&-4097|2,Ve=!1,Pt=e)}}else{if(va(e))throw Error(s(418));e.flags=e.flags&-4097|2,Ve=!1,Pt=e}}}function Js(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Pt=e}function Ul(e){if(e!==Pt)return!1;if(!Ve)return Js(e),Ve=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!pa(e.type,e.memoizedProps)),t&&(t=Rt)){if(va(e))throw Zs(),Error(s(418));for(;t;)Ks(e,t),t=En(t.nextSibling)}if(Js(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Rt=En(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Rt=null}}else Rt=Pt?En(e.stateNode.nextSibling):null;return!0}function Zs(){for(var e=Rt;e;)e=En(e.nextSibling)}function ir(){Rt=Pt=null,Ve=!1}function Sa(e){_t===null?_t=[e]:_t.push(e)}var Ap=$.ReactCurrentBatchConfig;function Ut(e,t){if(e&&e.defaultProps){t=p({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var jl=vn(null),Hl=null,sr=null,wa=null;function ka(){wa=sr=Hl=null}function Ca(e){var t=jl.current;Ge(jl),e._currentValue=t}function Ta(e,t,r){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===r)break;e=e.return}}function cr(e,t){Hl=e,wa=sr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(St=!0),e.firstContext=null)}function zt(e){var t=e._currentValue;if(wa!==e)if(e={context:e,memoizedValue:t,next:null},sr===null){if(Hl===null)throw Error(s(308));sr=e,Hl.dependencies={lanes:0,firstContext:e}}else sr=sr.next=e;return t}var On=null;function Na(e){On===null?On=[e]:On.push(e)}function ec(e,t,r,l){var a=t.interleaved;return a===null?(r.next=r,Na(t)):(r.next=a.next,a.next=r),t.interleaved=r,ln(e,l)}function ln(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var wn=!1;function Ia(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function on(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function kn(e,t,r){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Oe&2)!==0){var a=l.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),l.pending=t,ln(e,r)}return a=l.interleaved,a===null?(t.next=t,Na(l)):(t.next=a.next,a.next=t),l.interleaved=t,ln(e,r)}function Gl(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var l=t.lanes;l&=e.pendingLanes,r|=l,t.lanes=r,Uo(e,r)}}function nc(e,t){var r=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var u={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=u:i=i.next=u,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:l.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:l.shared,effects:l.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Vl(e,t,r,l){var a=e.updateQueue;wn=!1;var i=a.firstBaseUpdate,u=a.lastBaseUpdate,v=a.shared.pending;if(v!==null){a.shared.pending=null;var T=v,_=T.next;T.next=null,u===null?i=_:u.next=_,u=T;var ne=e.alternate;ne!==null&&(ne=ne.updateQueue,v=ne.lastBaseUpdate,v!==u&&(v===null?ne.firstBaseUpdate=_:v.next=_,ne.lastBaseUpdate=T))}if(i!==null){var ae=a.baseState;u=0,ne=_=T=null,v=i;do{var te=v.lane,fe=v.eventTime;if((l&te)===te){ne!==null&&(ne=ne.next={eventTime:fe,lane:0,tag:v.tag,payload:v.payload,callback:v.callback,next:null});e:{var be=e,Se=v;switch(te=t,fe=r,Se.tag){case 1:if(be=Se.payload,typeof be=="function"){ae=be.call(fe,ae,te);break e}ae=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=Se.payload,te=typeof be=="function"?be.call(fe,ae,te):be,te==null)break e;ae=p({},ae,te);break e;case 2:wn=!0}}v.callback!==null&&v.lane!==0&&(e.flags|=64,te=a.effects,te===null?a.effects=[v]:te.push(v))}else fe={eventTime:fe,lane:te,tag:v.tag,payload:v.payload,callback:v.callback,next:null},ne===null?(_=ne=fe,T=ae):ne=ne.next=fe,u|=te;if(v=v.next,v===null){if(v=a.shared.pending,v===null)break;te=v,v=te.next,te.next=null,a.lastBaseUpdate=te,a.shared.pending=null}}while(!0);if(ne===null&&(T=ae),a.baseState=T,a.firstBaseUpdate=_,a.lastBaseUpdate=ne,t=a.shared.interleaved,t!==null){a=t;do u|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);_n|=u,e.lanes=u,e.memoizedState=ae}}function rc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var l=e[t],a=l.callback;if(a!==null){if(l.callback=null,l=r,typeof a!="function")throw Error(s(191,a));a.call(l)}}}var lc=new o.Component().refs;function Pa(e,t,r,l){t=e.memoizedState,r=r(l,t),r=r==null?t:p({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Yl={isMounted:function(e){return(e=e._reactInternals)?Dn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var l=xt(),a=In(e),i=on(l,a);i.payload=t,r!=null&&(i.callback=r),t=kn(e,i,a),t!==null&&(Gt(t,e,a,l),Gl(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var l=xt(),a=In(e),i=on(l,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=kn(e,i,a),t!==null&&(Gt(t,e,a,l),Gl(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=xt(),l=In(e),a=on(r,l);a.tag=2,t!=null&&(a.callback=t),t=kn(e,a,l),t!==null&&(Gt(t,e,l,r),Gl(t,e,l))}};function oc(e,t,r,l,a,i,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,i,u):t.prototype&&t.prototype.isPureReactComponent?!$r(r,l)||!$r(a,i):!0}function ac(e,t,r){var l=!1,a=bn,i=t.contextType;return typeof i=="object"&&i!==null?i=zt(i):(a=bt(t)?Ln:dt.current,l=t.contextTypes,i=(l=l!=null)?lr(e,a):bn),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Yl,e.stateNode=t,t._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function ic(e,t,r,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,l),t.state!==e&&Yl.enqueueReplaceState(t,t.state,null)}function Ra(e,t,r,l){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs=lc,Ia(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=zt(i):(i=bt(t)?Ln:dt.current,a.context=lr(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Pa(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Yl.enqueueReplaceState(a,a.state,null),Vl(e,r,a,l),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Yr(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(s(309));var l=r.stateNode}if(!l)throw Error(s(147,e));var a=l,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(u){var v=a.refs;v===lc&&(v=a.refs={}),u===null?delete v[i]:v[i]=u},t._stringRef=i,t)}if(typeof e!="string")throw Error(s(284));if(!r._owner)throw Error(s(290,e))}return e}function Ql(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function sc(e){var t=e._init;return t(e._payload)}function cc(e){function t(B,R){if(e){var L=B.deletions;L===null?(B.deletions=[R],B.flags|=16):L.push(R)}}function r(B,R){if(!e)return null;for(;R!==null;)t(B,R),R=R.sibling;return null}function l(B,R){for(B=new Map;R!==null;)R.key!==null?B.set(R.key,R):B.set(R.index,R),R=R.sibling;return B}function a(B,R){return B=Rn(B,R),B.index=0,B.sibling=null,B}function i(B,R,L){return B.index=L,e?(L=B.alternate,L!==null?(L=L.index,L<R?(B.flags|=2,R):L):(B.flags|=2,R)):(B.flags|=1048576,R)}function u(B){return e&&B.alternate===null&&(B.flags|=2),B}function v(B,R,L,se){return R===null||R.tag!==6?(R=mi(L,B.mode,se),R.return=B,R):(R=a(R,L),R.return=B,R)}function T(B,R,L,se){var Ce=L.type;return Ce===xe?ne(B,R,L.props.children,se,L.key):R!==null&&(R.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===G&&sc(Ce)===R.type)?(se=a(R,L.props),se.ref=Yr(B,R,L),se.return=B,se):(se=fo(L.type,L.key,L.props,null,B.mode,se),se.ref=Yr(B,R,L),se.return=B,se)}function _(B,R,L,se){return R===null||R.tag!==4||R.stateNode.containerInfo!==L.containerInfo||R.stateNode.implementation!==L.implementation?(R=fi(L,B.mode,se),R.return=B,R):(R=a(R,L.children||[]),R.return=B,R)}function ne(B,R,L,se,Ce){return R===null||R.tag!==7?(R=Gn(L,B.mode,se,Ce),R.return=B,R):(R=a(R,L),R.return=B,R)}function ae(B,R,L){if(typeof R=="string"&&R!==""||typeof R=="number")return R=mi(""+R,B.mode,L),R.return=B,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case q:return L=fo(R.type,R.key,R.props,null,B.mode,L),L.ref=Yr(B,null,R),L.return=B,L;case X:return R=fi(R,B.mode,L),R.return=B,R;case G:var se=R._init;return ae(B,se(R._payload),L)}if(Sr(R)||F(R))return R=Gn(R,B.mode,L,null),R.return=B,R;Ql(B,R)}return null}function te(B,R,L,se){var Ce=R!==null?R.key:null;if(typeof L=="string"&&L!==""||typeof L=="number")return Ce!==null?null:v(B,R,""+L,se);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case q:return L.key===Ce?T(B,R,L,se):null;case X:return L.key===Ce?_(B,R,L,se):null;case G:return Ce=L._init,te(B,R,Ce(L._payload),se)}if(Sr(L)||F(L))return Ce!==null?null:ne(B,R,L,se,null);Ql(B,L)}return null}function fe(B,R,L,se,Ce){if(typeof se=="string"&&se!==""||typeof se=="number")return B=B.get(L)||null,v(R,B,""+se,Ce);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case q:return B=B.get(se.key===null?L:se.key)||null,T(R,B,se,Ce);case X:return B=B.get(se.key===null?L:se.key)||null,_(R,B,se,Ce);case G:var Te=se._init;return fe(B,R,L,Te(se._payload),Ce)}if(Sr(se)||F(se))return B=B.get(L)||null,ne(R,B,se,Ce,null);Ql(R,se)}return null}function be(B,R,L,se){for(var Ce=null,Te=null,Ne=R,Re=R=0,at=null;Ne!==null&&Re<L.length;Re++){Ne.index>Re?(at=Ne,Ne=null):at=Ne.sibling;var We=te(B,Ne,L[Re],se);if(We===null){Ne===null&&(Ne=at);break}e&&Ne&&We.alternate===null&&t(B,Ne),R=i(We,R,Re),Te===null?Ce=We:Te.sibling=We,Te=We,Ne=at}if(Re===L.length)return r(B,Ne),Ve&&Fn(B,Re),Ce;if(Ne===null){for(;Re<L.length;Re++)Ne=ae(B,L[Re],se),Ne!==null&&(R=i(Ne,R,Re),Te===null?Ce=Ne:Te.sibling=Ne,Te=Ne);return Ve&&Fn(B,Re),Ce}for(Ne=l(B,Ne);Re<L.length;Re++)at=fe(Ne,B,Re,L[Re],se),at!==null&&(e&&at.alternate!==null&&Ne.delete(at.key===null?Re:at.key),R=i(at,R,Re),Te===null?Ce=at:Te.sibling=at,Te=at);return e&&Ne.forEach(function(An){return t(B,An)}),Ve&&Fn(B,Re),Ce}function Se(B,R,L,se){var Ce=F(L);if(typeof Ce!="function")throw Error(s(150));if(L=Ce.call(L),L==null)throw Error(s(151));for(var Te=Ce=null,Ne=R,Re=R=0,at=null,We=L.next();Ne!==null&&!We.done;Re++,We=L.next()){Ne.index>Re?(at=Ne,Ne=null):at=Ne.sibling;var An=te(B,Ne,We.value,se);if(An===null){Ne===null&&(Ne=at);break}e&&Ne&&An.alternate===null&&t(B,Ne),R=i(An,R,Re),Te===null?Ce=An:Te.sibling=An,Te=An,Ne=at}if(We.done)return r(B,Ne),Ve&&Fn(B,Re),Ce;if(Ne===null){for(;!We.done;Re++,We=L.next())We=ae(B,We.value,se),We!==null&&(R=i(We,R,Re),Te===null?Ce=We:Te.sibling=We,Te=We);return Ve&&Fn(B,Re),Ce}for(Ne=l(B,Ne);!We.done;Re++,We=L.next())We=fe(Ne,B,Re,We.value,se),We!==null&&(e&&We.alternate!==null&&Ne.delete(We.key===null?Re:We.key),R=i(We,R,Re),Te===null?Ce=We:Te.sibling=We,Te=We);return e&&Ne.forEach(function(um){return t(B,um)}),Ve&&Fn(B,Re),Ce}function Je(B,R,L,se){if(typeof L=="object"&&L!==null&&L.type===xe&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case q:e:{for(var Ce=L.key,Te=R;Te!==null;){if(Te.key===Ce){if(Ce=L.type,Ce===xe){if(Te.tag===7){r(B,Te.sibling),R=a(Te,L.props.children),R.return=B,B=R;break e}}else if(Te.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===G&&sc(Ce)===Te.type){r(B,Te.sibling),R=a(Te,L.props),R.ref=Yr(B,Te,L),R.return=B,B=R;break e}r(B,Te);break}else t(B,Te);Te=Te.sibling}L.type===xe?(R=Gn(L.props.children,B.mode,se,L.key),R.return=B,B=R):(se=fo(L.type,L.key,L.props,null,B.mode,se),se.ref=Yr(B,R,L),se.return=B,B=se)}return u(B);case X:e:{for(Te=L.key;R!==null;){if(R.key===Te)if(R.tag===4&&R.stateNode.containerInfo===L.containerInfo&&R.stateNode.implementation===L.implementation){r(B,R.sibling),R=a(R,L.children||[]),R.return=B,B=R;break e}else{r(B,R);break}else t(B,R);R=R.sibling}R=fi(L,B.mode,se),R.return=B,B=R}return u(B);case G:return Te=L._init,Je(B,R,Te(L._payload),se)}if(Sr(L))return be(B,R,L,se);if(F(L))return Se(B,R,L,se);Ql(B,L)}return typeof L=="string"&&L!==""||typeof L=="number"?(L=""+L,R!==null&&R.tag===6?(r(B,R.sibling),R=a(R,L),R.return=B,B=R):(r(B,R),R=mi(L,B.mode,se),R.return=B,B=R),u(B)):r(B,R)}return Je}var ur=cc(!0),uc=cc(!1),Qr={},Qt=vn(Qr),qr=vn(Qr),Kr=vn(Qr);function Wn(e){if(e===Qr)throw Error(s(174));return e}function Aa(e,t){switch(je(Kr,t),je(qr,e),je(Qt,Qr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ro(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ro(t,e)}Ge(Qt),je(Qt,t)}function dr(){Ge(Qt),Ge(qr),Ge(Kr)}function dc(e){Wn(Kr.current);var t=Wn(Qt.current),r=Ro(t,e.type);t!==r&&(je(qr,e),je(Qt,r))}function Ba(e){qr.current===e&&(Ge(Qt),Ge(qr))}var Ye=vn(0);function ql(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Da=[];function za(){for(var e=0;e<Da.length;e++)Da[e]._workInProgressVersionPrimary=null;Da.length=0}var Kl=$.ReactCurrentDispatcher,La=$.ReactCurrentBatchConfig,$n=0,Qe=null,tt=null,lt=null,Xl=!1,Xr=!1,Jr=0,Bp=0;function pt(){throw Error(s(321))}function Ma(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!$t(e[r],t[r]))return!1;return!0}function Fa(e,t,r,l,a,i){if($n=i,Qe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Kl.current=e===null||e.memoizedState===null?Mp:Fp,e=r(l,a),Xr){i=0;do{if(Xr=!1,Jr=0,25<=i)throw Error(s(301));i+=1,lt=tt=null,t.updateQueue=null,Kl.current=Op,e=r(l,a)}while(Xr)}if(Kl.current=eo,t=tt!==null&&tt.next!==null,$n=0,lt=tt=Qe=null,Xl=!1,t)throw Error(s(300));return e}function Oa(){var e=Jr!==0;return Jr=0,e}function qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?Qe.memoizedState=lt=e:lt=lt.next=e,lt}function Lt(){if(tt===null){var e=Qe.alternate;e=e!==null?e.memoizedState:null}else e=tt.next;var t=lt===null?Qe.memoizedState:lt.next;if(t!==null)lt=t,tt=e;else{if(e===null)throw Error(s(310));tt=e,e={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},lt===null?Qe.memoizedState=lt=e:lt=lt.next=e}return lt}function Zr(e,t){return typeof t=="function"?t(e):t}function Wa(e){var t=Lt(),r=t.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var l=tt,a=l.baseQueue,i=r.pending;if(i!==null){if(a!==null){var u=a.next;a.next=i.next,i.next=u}l.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,l=l.baseState;var v=u=null,T=null,_=i;do{var ne=_.lane;if(($n&ne)===ne)T!==null&&(T=T.next={lane:0,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null}),l=_.hasEagerState?_.eagerState:e(l,_.action);else{var ae={lane:ne,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null};T===null?(v=T=ae,u=l):T=T.next=ae,Qe.lanes|=ne,_n|=ne}_=_.next}while(_!==null&&_!==i);T===null?u=l:T.next=v,$t(l,t.memoizedState)||(St=!0),t.memoizedState=l,t.baseState=u,t.baseQueue=T,r.lastRenderedState=l}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Qe.lanes|=i,_n|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function $a(e){var t=Lt(),r=t.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var l=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var u=a=a.next;do i=e(i,u.action),u=u.next;while(u!==a);$t(i,t.memoizedState)||(St=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,l]}function pc(){}function mc(e,t){var r=Qe,l=Lt(),a=t(),i=!$t(l.memoizedState,a);if(i&&(l.memoizedState=a,St=!0),l=l.queue,_a(yc.bind(null,r,l,e),[e]),l.getSnapshot!==t||i||lt!==null&&lt.memoizedState.tag&1){if(r.flags|=2048,el(9,gc.bind(null,r,l,a,t),void 0,null),ot===null)throw Error(s(349));($n&30)!==0||fc(r,t,a)}return a}function fc(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Qe.updateQueue,t===null?(t={lastEffect:null,stores:null},Qe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function gc(e,t,r,l){t.value=r,t.getSnapshot=l,hc(t)&&xc(e)}function yc(e,t,r){return r(function(){hc(t)&&xc(e)})}function hc(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!$t(e,r)}catch{return!0}}function xc(e){var t=ln(e,1);t!==null&&Gt(t,e,1,-1)}function Ec(e){var t=qt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:e},t.queue=e,e=e.dispatch=Lp.bind(null,Qe,e),[t.memoizedState,e]}function el(e,t,r,l){return e={tag:e,create:t,destroy:r,deps:l,next:null},t=Qe.updateQueue,t===null?(t={lastEffect:null,stores:null},Qe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(l=r.next,r.next=e,e.next=l,t.lastEffect=e)),e}function vc(){return Lt().memoizedState}function Jl(e,t,r,l){var a=qt();Qe.flags|=e,a.memoizedState=el(1|t,r,void 0,l===void 0?null:l)}function Zl(e,t,r,l){var a=Lt();l=l===void 0?null:l;var i=void 0;if(tt!==null){var u=tt.memoizedState;if(i=u.destroy,l!==null&&Ma(l,u.deps)){a.memoizedState=el(t,r,i,l);return}}Qe.flags|=e,a.memoizedState=el(1|t,r,i,l)}function bc(e,t){return Jl(8390656,8,e,t)}function _a(e,t){return Zl(2048,8,e,t)}function Sc(e,t){return Zl(4,2,e,t)}function wc(e,t){return Zl(4,4,e,t)}function kc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Cc(e,t,r){return r=r!=null?r.concat([e]):null,Zl(4,4,kc.bind(null,t,e),r)}function Ua(){}function Tc(e,t){var r=Lt();t=t===void 0?null:t;var l=r.memoizedState;return l!==null&&t!==null&&Ma(t,l[1])?l[0]:(r.memoizedState=[e,t],e)}function Nc(e,t){var r=Lt();t=t===void 0?null:t;var l=r.memoizedState;return l!==null&&t!==null&&Ma(t,l[1])?l[0]:(e=e(),r.memoizedState=[e,t],e)}function Ic(e,t,r){return($n&21)===0?(e.baseState&&(e.baseState=!1,St=!0),e.memoizedState=r):($t(r,t)||(r=es(),Qe.lanes|=r,_n|=r,e.baseState=!0),t)}function Dp(e,t){var r=_e;_e=r!==0&&4>r?r:4,e(!0);var l=La.transition;La.transition={};try{e(!1),t()}finally{_e=r,La.transition=l}}function Pc(){return Lt().memoizedState}function zp(e,t,r){var l=In(e);if(r={lane:l,action:r,hasEagerState:!1,eagerState:null,next:null},Rc(e))Ac(t,r);else if(r=ec(e,t,r,l),r!==null){var a=xt();Gt(r,e,l,a),Bc(r,t,l)}}function Lp(e,t,r){var l=In(e),a={lane:l,action:r,hasEagerState:!1,eagerState:null,next:null};if(Rc(e))Ac(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var u=t.lastRenderedState,v=i(u,r);if(a.hasEagerState=!0,a.eagerState=v,$t(v,u)){var T=t.interleaved;T===null?(a.next=a,Na(t)):(a.next=T.next,T.next=a),t.interleaved=a;return}}catch{}finally{}r=ec(e,t,a,l),r!==null&&(a=xt(),Gt(r,e,l,a),Bc(r,t,l))}}function Rc(e){var t=e.alternate;return e===Qe||t!==null&&t===Qe}function Ac(e,t){Xr=Xl=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Bc(e,t,r){if((r&4194240)!==0){var l=t.lanes;l&=e.pendingLanes,r|=l,t.lanes=r,Uo(e,r)}}var eo={readContext:zt,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useInsertionEffect:pt,useLayoutEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useMutableSource:pt,useSyncExternalStore:pt,useId:pt,unstable_isNewReconciler:!1},Mp={readContext:zt,useCallback:function(e,t){return qt().memoizedState=[e,t===void 0?null:t],e},useContext:zt,useEffect:bc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Jl(4194308,4,kc.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Jl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Jl(4,2,e,t)},useMemo:function(e,t){var r=qt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var l=qt();return t=r!==void 0?r(t):t,l.memoizedState=l.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},l.queue=e,e=e.dispatch=zp.bind(null,Qe,e),[l.memoizedState,e]},useRef:function(e){var t=qt();return e={current:e},t.memoizedState=e},useState:Ec,useDebugValue:Ua,useDeferredValue:function(e){return qt().memoizedState=e},useTransition:function(){var e=Ec(!1),t=e[0];return e=Dp.bind(null,e[1]),qt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var l=Qe,a=qt();if(Ve){if(r===void 0)throw Error(s(407));r=r()}else{if(r=t(),ot===null)throw Error(s(349));($n&30)!==0||fc(l,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,bc(yc.bind(null,l,i,e),[e]),l.flags|=2048,el(9,gc.bind(null,l,i,r,t),void 0,null),r},useId:function(){var e=qt(),t=ot.identifierPrefix;if(Ve){var r=rn,l=nn;r=(l&~(1<<32-Wt(l)-1)).toString(32)+r,t=":"+t+"R"+r,r=Jr++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Bp++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Fp={readContext:zt,useCallback:Tc,useContext:zt,useEffect:_a,useImperativeHandle:Cc,useInsertionEffect:Sc,useLayoutEffect:wc,useMemo:Nc,useReducer:Wa,useRef:vc,useState:function(){return Wa(Zr)},useDebugValue:Ua,useDeferredValue:function(e){var t=Lt();return Ic(t,tt.memoizedState,e)},useTransition:function(){var e=Wa(Zr)[0],t=Lt().memoizedState;return[e,t]},useMutableSource:pc,useSyncExternalStore:mc,useId:Pc,unstable_isNewReconciler:!1},Op={readContext:zt,useCallback:Tc,useContext:zt,useEffect:_a,useImperativeHandle:Cc,useInsertionEffect:Sc,useLayoutEffect:wc,useMemo:Nc,useReducer:$a,useRef:vc,useState:function(){return $a(Zr)},useDebugValue:Ua,useDeferredValue:function(e){var t=Lt();return tt===null?t.memoizedState=e:Ic(t,tt.memoizedState,e)},useTransition:function(){var e=$a(Zr)[0],t=Lt().memoizedState;return[e,t]},useMutableSource:pc,useSyncExternalStore:mc,useId:Pc,unstable_isNewReconciler:!1};function pr(e,t){try{var r="",l=t;do r+=ke(l),l=l.return;while(l);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function ja(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Ha(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Wp=typeof WeakMap=="function"?WeakMap:Map;function Dc(e,t,r){r=on(-1,r),r.tag=3,r.payload={element:null};var l=t.value;return r.callback=function(){io||(io=!0,oi=l),Ha(e,t)},r}function zc(e,t,r){r=on(-1,r),r.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var a=t.value;r.payload=function(){return l(a)},r.callback=function(){Ha(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Ha(e,t),typeof l!="function"&&(Tn===null?Tn=new Set([this]):Tn.add(this));var u=t.stack;this.componentDidCatch(t.value,{componentStack:u!==null?u:""})}),r}function Lc(e,t,r){var l=e.pingCache;if(l===null){l=e.pingCache=new Wp;var a=new Set;l.set(t,a)}else a=l.get(t),a===void 0&&(a=new Set,l.set(t,a));a.has(r)||(a.add(r),e=Zp.bind(null,e,t,r),t.then(e,e))}function Mc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Fc(e,t,r,l,a){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=on(-1,1),t.tag=2,kn(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var $p=$.ReactCurrentOwner,St=!1;function ht(e,t,r,l){t.child=e===null?uc(t,null,r,l):ur(t,e.child,r,l)}function Oc(e,t,r,l,a){r=r.render;var i=t.ref;return cr(t,a),l=Fa(e,t,r,l,i,a),r=Oa(),e!==null&&!St?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,an(e,t,a)):(Ve&&r&&xa(t),t.flags|=1,ht(e,t,l,a),t.child)}function Wc(e,t,r,l,a){if(e===null){var i=r.type;return typeof i=="function"&&!pi(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,$c(e,t,i,l,a)):(e=fo(r.type,null,l,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,(e.lanes&a)===0){var u=i.memoizedProps;if(r=r.compare,r=r!==null?r:$r,r(u,l)&&e.ref===t.ref)return an(e,t,a)}return t.flags|=1,e=Rn(i,l),e.ref=t.ref,e.return=t,t.child=e}function $c(e,t,r,l,a){if(e!==null){var i=e.memoizedProps;if($r(i,l)&&e.ref===t.ref)if(St=!1,t.pendingProps=l=i,(e.lanes&a)!==0)(e.flags&131072)!==0&&(St=!0);else return t.lanes=e.lanes,an(e,t,a)}return Ga(e,t,r,l,a)}function _c(e,t,r){var l=t.pendingProps,a=l.children,i=e!==null?e.memoizedState:null;if(l.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(fr,At),At|=r;else{if((r&1073741824)===0)return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,je(fr,At),At|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=i!==null?i.baseLanes:r,je(fr,At),At|=l}else i!==null?(l=i.baseLanes|r,t.memoizedState=null):l=r,je(fr,At),At|=l;return ht(e,t,a,r),t.child}function Uc(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ga(e,t,r,l,a){var i=bt(r)?Ln:dt.current;return i=lr(t,i),cr(t,a),r=Fa(e,t,r,l,i,a),l=Oa(),e!==null&&!St?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,an(e,t,a)):(Ve&&l&&xa(t),t.flags|=1,ht(e,t,r,a),t.child)}function jc(e,t,r,l,a){if(bt(r)){var i=!0;Ol(t)}else i=!1;if(cr(t,a),t.stateNode===null)no(e,t),ac(t,r,l),Ra(t,r,l,a),l=!0;else if(e===null){var u=t.stateNode,v=t.memoizedProps;u.props=v;var T=u.context,_=r.contextType;typeof _=="object"&&_!==null?_=zt(_):(_=bt(r)?Ln:dt.current,_=lr(t,_));var ne=r.getDerivedStateFromProps,ae=typeof ne=="function"||typeof u.getSnapshotBeforeUpdate=="function";ae||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(v!==l||T!==_)&&ic(t,u,l,_),wn=!1;var te=t.memoizedState;u.state=te,Vl(t,l,u,a),T=t.memoizedState,v!==l||te!==T||vt.current||wn?(typeof ne=="function"&&(Pa(t,r,ne,l),T=t.memoizedState),(v=wn||oc(t,r,v,l,te,T,_))?(ae||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=T),u.props=l,u.state=T,u.context=_,l=v):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{u=t.stateNode,tc(e,t),v=t.memoizedProps,_=t.type===t.elementType?v:Ut(t.type,v),u.props=_,ae=t.pendingProps,te=u.context,T=r.contextType,typeof T=="object"&&T!==null?T=zt(T):(T=bt(r)?Ln:dt.current,T=lr(t,T));var fe=r.getDerivedStateFromProps;(ne=typeof fe=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(v!==ae||te!==T)&&ic(t,u,l,T),wn=!1,te=t.memoizedState,u.state=te,Vl(t,l,u,a);var be=t.memoizedState;v!==ae||te!==be||vt.current||wn?(typeof fe=="function"&&(Pa(t,r,fe,l),be=t.memoizedState),(_=wn||oc(t,r,_,l,te,be,T)||!1)?(ne||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(l,be,T),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(l,be,T)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||v===e.memoizedProps&&te===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&te===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=be),u.props=l,u.state=be,u.context=T,l=_):(typeof u.componentDidUpdate!="function"||v===e.memoizedProps&&te===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&te===e.memoizedState||(t.flags|=1024),l=!1)}return Va(e,t,r,l,i,a)}function Va(e,t,r,l,a,i){Uc(e,t);var u=(t.flags&128)!==0;if(!l&&!u)return a&&Ys(t,r,!1),an(e,t,i);l=t.stateNode,$p.current=t;var v=u&&typeof r.getDerivedStateFromError!="function"?null:l.render();return t.flags|=1,e!==null&&u?(t.child=ur(t,e.child,null,i),t.child=ur(t,null,v,i)):ht(e,t,v,i),t.memoizedState=l.state,a&&Ys(t,r,!0),t.child}function Hc(e){var t=e.stateNode;t.pendingContext?Gs(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Gs(e,t.context,!1),Aa(e,t.containerInfo)}function Gc(e,t,r,l,a){return ir(),Sa(a),t.flags|=256,ht(e,t,r,l),t.child}var Ya={dehydrated:null,treeContext:null,retryLane:0};function Qa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Vc(e,t,r){var l=t.pendingProps,a=Ye.current,i=!1,u=(t.flags&128)!==0,v;if((v=u)||(v=e!==null&&e.memoizedState===null?!1:(a&2)!==0),v?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),je(Ye,a&1),e===null)return ba(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(u=l.children,e=l.fallback,i?(l=t.mode,i=t.child,u={mode:"hidden",children:u},(l&1)===0&&i!==null?(i.childLanes=0,i.pendingProps=u):i=go(u,l,0,null),e=Gn(e,l,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Qa(r),t.memoizedState=Ya,e):qa(t,u));if(a=e.memoizedState,a!==null&&(v=a.dehydrated,v!==null))return _p(e,t,u,l,v,a,r);if(i){i=l.fallback,u=t.mode,a=e.child,v=a.sibling;var T={mode:"hidden",children:l.children};return(u&1)===0&&t.child!==a?(l=t.child,l.childLanes=0,l.pendingProps=T,t.deletions=null):(l=Rn(a,T),l.subtreeFlags=a.subtreeFlags&14680064),v!==null?i=Rn(v,i):(i=Gn(i,u,r,null),i.flags|=2),i.return=t,l.return=t,l.sibling=i,t.child=l,l=i,i=t.child,u=e.child.memoizedState,u=u===null?Qa(r):{baseLanes:u.baseLanes|r,cachePool:null,transitions:u.transitions},i.memoizedState=u,i.childLanes=e.childLanes&~r,t.memoizedState=Ya,l}return i=e.child,e=i.sibling,l=Rn(i,{mode:"visible",children:l.children}),(t.mode&1)===0&&(l.lanes=r),l.return=t,l.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=l,t.memoizedState=null,l}function qa(e,t){return t=go({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function to(e,t,r,l){return l!==null&&Sa(l),ur(t,e.child,null,r),e=qa(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function _p(e,t,r,l,a,i,u){if(r)return t.flags&256?(t.flags&=-257,l=ja(Error(s(422))),to(e,t,u,l)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=l.fallback,a=t.mode,l=go({mode:"visible",children:l.children},a,0,null),i=Gn(i,a,u,null),i.flags|=2,l.return=t,i.return=t,l.sibling=i,t.child=l,(t.mode&1)!==0&&ur(t,e.child,null,u),t.child.memoizedState=Qa(u),t.memoizedState=Ya,i);if((t.mode&1)===0)return to(e,t,u,null);if(a.data==="$!"){if(l=a.nextSibling&&a.nextSibling.dataset,l)var v=l.dgst;return l=v,i=Error(s(419)),l=ja(i,l,void 0),to(e,t,u,l)}if(v=(u&e.childLanes)!==0,St||v){if(l=ot,l!==null){switch(u&-u){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=(a&(l.suspendedLanes|u))!==0?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,ln(e,a),Gt(l,e,a,-1))}return di(),l=ja(Error(s(421))),to(e,t,u,l)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=em.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Rt=En(a.nextSibling),Pt=t,Ve=!0,_t=null,e!==null&&(Bt[Dt++]=nn,Bt[Dt++]=rn,Bt[Dt++]=Mn,nn=e.id,rn=e.overflow,Mn=t),t=qa(t,l.children),t.flags|=4096,t)}function Yc(e,t,r){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Ta(e.return,t,r)}function Ka(e,t,r,l,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=l,i.tail=r,i.tailMode=a)}function Qc(e,t,r){var l=t.pendingProps,a=l.revealOrder,i=l.tail;if(ht(e,t,l.children,r),l=Ye.current,(l&2)!==0)l=l&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yc(e,r,t);else if(e.tag===19)Yc(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(je(Ye,l),(t.mode&1)===0)t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&ql(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Ka(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&ql(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Ka(t,!0,r,null,i);break;case"together":Ka(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function no(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function an(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),_n|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,r=Rn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Rn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Up(e,t,r){switch(t.tag){case 3:Hc(t),ir();break;case 5:dc(t);break;case 1:bt(t.type)&&Ol(t);break;case 4:Aa(t,t.stateNode.containerInfo);break;case 10:var l=t.type._context,a=t.memoizedProps.value;je(jl,l._currentValue),l._currentValue=a;break;case 13:if(l=t.memoizedState,l!==null)return l.dehydrated!==null?(je(Ye,Ye.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?Vc(e,t,r):(je(Ye,Ye.current&1),e=an(e,t,r),e!==null?e.sibling:null);je(Ye,Ye.current&1);break;case 19:if(l=(r&t.childLanes)!==0,(e.flags&128)!==0){if(l)return Qc(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),je(Ye,Ye.current),l)break;return null;case 22:case 23:return t.lanes=0,_c(e,t,r)}return an(e,t,r)}var qc,Xa,Kc,Xc;qc=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Xa=function(){},Kc=function(e,t,r,l){var a=e.memoizedProps;if(a!==l){e=t.stateNode,Wn(Qt.current);var i=null;switch(r){case"input":a=Fe(e,a),l=Fe(e,l),i=[];break;case"select":a=p({},a,{value:void 0}),l=p({},l,{value:void 0}),i=[];break;case"textarea":a=Po(e,a),l=Po(e,l),i=[];break;default:typeof a.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=Ll)}Ao(r,l);var u;r=null;for(_ in a)if(!l.hasOwnProperty(_)&&a.hasOwnProperty(_)&&a[_]!=null)if(_==="style"){var v=a[_];for(u in v)v.hasOwnProperty(u)&&(r||(r={}),r[u]="")}else _!=="dangerouslySetInnerHTML"&&_!=="children"&&_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(m.hasOwnProperty(_)?i||(i=[]):(i=i||[]).push(_,null));for(_ in l){var T=l[_];if(v=a?.[_],l.hasOwnProperty(_)&&T!==v&&(T!=null||v!=null))if(_==="style")if(v){for(u in v)!v.hasOwnProperty(u)||T&&T.hasOwnProperty(u)||(r||(r={}),r[u]="");for(u in T)T.hasOwnProperty(u)&&v[u]!==T[u]&&(r||(r={}),r[u]=T[u])}else r||(i||(i=[]),i.push(_,r)),r=T;else _==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,v=v?v.__html:void 0,T!=null&&v!==T&&(i=i||[]).push(_,T)):_==="children"?typeof T!="string"&&typeof T!="number"||(i=i||[]).push(_,""+T):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&(m.hasOwnProperty(_)?(T!=null&&_==="onScroll"&&He("scroll",e),i||v===T||(i=[])):(i=i||[]).push(_,T))}r&&(i=i||[]).push("style",r);var _=i;(t.updateQueue=_)&&(t.flags|=4)}},Xc=function(e,t,r,l){r!==l&&(t.flags|=4)};function tl(e,t){if(!Ve)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function mt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,l=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,l|=a.subtreeFlags&14680064,l|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,l|=a.subtreeFlags,l|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=l,e.childLanes=r,t}function jp(e,t,r){var l=t.pendingProps;switch(Ea(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(t),null;case 1:return bt(t.type)&&Fl(),mt(t),null;case 3:return l=t.stateNode,dr(),Ge(vt),Ge(dt),za(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Ul(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,_t!==null&&(si(_t),_t=null))),Xa(e,t),mt(t),null;case 5:Ba(t);var a=Wn(Kr.current);if(r=t.type,e!==null&&t.stateNode!=null)Kc(e,t,r,l,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!l){if(t.stateNode===null)throw Error(s(166));return mt(t),null}if(e=Wn(Qt.current),Ul(t)){l=t.stateNode,r=t.type;var i=t.memoizedProps;switch(l[Yt]=t,l[Gr]=i,e=(t.mode&1)!==0,r){case"dialog":He("cancel",l),He("close",l);break;case"iframe":case"object":case"embed":He("load",l);break;case"video":case"audio":for(a=0;a<Ur.length;a++)He(Ur[a],l);break;case"source":He("error",l);break;case"img":case"image":case"link":He("error",l),He("load",l);break;case"details":He("toggle",l);break;case"input":Ze(l,i),He("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!i.multiple},He("invalid",l);break;case"textarea":Di(l,i),He("invalid",l)}Ao(r,i),a=null;for(var u in i)if(i.hasOwnProperty(u)){var v=i[u];u==="children"?typeof v=="string"?l.textContent!==v&&(i.suppressHydrationWarning!==!0&&zl(l.textContent,v,e),a=["children",v]):typeof v=="number"&&l.textContent!==""+v&&(i.suppressHydrationWarning!==!0&&zl(l.textContent,v,e),a=["children",""+v]):m.hasOwnProperty(u)&&v!=null&&u==="onScroll"&&He("scroll",l)}switch(r){case"input":De(l),Ot(l,i,!0);break;case"textarea":De(l),Li(l);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(l.onclick=Ll)}l=a,t.updateQueue=l,l!==null&&(t.flags|=4)}else{u=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Mi(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=u.createElement(r,{is:l.is}):(e=u.createElement(r),r==="select"&&(u=e,l.multiple?u.multiple=!0:l.size&&(u.size=l.size))):e=u.createElementNS(e,r),e[Yt]=t,e[Gr]=l,qc(e,t,!1,!1),t.stateNode=e;e:{switch(u=Bo(r,l),r){case"dialog":He("cancel",e),He("close",e),a=l;break;case"iframe":case"object":case"embed":He("load",e),a=l;break;case"video":case"audio":for(a=0;a<Ur.length;a++)He(Ur[a],e);a=l;break;case"source":He("error",e),a=l;break;case"img":case"image":case"link":He("error",e),He("load",e),a=l;break;case"details":He("toggle",e),a=l;break;case"input":Ze(e,l),a=Fe(e,l),He("invalid",e);break;case"option":a=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},a=p({},l,{value:void 0}),He("invalid",e);break;case"textarea":Di(e,l),a=Po(e,l),He("invalid",e);break;default:a=l}Ao(r,a),v=a;for(i in v)if(v.hasOwnProperty(i)){var T=v[i];i==="style"?Wi(e,T):i==="dangerouslySetInnerHTML"?(T=T?T.__html:void 0,T!=null&&Fi(e,T)):i==="children"?typeof T=="string"?(r!=="textarea"||T!=="")&&wr(e,T):typeof T=="number"&&wr(e,""+T):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(m.hasOwnProperty(i)?T!=null&&i==="onScroll"&&He("scroll",e):T!=null&&H(e,i,T,u))}switch(r){case"input":De(e),Ot(e,l,!1);break;case"textarea":De(e),Li(e);break;case"option":l.value!=null&&e.setAttribute("value",""+Pe(l.value));break;case"select":e.multiple=!!l.multiple,i=l.value,i!=null?Vn(e,!!l.multiple,i,!1):l.defaultValue!=null&&Vn(e,!!l.multiple,l.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Ll)}switch(r){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return mt(t),null;case 6:if(e&&t.stateNode!=null)Xc(e,t,e.memoizedProps,l);else{if(typeof l!="string"&&t.stateNode===null)throw Error(s(166));if(r=Wn(Kr.current),Wn(Qt.current),Ul(t)){if(l=t.stateNode,r=t.memoizedProps,l[Yt]=t,(i=l.nodeValue!==r)&&(e=Pt,e!==null))switch(e.tag){case 3:zl(l.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&zl(l.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else l=(r.nodeType===9?r:r.ownerDocument).createTextNode(l),l[Yt]=t,t.stateNode=l}return mt(t),null;case 13:if(Ge(Ye),l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ve&&Rt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Zs(),ir(),t.flags|=98560,i=!1;else if(i=Ul(t),l!==null&&l.dehydrated!==null){if(e===null){if(!i)throw Error(s(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));i[Yt]=t}else ir(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;mt(t),i=!1}else _t!==null&&(si(_t),_t=null),i=!0;if(!i)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ye.current&1)!==0?nt===0&&(nt=3):di())),t.updateQueue!==null&&(t.flags|=4),mt(t),null);case 4:return dr(),Xa(e,t),e===null&&jr(t.stateNode.containerInfo),mt(t),null;case 10:return Ca(t.type._context),mt(t),null;case 17:return bt(t.type)&&Fl(),mt(t),null;case 19:if(Ge(Ye),i=t.memoizedState,i===null)return mt(t),null;if(l=(t.flags&128)!==0,u=i.rendering,u===null)if(l)tl(i,!1);else{if(nt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=ql(e),u!==null){for(t.flags|=128,tl(i,!1),l=u.updateQueue,l!==null&&(t.updateQueue=l,t.flags|=4),t.subtreeFlags=0,l=r,r=t.child;r!==null;)i=r,e=l,i.flags&=14680066,u=i.alternate,u===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,e=u.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return je(Ye,Ye.current&1|2),t.child}e=e.sibling}i.tail!==null&&Xe()>gr&&(t.flags|=128,l=!0,tl(i,!1),t.lanes=4194304)}else{if(!l)if(e=ql(u),e!==null){if(t.flags|=128,l=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),tl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!u.alternate&&!Ve)return mt(t),null}else 2*Xe()-i.renderingStartTime>gr&&r!==1073741824&&(t.flags|=128,l=!0,tl(i,!1),t.lanes=4194304);i.isBackwards?(u.sibling=t.child,t.child=u):(r=i.last,r!==null?r.sibling=u:t.child=u,i.last=u)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Xe(),t.sibling=null,r=Ye.current,je(Ye,l?r&1|2:r&1),t):(mt(t),null);case 22:case 23:return ui(),l=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(t.flags|=8192),l&&(t.mode&1)!==0?(At&1073741824)!==0&&(mt(t),t.subtreeFlags&6&&(t.flags|=8192)):mt(t),null;case 24:return null;case 25:return null}throw Error(s(156,t.tag))}function Hp(e,t){switch(Ea(t),t.tag){case 1:return bt(t.type)&&Fl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return dr(),Ge(vt),Ge(dt),za(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Ba(t),null;case 13:if(Ge(Ye),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));ir()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ge(Ye),null;case 4:return dr(),null;case 10:return Ca(t.type._context),null;case 22:case 23:return ui(),null;case 24:return null;default:return null}}var ro=!1,ft=!1,Gp=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function mr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(l){Ke(e,t,l)}else r.current=null}function Ja(e,t,r){try{r()}catch(l){Ke(e,t,l)}}var Jc=!1;function Vp(e,t){if(ua=wl,e=Ps(),na(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var a=l.anchorOffset,i=l.focusNode;l=l.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var u=0,v=-1,T=-1,_=0,ne=0,ae=e,te=null;t:for(;;){for(var fe;ae!==r||a!==0&&ae.nodeType!==3||(v=u+a),ae!==i||l!==0&&ae.nodeType!==3||(T=u+l),ae.nodeType===3&&(u+=ae.nodeValue.length),(fe=ae.firstChild)!==null;)te=ae,ae=fe;for(;;){if(ae===e)break t;if(te===r&&++_===a&&(v=u),te===i&&++ne===l&&(T=u),(fe=ae.nextSibling)!==null)break;ae=te,te=ae.parentNode}ae=fe}r=v===-1||T===-1?null:{start:v,end:T}}else r=null}r=r||{start:0,end:0}}else r=null;for(da={focusedElem:e,selectionRange:r},wl=!1,Ee=t;Ee!==null;)if(t=Ee,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ee=e;else for(;Ee!==null;){t=Ee;try{var be=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(be!==null){var Se=be.memoizedProps,Je=be.memoizedState,B=t.stateNode,R=B.getSnapshotBeforeUpdate(t.elementType===t.type?Se:Ut(t.type,Se),Je);B.__reactInternalSnapshotBeforeUpdate=R}break;case 3:var L=t.stateNode.containerInfo;L.nodeType===1?L.textContent="":L.nodeType===9&&L.documentElement&&L.removeChild(L.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(se){Ke(t,t.return,se)}if(e=t.sibling,e!==null){e.return=t.return,Ee=e;break}Ee=t.return}return be=Jc,Jc=!1,be}function nl(e,t,r){var l=t.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var a=l=l.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Ja(t,r,i)}a=a.next}while(a!==l)}}function lo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var l=r.create;r.destroy=l()}r=r.next}while(r!==t)}}function Za(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Zc(e){var t=e.alternate;t!==null&&(e.alternate=null,Zc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Yt],delete t[Gr],delete t[ga],delete t[Ip],delete t[Pp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function eu(e){return e.tag===5||e.tag===3||e.tag===4}function tu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||eu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ei(e,t,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ll));else if(l!==4&&(e=e.child,e!==null))for(ei(e,t,r),e=e.sibling;e!==null;)ei(e,t,r),e=e.sibling}function ti(e,t,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(ti(e,t,r),e=e.sibling;e!==null;)ti(e,t,r),e=e.sibling}var ct=null,jt=!1;function Cn(e,t,r){for(r=r.child;r!==null;)nu(e,t,r),r=r.sibling}function nu(e,t,r){if(Vt&&typeof Vt.onCommitFiberUnmount=="function")try{Vt.onCommitFiberUnmount(hl,r)}catch{}switch(r.tag){case 5:ft||mr(r,t);case 6:var l=ct,a=jt;ct=null,Cn(e,t,r),ct=l,jt=a,ct!==null&&(jt?(e=ct,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ct.removeChild(r.stateNode));break;case 18:ct!==null&&(jt?(e=ct,r=r.stateNode,e.nodeType===8?fa(e.parentNode,r):e.nodeType===1&&fa(e,r),zr(e)):fa(ct,r.stateNode));break;case 4:l=ct,a=jt,ct=r.stateNode.containerInfo,jt=!0,Cn(e,t,r),ct=l,jt=a;break;case 0:case 11:case 14:case 15:if(!ft&&(l=r.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){a=l=l.next;do{var i=a,u=i.destroy;i=i.tag,u!==void 0&&((i&2)!==0||(i&4)!==0)&&Ja(r,t,u),a=a.next}while(a!==l)}Cn(e,t,r);break;case 1:if(!ft&&(mr(r,t),l=r.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=r.memoizedProps,l.state=r.memoizedState,l.componentWillUnmount()}catch(v){Ke(r,t,v)}Cn(e,t,r);break;case 21:Cn(e,t,r);break;case 22:r.mode&1?(ft=(l=ft)||r.memoizedState!==null,Cn(e,t,r),ft=l):Cn(e,t,r);break;default:Cn(e,t,r)}}function ru(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Gp),t.forEach(function(l){var a=tm.bind(null,e,l);r.has(l)||(r.add(l),l.then(a,a))})}}function Ht(e,t){var r=t.deletions;if(r!==null)for(var l=0;l<r.length;l++){var a=r[l];try{var i=e,u=t,v=u;e:for(;v!==null;){switch(v.tag){case 5:ct=v.stateNode,jt=!1;break e;case 3:ct=v.stateNode.containerInfo,jt=!0;break e;case 4:ct=v.stateNode.containerInfo,jt=!0;break e}v=v.return}if(ct===null)throw Error(s(160));nu(i,u,a),ct=null,jt=!1;var T=a.alternate;T!==null&&(T.return=null),a.return=null}catch(_){Ke(a,t,_)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)lu(t,e),t=t.sibling}function lu(e,t){var r=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ht(t,e),Kt(e),l&4){try{nl(3,e,e.return),lo(3,e)}catch(Se){Ke(e,e.return,Se)}try{nl(5,e,e.return)}catch(Se){Ke(e,e.return,Se)}}break;case 1:Ht(t,e),Kt(e),l&512&&r!==null&&mr(r,r.return);break;case 5:if(Ht(t,e),Kt(e),l&512&&r!==null&&mr(r,r.return),e.flags&32){var a=e.stateNode;try{wr(a,"")}catch(Se){Ke(e,e.return,Se)}}if(l&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,u=r!==null?r.memoizedProps:i,v=e.type,T=e.updateQueue;if(e.updateQueue=null,T!==null)try{v==="input"&&i.type==="radio"&&i.name!=null&&yt(a,i),Bo(v,u);var _=Bo(v,i);for(u=0;u<T.length;u+=2){var ne=T[u],ae=T[u+1];ne==="style"?Wi(a,ae):ne==="dangerouslySetInnerHTML"?Fi(a,ae):ne==="children"?wr(a,ae):H(a,ne,ae,_)}switch(v){case"input":$e(a,i);break;case"textarea":zi(a,i);break;case"select":var te=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var fe=i.value;fe!=null?Vn(a,!!i.multiple,fe,!1):te!==!!i.multiple&&(i.defaultValue!=null?Vn(a,!!i.multiple,i.defaultValue,!0):Vn(a,!!i.multiple,i.multiple?[]:"",!1))}a[Gr]=i}catch(Se){Ke(e,e.return,Se)}}break;case 6:if(Ht(t,e),Kt(e),l&4){if(e.stateNode===null)throw Error(s(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(Se){Ke(e,e.return,Se)}}break;case 3:if(Ht(t,e),Kt(e),l&4&&r!==null&&r.memoizedState.isDehydrated)try{zr(t.containerInfo)}catch(Se){Ke(e,e.return,Se)}break;case 4:Ht(t,e),Kt(e);break;case 13:Ht(t,e),Kt(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(li=Xe())),l&4&&ru(e);break;case 22:if(ne=r!==null&&r.memoizedState!==null,e.mode&1?(ft=(_=ft)||ne,Ht(t,e),ft=_):Ht(t,e),Kt(e),l&8192){if(_=e.memoizedState!==null,(e.stateNode.isHidden=_)&&!ne&&(e.mode&1)!==0)for(Ee=e,ne=e.child;ne!==null;){for(ae=Ee=ne;Ee!==null;){switch(te=Ee,fe=te.child,te.tag){case 0:case 11:case 14:case 15:nl(4,te,te.return);break;case 1:mr(te,te.return);var be=te.stateNode;if(typeof be.componentWillUnmount=="function"){l=te,r=te.return;try{t=l,be.props=t.memoizedProps,be.state=t.memoizedState,be.componentWillUnmount()}catch(Se){Ke(l,r,Se)}}break;case 5:mr(te,te.return);break;case 22:if(te.memoizedState!==null){iu(ae);continue}}fe!==null?(fe.return=te,Ee=fe):iu(ae)}ne=ne.sibling}e:for(ne=null,ae=e;;){if(ae.tag===5){if(ne===null){ne=ae;try{a=ae.stateNode,_?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(v=ae.stateNode,T=ae.memoizedProps.style,u=T!=null&&T.hasOwnProperty("display")?T.display:null,v.style.display=Oi("display",u))}catch(Se){Ke(e,e.return,Se)}}}else if(ae.tag===6){if(ne===null)try{ae.stateNode.nodeValue=_?"":ae.memoizedProps}catch(Se){Ke(e,e.return,Se)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===e)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===e)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===e)break e;ne===ae&&(ne=null),ae=ae.return}ne===ae&&(ne=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:Ht(t,e),Kt(e),l&4&&ru(e);break;case 21:break;default:Ht(t,e),Kt(e)}}function Kt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(eu(r)){var l=r;break e}r=r.return}throw Error(s(160))}switch(l.tag){case 5:var a=l.stateNode;l.flags&32&&(wr(a,""),l.flags&=-33);var i=tu(e);ti(e,i,a);break;case 3:case 4:var u=l.stateNode.containerInfo,v=tu(e);ei(e,v,u);break;default:throw Error(s(161))}}catch(T){Ke(e,e.return,T)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Yp(e,t,r){Ee=e,ou(e)}function ou(e,t,r){for(var l=(e.mode&1)!==0;Ee!==null;){var a=Ee,i=a.child;if(a.tag===22&&l){var u=a.memoizedState!==null||ro;if(!u){var v=a.alternate,T=v!==null&&v.memoizedState!==null||ft;v=ro;var _=ft;if(ro=u,(ft=T)&&!_)for(Ee=a;Ee!==null;)u=Ee,T=u.child,u.tag===22&&u.memoizedState!==null?su(a):T!==null?(T.return=u,Ee=T):su(a);for(;i!==null;)Ee=i,ou(i),i=i.sibling;Ee=a,ro=v,ft=_}au(e)}else(a.subtreeFlags&8772)!==0&&i!==null?(i.return=a,Ee=i):au(e)}}function au(e){for(;Ee!==null;){var t=Ee;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:ft||lo(5,t);break;case 1:var l=t.stateNode;if(t.flags&4&&!ft)if(r===null)l.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Ut(t.type,r.memoizedProps);l.componentDidUpdate(a,r.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&rc(t,i,l);break;case 3:var u=t.updateQueue;if(u!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}rc(t,u,r)}break;case 5:var v=t.stateNode;if(r===null&&t.flags&4){r=v;var T=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":T.autoFocus&&r.focus();break;case"img":T.src&&(r.src=T.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var _=t.alternate;if(_!==null){var ne=_.memoizedState;if(ne!==null){var ae=ne.dehydrated;ae!==null&&zr(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}ft||t.flags&512&&Za(t)}catch(te){Ke(t,t.return,te)}}if(t===e){Ee=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ee=r;break}Ee=t.return}}function iu(e){for(;Ee!==null;){var t=Ee;if(t===e){Ee=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ee=r;break}Ee=t.return}}function su(e){for(;Ee!==null;){var t=Ee;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{lo(4,t)}catch(T){Ke(t,r,T)}break;case 1:var l=t.stateNode;if(typeof l.componentDidMount=="function"){var a=t.return;try{l.componentDidMount()}catch(T){Ke(t,a,T)}}var i=t.return;try{Za(t)}catch(T){Ke(t,i,T)}break;case 5:var u=t.return;try{Za(t)}catch(T){Ke(t,u,T)}}}catch(T){Ke(t,t.return,T)}if(t===e){Ee=null;break}var v=t.sibling;if(v!==null){v.return=t.return,Ee=v;break}Ee=t.return}}var Qp=Math.ceil,oo=$.ReactCurrentDispatcher,ni=$.ReactCurrentOwner,Mt=$.ReactCurrentBatchConfig,Oe=0,ot=null,et=null,ut=0,At=0,fr=vn(0),nt=0,rl=null,_n=0,ao=0,ri=0,ll=null,wt=null,li=0,gr=1/0,sn=null,io=!1,oi=null,Tn=null,so=!1,Nn=null,co=0,ol=0,ai=null,uo=-1,po=0;function xt(){return(Oe&6)!==0?Xe():uo!==-1?uo:uo=Xe()}function In(e){return(e.mode&1)===0?1:(Oe&2)!==0&&ut!==0?ut&-ut:Ap.transition!==null?(po===0&&(po=es()),po):(e=_e,e!==0||(e=window.event,e=e===void 0?16:cs(e.type)),e)}function Gt(e,t,r,l){if(50<ol)throw ol=0,ai=null,Error(s(185));Pr(e,r,l),((Oe&2)===0||e!==ot)&&(e===ot&&((Oe&2)===0&&(ao|=r),nt===4&&Pn(e,ut)),kt(e,l),r===1&&Oe===0&&(t.mode&1)===0&&(gr=Xe()+500,Wl&&Sn()))}function kt(e,t){var r=e.callbackNode;Ad(e,t);var l=vl(e,e===ot?ut:0);if(l===0)r!==null&&Xi(r),e.callbackNode=null,e.callbackPriority=0;else if(t=l&-l,e.callbackPriority!==t){if(r!=null&&Xi(r),t===1)e.tag===0?Rp(uu.bind(null,e)):Qs(uu.bind(null,e)),Tp(function(){(Oe&6)===0&&Sn()}),r=null;else{switch(ts(l)){case 1:r=Wo;break;case 4:r=Ji;break;case 16:r=yl;break;case 536870912:r=Zi;break;default:r=yl}r=xu(r,cu.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function cu(e,t){if(uo=-1,po=0,(Oe&6)!==0)throw Error(s(327));var r=e.callbackNode;if(yr()&&e.callbackNode!==r)return null;var l=vl(e,e===ot?ut:0);if(l===0)return null;if((l&30)!==0||(l&e.expiredLanes)!==0||t)t=mo(e,l);else{t=l;var a=Oe;Oe|=2;var i=pu();(ot!==e||ut!==t)&&(sn=null,gr=Xe()+500,jn(e,t));do try{Xp();break}catch(v){du(e,v)}while(!0);ka(),oo.current=i,Oe=a,et!==null?t=0:(ot=null,ut=0,t=nt)}if(t!==0){if(t===2&&(a=$o(e),a!==0&&(l=a,t=ii(e,a))),t===1)throw r=rl,jn(e,0),Pn(e,l),kt(e,Xe()),r;if(t===6)Pn(e,l);else{if(a=e.current.alternate,(l&30)===0&&!qp(a)&&(t=mo(e,l),t===2&&(i=$o(e),i!==0&&(l=i,t=ii(e,i))),t===1))throw r=rl,jn(e,0),Pn(e,l),kt(e,Xe()),r;switch(e.finishedWork=a,e.finishedLanes=l,t){case 0:case 1:throw Error(s(345));case 2:Hn(e,wt,sn);break;case 3:if(Pn(e,l),(l&130023424)===l&&(t=li+500-Xe(),10<t)){if(vl(e,0)!==0)break;if(a=e.suspendedLanes,(a&l)!==l){xt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ma(Hn.bind(null,e,wt,sn),t);break}Hn(e,wt,sn);break;case 4:if(Pn(e,l),(l&4194240)===l)break;for(t=e.eventTimes,a=-1;0<l;){var u=31-Wt(l);i=1<<u,u=t[u],u>a&&(a=u),l&=~i}if(l=a,l=Xe()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*Qp(l/1960))-l,10<l){e.timeoutHandle=ma(Hn.bind(null,e,wt,sn),l);break}Hn(e,wt,sn);break;case 5:Hn(e,wt,sn);break;default:throw Error(s(329))}}}return kt(e,Xe()),e.callbackNode===r?cu.bind(null,e):null}function ii(e,t){var r=ll;return e.current.memoizedState.isDehydrated&&(jn(e,t).flags|=256),e=mo(e,t),e!==2&&(t=wt,wt=r,t!==null&&si(t)),e}function si(e){wt===null?wt=e:wt.push.apply(wt,e)}function qp(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var l=0;l<r.length;l++){var a=r[l],i=a.getSnapshot;a=a.value;try{if(!$t(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pn(e,t){for(t&=~ri,t&=~ao,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Wt(t),l=1<<r;e[r]=-1,t&=~l}}function uu(e){if((Oe&6)!==0)throw Error(s(327));yr();var t=vl(e,0);if((t&1)===0)return kt(e,Xe()),null;var r=mo(e,t);if(e.tag!==0&&r===2){var l=$o(e);l!==0&&(t=l,r=ii(e,l))}if(r===1)throw r=rl,jn(e,0),Pn(e,t),kt(e,Xe()),r;if(r===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Hn(e,wt,sn),kt(e,Xe()),null}function ci(e,t){var r=Oe;Oe|=1;try{return e(t)}finally{Oe=r,Oe===0&&(gr=Xe()+500,Wl&&Sn())}}function Un(e){Nn!==null&&Nn.tag===0&&(Oe&6)===0&&yr();var t=Oe;Oe|=1;var r=Mt.transition,l=_e;try{if(Mt.transition=null,_e=1,e)return e()}finally{_e=l,Mt.transition=r,Oe=t,(Oe&6)===0&&Sn()}}function ui(){At=fr.current,Ge(fr)}function jn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Cp(r)),et!==null)for(r=et.return;r!==null;){var l=r;switch(Ea(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Fl();break;case 3:dr(),Ge(vt),Ge(dt),za();break;case 5:Ba(l);break;case 4:dr();break;case 13:Ge(Ye);break;case 19:Ge(Ye);break;case 10:Ca(l.type._context);break;case 22:case 23:ui()}r=r.return}if(ot=e,et=e=Rn(e.current,null),ut=At=t,nt=0,rl=null,ri=ao=_n=0,wt=ll=null,On!==null){for(t=0;t<On.length;t++)if(r=On[t],l=r.interleaved,l!==null){r.interleaved=null;var a=l.next,i=r.pending;if(i!==null){var u=i.next;i.next=a,l.next=u}r.pending=l}On=null}return e}function du(e,t){do{var r=et;try{if(ka(),Kl.current=eo,Xl){for(var l=Qe.memoizedState;l!==null;){var a=l.queue;a!==null&&(a.pending=null),l=l.next}Xl=!1}if($n=0,lt=tt=Qe=null,Xr=!1,Jr=0,ni.current=null,r===null||r.return===null){nt=1,rl=t,et=null;break}e:{var i=e,u=r.return,v=r,T=t;if(t=ut,v.flags|=32768,T!==null&&typeof T=="object"&&typeof T.then=="function"){var _=T,ne=v,ae=ne.tag;if((ne.mode&1)===0&&(ae===0||ae===11||ae===15)){var te=ne.alternate;te?(ne.updateQueue=te.updateQueue,ne.memoizedState=te.memoizedState,ne.lanes=te.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var fe=Mc(u);if(fe!==null){fe.flags&=-257,Fc(fe,u,v,i,t),fe.mode&1&&Lc(i,_,t),t=fe,T=_;var be=t.updateQueue;if(be===null){var Se=new Set;Se.add(T),t.updateQueue=Se}else be.add(T);break e}else{if((t&1)===0){Lc(i,_,t),di();break e}T=Error(s(426))}}else if(Ve&&v.mode&1){var Je=Mc(u);if(Je!==null){(Je.flags&65536)===0&&(Je.flags|=256),Fc(Je,u,v,i,t),Sa(pr(T,v));break e}}i=T=pr(T,v),nt!==4&&(nt=2),ll===null?ll=[i]:ll.push(i),i=u;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var B=Dc(i,T,t);nc(i,B);break e;case 1:v=T;var R=i.type,L=i.stateNode;if((i.flags&128)===0&&(typeof R.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(Tn===null||!Tn.has(L)))){i.flags|=65536,t&=-t,i.lanes|=t;var se=zc(i,v,t);nc(i,se);break e}}i=i.return}while(i!==null)}fu(r)}catch(Ce){t=Ce,et===r&&r!==null&&(et=r=r.return);continue}break}while(!0)}function pu(){var e=oo.current;return oo.current=eo,e===null?eo:e}function di(){(nt===0||nt===3||nt===2)&&(nt=4),ot===null||(_n&268435455)===0&&(ao&268435455)===0||Pn(ot,ut)}function mo(e,t){var r=Oe;Oe|=2;var l=pu();(ot!==e||ut!==t)&&(sn=null,jn(e,t));do try{Kp();break}catch(a){du(e,a)}while(!0);if(ka(),Oe=r,oo.current=l,et!==null)throw Error(s(261));return ot=null,ut=0,nt}function Kp(){for(;et!==null;)mu(et)}function Xp(){for(;et!==null&&!Sd();)mu(et)}function mu(e){var t=hu(e.alternate,e,At);e.memoizedProps=e.pendingProps,t===null?fu(e):et=t,ni.current=null}function fu(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=jp(r,t,At),r!==null){et=r;return}}else{if(r=Hp(r,t),r!==null){r.flags&=32767,et=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{nt=6,et=null;return}}if(t=t.sibling,t!==null){et=t;return}et=t=e}while(t!==null);nt===0&&(nt=5)}function Hn(e,t,r){var l=_e,a=Mt.transition;try{Mt.transition=null,_e=1,Jp(e,t,r,l)}finally{Mt.transition=a,_e=l}return null}function Jp(e,t,r,l){do yr();while(Nn!==null);if((Oe&6)!==0)throw Error(s(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Bd(e,i),e===ot&&(et=ot=null,ut=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||so||(so=!0,xu(yl,function(){return yr(),null})),i=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||i){i=Mt.transition,Mt.transition=null;var u=_e;_e=1;var v=Oe;Oe|=4,ni.current=null,Vp(e,r),lu(r,e),xp(da),wl=!!ua,da=ua=null,e.current=r,Yp(r),wd(),Oe=v,_e=u,Mt.transition=i}else e.current=r;if(so&&(so=!1,Nn=e,co=a),i=e.pendingLanes,i===0&&(Tn=null),Td(r.stateNode),kt(e,Xe()),t!==null)for(l=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],l(a.value,{componentStack:a.stack,digest:a.digest});if(io)throw io=!1,e=oi,oi=null,e;return(co&1)!==0&&e.tag!==0&&yr(),i=e.pendingLanes,(i&1)!==0?e===ai?ol++:(ol=0,ai=e):ol=0,Sn(),null}function yr(){if(Nn!==null){var e=ts(co),t=Mt.transition,r=_e;try{if(Mt.transition=null,_e=16>e?16:e,Nn===null)var l=!1;else{if(e=Nn,Nn=null,co=0,(Oe&6)!==0)throw Error(s(331));var a=Oe;for(Oe|=4,Ee=e.current;Ee!==null;){var i=Ee,u=i.child;if((Ee.flags&16)!==0){var v=i.deletions;if(v!==null){for(var T=0;T<v.length;T++){var _=v[T];for(Ee=_;Ee!==null;){var ne=Ee;switch(ne.tag){case 0:case 11:case 15:nl(8,ne,i)}var ae=ne.child;if(ae!==null)ae.return=ne,Ee=ae;else for(;Ee!==null;){ne=Ee;var te=ne.sibling,fe=ne.return;if(Zc(ne),ne===_){Ee=null;break}if(te!==null){te.return=fe,Ee=te;break}Ee=fe}}}var be=i.alternate;if(be!==null){var Se=be.child;if(Se!==null){be.child=null;do{var Je=Se.sibling;Se.sibling=null,Se=Je}while(Se!==null)}}Ee=i}}if((i.subtreeFlags&2064)!==0&&u!==null)u.return=i,Ee=u;else e:for(;Ee!==null;){if(i=Ee,(i.flags&2048)!==0)switch(i.tag){case 0:case 11:case 15:nl(9,i,i.return)}var B=i.sibling;if(B!==null){B.return=i.return,Ee=B;break e}Ee=i.return}}var R=e.current;for(Ee=R;Ee!==null;){u=Ee;var L=u.child;if((u.subtreeFlags&2064)!==0&&L!==null)L.return=u,Ee=L;else e:for(u=R;Ee!==null;){if(v=Ee,(v.flags&2048)!==0)try{switch(v.tag){case 0:case 11:case 15:lo(9,v)}}catch(Ce){Ke(v,v.return,Ce)}if(v===u){Ee=null;break e}var se=v.sibling;if(se!==null){se.return=v.return,Ee=se;break e}Ee=v.return}}if(Oe=a,Sn(),Vt&&typeof Vt.onPostCommitFiberRoot=="function")try{Vt.onPostCommitFiberRoot(hl,e)}catch{}l=!0}return l}finally{_e=r,Mt.transition=t}}return!1}function gu(e,t,r){t=pr(r,t),t=Dc(e,t,1),e=kn(e,t,1),t=xt(),e!==null&&(Pr(e,1,t),kt(e,t))}function Ke(e,t,r){if(e.tag===3)gu(e,e,r);else for(;t!==null;){if(t.tag===3){gu(t,e,r);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Tn===null||!Tn.has(l))){e=pr(r,e),e=zc(t,e,1),t=kn(t,e,1),e=xt(),t!==null&&(Pr(t,1,e),kt(t,e));break}}t=t.return}}function Zp(e,t,r){var l=e.pingCache;l!==null&&l.delete(t),t=xt(),e.pingedLanes|=e.suspendedLanes&r,ot===e&&(ut&r)===r&&(nt===4||nt===3&&(ut&130023424)===ut&&500>Xe()-li?jn(e,0):ri|=r),kt(e,t)}function yu(e,t){t===0&&((e.mode&1)===0?t=1:(t=El,El<<=1,(El&130023424)===0&&(El=4194304)));var r=xt();e=ln(e,t),e!==null&&(Pr(e,t,r),kt(e,r))}function em(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),yu(e,r)}function tm(e,t){var r=0;switch(e.tag){case 13:var l=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(s(314))}l!==null&&l.delete(t),yu(e,r)}var hu;hu=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||vt.current)St=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return St=!1,Up(e,t,r);St=(e.flags&131072)!==0}else St=!1,Ve&&(t.flags&1048576)!==0&&qs(t,_l,t.index);switch(t.lanes=0,t.tag){case 2:var l=t.type;no(e,t),e=t.pendingProps;var a=lr(t,dt.current);cr(t,r),a=Fa(null,t,l,e,a,r);var i=Oa();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,bt(l)?(i=!0,Ol(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Ia(t),a.updater=Yl,t.stateNode=a,a._reactInternals=t,Ra(t,l,e,r),t=Va(null,t,l,!0,i,r)):(t.tag=0,Ve&&i&&xa(t),ht(null,t,a,r),t=t.child),t;case 16:l=t.elementType;e:{switch(no(e,t),e=t.pendingProps,a=l._init,l=a(l._payload),t.type=l,a=t.tag=rm(l),e=Ut(l,e),a){case 0:t=Ga(null,t,l,e,r);break e;case 1:t=jc(null,t,l,e,r);break e;case 11:t=Oc(null,t,l,e,r);break e;case 14:t=Wc(null,t,l,Ut(l.type,e),r);break e}throw Error(s(306,l,""))}return t;case 0:return l=t.type,a=t.pendingProps,a=t.elementType===l?a:Ut(l,a),Ga(e,t,l,a,r);case 1:return l=t.type,a=t.pendingProps,a=t.elementType===l?a:Ut(l,a),jc(e,t,l,a,r);case 3:e:{if(Hc(t),e===null)throw Error(s(387));l=t.pendingProps,i=t.memoizedState,a=i.element,tc(e,t),Vl(t,l,null,r);var u=t.memoizedState;if(l=u.element,i.isDehydrated)if(i={element:l,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=pr(Error(s(423)),t),t=Gc(e,t,l,r,a);break e}else if(l!==a){a=pr(Error(s(424)),t),t=Gc(e,t,l,r,a);break e}else for(Rt=En(t.stateNode.containerInfo.firstChild),Pt=t,Ve=!0,_t=null,r=uc(t,null,l,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ir(),l===a){t=an(e,t,r);break e}ht(e,t,l,r)}t=t.child}return t;case 5:return dc(t),e===null&&ba(t),l=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,u=a.children,pa(l,a)?u=null:i!==null&&pa(l,i)&&(t.flags|=32),Uc(e,t),ht(e,t,u,r),t.child;case 6:return e===null&&ba(t),null;case 13:return Vc(e,t,r);case 4:return Aa(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=ur(t,null,l,r):ht(e,t,l,r),t.child;case 11:return l=t.type,a=t.pendingProps,a=t.elementType===l?a:Ut(l,a),Oc(e,t,l,a,r);case 7:return ht(e,t,t.pendingProps,r),t.child;case 8:return ht(e,t,t.pendingProps.children,r),t.child;case 12:return ht(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(l=t.type._context,a=t.pendingProps,i=t.memoizedProps,u=a.value,je(jl,l._currentValue),l._currentValue=u,i!==null)if($t(i.value,u)){if(i.children===a.children&&!vt.current){t=an(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var v=i.dependencies;if(v!==null){u=i.child;for(var T=v.firstContext;T!==null;){if(T.context===l){if(i.tag===1){T=on(-1,r&-r),T.tag=2;var _=i.updateQueue;if(_!==null){_=_.shared;var ne=_.pending;ne===null?T.next=T:(T.next=ne.next,ne.next=T),_.pending=T}}i.lanes|=r,T=i.alternate,T!==null&&(T.lanes|=r),Ta(i.return,r,t),v.lanes|=r;break}T=T.next}}else if(i.tag===10)u=i.type===t.type?null:i.child;else if(i.tag===18){if(u=i.return,u===null)throw Error(s(341));u.lanes|=r,v=u.alternate,v!==null&&(v.lanes|=r),Ta(u,r,t),u=i.sibling}else u=i.child;if(u!==null)u.return=i;else for(u=i;u!==null;){if(u===t){u=null;break}if(i=u.sibling,i!==null){i.return=u.return,u=i;break}u=u.return}i=u}ht(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,l=t.pendingProps.children,cr(t,r),a=zt(a),l=l(a),t.flags|=1,ht(e,t,l,r),t.child;case 14:return l=t.type,a=Ut(l,t.pendingProps),a=Ut(l.type,a),Wc(e,t,l,a,r);case 15:return $c(e,t,t.type,t.pendingProps,r);case 17:return l=t.type,a=t.pendingProps,a=t.elementType===l?a:Ut(l,a),no(e,t),t.tag=1,bt(l)?(e=!0,Ol(t)):e=!1,cr(t,r),ac(t,l,a),Ra(t,l,a,r),Va(null,t,l,!0,e,r);case 19:return Qc(e,t,r);case 22:return _c(e,t,r)}throw Error(s(156,t.tag))};function xu(e,t){return Ki(e,t)}function nm(e,t,r,l){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ft(e,t,r,l){return new nm(e,t,r,l)}function pi(e){return e=e.prototype,!(!e||!e.isReactComponent)}function rm(e){if(typeof e=="function")return pi(e)?1:0;if(e!=null){if(e=e.$$typeof,e===re)return 11;if(e===O)return 14}return 2}function Rn(e,t){var r=e.alternate;return r===null?(r=Ft(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function fo(e,t,r,l,a,i){var u=2;if(l=e,typeof e=="function")pi(e)&&(u=1);else if(typeof e=="string")u=5;else e:switch(e){case xe:return Gn(r.children,a,i,t);case he:u=8,a|=8;break;case D:return e=Ft(12,r,t,a|2),e.elementType=D,e.lanes=i,e;case Z:return e=Ft(13,r,t,a),e.elementType=Z,e.lanes=i,e;case ce:return e=Ft(19,r,t,a),e.elementType=ce,e.lanes=i,e;case V:return go(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case W:u=10;break e;case ie:u=9;break e;case re:u=11;break e;case O:u=14;break e;case G:u=16,l=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return t=Ft(u,r,t,a),t.elementType=e,t.type=l,t.lanes=i,t}function Gn(e,t,r,l){return e=Ft(7,e,l,t),e.lanes=r,e}function go(e,t,r,l){return e=Ft(22,e,l,t),e.elementType=V,e.lanes=r,e.stateNode={isHidden:!1},e}function mi(e,t,r){return e=Ft(6,e,null,t),e.lanes=r,e}function fi(e,t,r){return t=Ft(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function lm(e,t,r,l,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_o(0),this.expirationTimes=_o(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_o(0),this.identifierPrefix=l,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function gi(e,t,r,l,a,i,u,v,T){return e=new lm(e,t,r,v,T),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ft(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:l,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ia(i),e}function om(e,t,r){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:X,key:l==null?null:""+l,children:e,containerInfo:t,implementation:r}}function Eu(e){if(!e)return bn;e=e._reactInternals;e:{if(Dn(e)!==e||e.tag!==1)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(bt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(s(171))}if(e.tag===1){var r=e.type;if(bt(r))return Vs(e,r,t)}return t}function vu(e,t,r,l,a,i,u,v,T){return e=gi(r,l,!0,e,a,i,u,v,T),e.context=Eu(null),r=e.current,l=xt(),a=In(r),i=on(l,a),i.callback=t??null,kn(r,i,a),e.current.lanes=a,Pr(e,a,l),kt(e,l),e}function yo(e,t,r,l){var a=t.current,i=xt(),u=In(a);return r=Eu(r),t.context===null?t.context=r:t.pendingContext=r,t=on(i,u),t.payload={element:e},l=l===void 0?null:l,l!==null&&(t.callback=l),e=kn(a,t,u),e!==null&&(Gt(e,a,u,i),Gl(e,a,u)),u}function ho(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function bu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function yi(e,t){bu(e,t),(e=e.alternate)&&bu(e,t)}function am(){return null}var Su=typeof reportError=="function"?reportError:function(e){console.error(e)};function hi(e){this._internalRoot=e}xo.prototype.render=hi.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));yo(e,t,null,null)},xo.prototype.unmount=hi.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Un(function(){yo(null,e,null,null)}),t[en]=null}};function xo(e){this._internalRoot=e}xo.prototype.unstable_scheduleHydration=function(e){if(e){var t=ls();e={blockedOn:null,target:e,priority:t};for(var r=0;r<yn.length&&t!==0&&t<yn[r].priority;r++);yn.splice(r,0,e),r===0&&is(e)}};function xi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Eo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function wu(){}function im(e,t,r,l,a){if(a){if(typeof l=="function"){var i=l;l=function(){var _=ho(u);i.call(_)}}var u=vu(t,l,e,0,null,!1,!1,"",wu);return e._reactRootContainer=u,e[en]=u.current,jr(e.nodeType===8?e.parentNode:e),Un(),u}for(;a=e.lastChild;)e.removeChild(a);if(typeof l=="function"){var v=l;l=function(){var _=ho(T);v.call(_)}}var T=gi(e,0,!1,null,null,!1,!1,"",wu);return e._reactRootContainer=T,e[en]=T.current,jr(e.nodeType===8?e.parentNode:e),Un(function(){yo(t,T,r,l)}),T}function vo(e,t,r,l,a){var i=r._reactRootContainer;if(i){var u=i;if(typeof a=="function"){var v=a;a=function(){var T=ho(u);v.call(T)}}yo(t,u,e,a)}else u=im(r,t,e,a,l);return ho(u)}ns=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ir(t.pendingLanes);r!==0&&(Uo(t,r|1),kt(t,Xe()),(Oe&6)===0&&(gr=Xe()+500,Sn()))}break;case 13:Un(function(){var l=ln(e,1);if(l!==null){var a=xt();Gt(l,e,1,a)}}),yi(e,1)}},jo=function(e){if(e.tag===13){var t=ln(e,134217728);if(t!==null){var r=xt();Gt(t,e,134217728,r)}yi(e,134217728)}},rs=function(e){if(e.tag===13){var t=In(e),r=ln(e,t);if(r!==null){var l=xt();Gt(r,e,t,l)}yi(e,t)}},ls=function(){return _e},os=function(e,t){var r=_e;try{return _e=e,t()}finally{_e=r}},Lo=function(e,t,r){switch(t){case"input":if($e(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var l=r[t];if(l!==e&&l.form===e.form){var a=Ml(l);if(!a)throw Error(s(90));Nt(l),$e(l,a)}}}break;case"textarea":zi(e,r);break;case"select":t=r.value,t!=null&&Vn(e,!!r.multiple,t,!1)}},ji=ci,Hi=Un;var sm={usingClientEntryPoint:!1,Events:[Vr,nr,Ml,_i,Ui,ci]},al={findFiberByHostInstance:zn,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},cm={bundleType:al.bundleType,version:al.version,rendererPackageName:al.rendererPackageName,rendererConfig:al.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Qi(e),e===null?null:e.stateNode},findFiberByHostInstance:al.findFiberByHostInstance||am,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bo.isDisabled&&bo.supportsFiber)try{hl=bo.inject(cm),Vt=bo}catch{}}return Ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sm,Ct.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xi(t))throw Error(s(200));return om(e,t,null,r)},Ct.createRoot=function(e,t){if(!xi(e))throw Error(s(299));var r=!1,l="",a=Su;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=gi(e,1,!1,null,null,r,!1,l,a),e[en]=t.current,jr(e.nodeType===8?e.parentNode:e),new hi(t)},Ct.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=Qi(t),e=e===null?null:e.stateNode,e},Ct.flushSync=function(e){return Un(e)},Ct.hydrate=function(e,t,r){if(!Eo(t))throw Error(s(200));return vo(null,e,t,!0,r)},Ct.hydrateRoot=function(e,t,r){if(!xi(e))throw Error(s(405));var l=r!=null&&r.hydratedSources||null,a=!1,i="",u=Su;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(u=r.onRecoverableError)),t=vu(t,null,e,1,r??null,a,!1,i,u),e[en]=t.current,jr(e),l)for(e=0;e<l.length;e++)r=l[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new xo(t)},Ct.render=function(e,t,r){if(!Eo(t))throw Error(s(200));return vo(null,e,t,!1,r)},Ct.unmountComponentAtNode=function(e){if(!Eo(e))throw Error(s(40));return e._reactRootContainer?(Un(function(){vo(null,null,e,!1,function(){e._reactRootContainer=null,e[en]=null})}),!0):!1},Ct.unstable_batchedUpdates=ci,Ct.unstable_renderSubtreeIntoContainer=function(e,t,r,l){if(!Eo(r))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return vo(e,t,r,!1,l)},Ct.version="18.2.0-next-9e3b772b8-20220608",Ct}var Pu;function ym(){if(Pu)return vi.exports;Pu=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(c){console.error(c)}}return o(),vi.exports=gm(),vi.exports}var Ru;function hm(){if(Ru)return So;Ru=1;var o=ym();return So.createRoot=o.createRoot,So.hydrateRoot=o.hydrateRoot,So}var xm=hm();/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Au="popstate";function Em(o={}){function c(d,m){let{pathname:f,search:x,hash:y}=d.location;return Ci("",{pathname:f,search:x,hash:y},m.state&&m.state.usr||null,m.state&&m.state.key||"default")}function s(d,m){return typeof m=="string"?m:cl(m)}return bm(c,s,null,o)}function qe(o,c){if(o===!1||o===null||typeof o>"u")throw new Error(c)}function Xt(o,c){if(!o){typeof console<"u"&&console.warn(c);try{throw new Error(c)}catch{}}}function vm(){return Math.random().toString(36).substring(2,10)}function Bu(o,c){return{usr:o.state,key:o.key,idx:c}}function Ci(o,c,s=null,d){return{pathname:typeof o=="string"?o:o.pathname,search:"",hash:"",...typeof c=="string"?xr(c):c,state:s,key:c&&c.key||d||vm()}}function cl({pathname:o="/",search:c="",hash:s=""}){return c&&c!=="?"&&(o+=c.charAt(0)==="?"?c:"?"+c),s&&s!=="#"&&(o+=s.charAt(0)==="#"?s:"#"+s),o}function xr(o){let c={};if(o){let s=o.indexOf("#");s>=0&&(c.hash=o.substring(s),o=o.substring(0,s));let d=o.indexOf("?");d>=0&&(c.search=o.substring(d),o=o.substring(0,d)),o&&(c.pathname=o)}return c}function bm(o,c,s,d={}){let{window:m=document.defaultView,v5Compat:f=!1}=d,x=m.history,y="POP",E=null,k=h();k==null&&(k=0,x.replaceState({...x.state,idx:k},""));function h(){return(x.state||{idx:null}).idx}function A(){y="POP";let S=h(),N=S==null?null:S-k;k=S,E&&E({action:y,location:U.location,delta:N})}function I(S,N){y="PUSH";let C=Ci(U.location,S,N);k=h()+1;let H=Bu(C,k),$=U.createHref(C);try{x.pushState(H,"",$)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;m.location.assign($)}f&&E&&E({action:y,location:U.location,delta:1})}function M(S,N){y="REPLACE";let C=Ci(U.location,S,N);k=h();let H=Bu(C,k),$=U.createHref(C);x.replaceState(H,"",$),f&&E&&E({action:y,location:U.location,delta:0})}function Y(S){return Sm(S)}let U={get action(){return y},get location(){return o(m,x)},listen(S){if(E)throw new Error("A history only accepts one active listener");return m.addEventListener(Au,A),E=S,()=>{m.removeEventListener(Au,A),E=null}},createHref(S){return c(m,S)},createURL:Y,encodeLocation(S){let N=Y(S);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:I,replace:M,go(S){return x.go(S)}};return U}function Sm(o,c=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),qe(s,"No window.location.(origin|href) available to create URL");let d=typeof o=="string"?o:cl(o);return d=d.replace(/ $/,"%20"),!c&&d.startsWith("//")&&(d=s+d),new URL(d,s)}function Gu(o,c,s="/"){return wm(o,c,s,!1)}function wm(o,c,s,d){let m=typeof c=="string"?xr(c):c,f=pn(m.pathname||"/",s);if(f==null)return null;let x=Vu(o);km(x);let y=null;for(let E=0;y==null&&E<x.length;++E){let k=Lm(f);y=Dm(x[E],k,d)}return y}function Vu(o,c=[],s=[],d="",m=!1){let f=(x,y,E=m,k)=>{let h={relativePath:k===void 0?x.path||"":k,caseSensitive:x.caseSensitive===!0,childrenIndex:y,route:x};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(d)&&E)return;qe(h.relativePath.startsWith(d),`Absolute route path "${h.relativePath}" nested under path "${d}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(d.length)}let A=dn([d,h.relativePath]),I=s.concat(h);x.children&&x.children.length>0&&(qe(x.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${A}".`),Vu(x.children,c,I,A,E)),!(x.path==null&&!x.index)&&c.push({path:A,score:Am(A,x.index),routesMeta:I})};return o.forEach((x,y)=>{if(x.path===""||!x.path?.includes("?"))f(x,y);else for(let E of Yu(x.path))f(x,y,!0,E)}),c}function Yu(o){let c=o.split("/");if(c.length===0)return[];let[s,...d]=c,m=s.endsWith("?"),f=s.replace(/\?$/,"");if(d.length===0)return m?[f,""]:[f];let x=Yu(d.join("/")),y=[];return y.push(...x.map(E=>E===""?f:[f,E].join("/"))),m&&y.push(...x),y.map(E=>o.startsWith("/")&&E===""?"/":E)}function km(o){o.sort((c,s)=>c.score!==s.score?s.score-c.score:Bm(c.routesMeta.map(d=>d.childrenIndex),s.routesMeta.map(d=>d.childrenIndex)))}var Cm=/^:[\w-]+$/,Tm=3,Nm=2,Im=1,Pm=10,Rm=-2,Du=o=>o==="*";function Am(o,c){let s=o.split("/"),d=s.length;return s.some(Du)&&(d+=Rm),c&&(d+=Nm),s.filter(m=>!Du(m)).reduce((m,f)=>m+(Cm.test(f)?Tm:f===""?Im:Pm),d)}function Bm(o,c){return o.length===c.length&&o.slice(0,-1).every((d,m)=>d===c[m])?o[o.length-1]-c[c.length-1]:0}function Dm(o,c,s=!1){let{routesMeta:d}=o,m={},f="/",x=[];for(let y=0;y<d.length;++y){let E=d[y],k=y===d.length-1,h=f==="/"?c:c.slice(f.length)||"/",A=To({path:E.relativePath,caseSensitive:E.caseSensitive,end:k},h),I=E.route;if(!A&&k&&s&&!d[d.length-1].route.index&&(A=To({path:E.relativePath,caseSensitive:E.caseSensitive,end:!1},h)),!A)return null;Object.assign(m,A.params),x.push({params:m,pathname:dn([f,A.pathname]),pathnameBase:Wm(dn([f,A.pathnameBase])),route:I}),A.pathnameBase!=="/"&&(f=dn([f,A.pathnameBase]))}return x}function To(o,c){typeof o=="string"&&(o={path:o,caseSensitive:!1,end:!0});let[s,d]=zm(o.path,o.caseSensitive,o.end),m=c.match(s);if(!m)return null;let f=m[0],x=f.replace(/(.)\/+$/,"$1"),y=m.slice(1);return{params:d.reduce((k,{paramName:h,isOptional:A},I)=>{if(h==="*"){let Y=y[I]||"";x=f.slice(0,f.length-Y.length).replace(/(.)\/+$/,"$1")}const M=y[I];return A&&!M?k[h]=void 0:k[h]=(M||"").replace(/%2F/g,"/"),k},{}),pathname:f,pathnameBase:x,pattern:o}}function zm(o,c=!1,s=!0){Xt(o==="*"||!o.endsWith("*")||o.endsWith("/*"),`Route path "${o}" will be treated as if it were "${o.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${o.replace(/\*$/,"/*")}".`);let d=[],m="^"+o.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(x,y,E)=>(d.push({paramName:y,isOptional:E!=null}),E?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return o.endsWith("*")?(d.push({paramName:"*"}),m+=o==="*"||o==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?m+="\\/*$":o!==""&&o!=="/"&&(m+="(?:(?=\\/|$))"),[new RegExp(m,c?void 0:"i"),d]}function Lm(o){try{return o.split("/").map(c=>decodeURIComponent(c).replace(/\//g,"%2F")).join("/")}catch(c){return Xt(!1,`The URL path "${o}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${c}).`),o}}function pn(o,c){if(c==="/")return o;if(!o.toLowerCase().startsWith(c.toLowerCase()))return null;let s=c.endsWith("/")?c.length-1:c.length,d=o.charAt(s);return d&&d!=="/"?null:o.slice(s)||"/"}function Mm(o,c="/"){let{pathname:s,search:d="",hash:m=""}=typeof o=="string"?xr(o):o;return{pathname:s?s.startsWith("/")?s:Fm(s,c):c,search:$m(d),hash:_m(m)}}function Fm(o,c){let s=c.replace(/\/+$/,"").split("/");return o.split("/").forEach(m=>{m===".."?s.length>1&&s.pop():m!=="."&&s.push(m)}),s.length>1?s.join("/"):"/"}function wi(o,c,s,d){return`Cannot include a '${o}' character in a manually specified \`to.${c}\` field [${JSON.stringify(d)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Om(o){return o.filter((c,s)=>s===0||c.route.path&&c.route.path.length>0)}function Qu(o){let c=Om(o);return c.map((s,d)=>d===c.length-1?s.pathname:s.pathnameBase)}function qu(o,c,s,d=!1){let m;typeof o=="string"?m=xr(o):(m={...o},qe(!m.pathname||!m.pathname.includes("?"),wi("?","pathname","search",m)),qe(!m.pathname||!m.pathname.includes("#"),wi("#","pathname","hash",m)),qe(!m.search||!m.search.includes("#"),wi("#","search","hash",m)));let f=o===""||m.pathname==="",x=f?"/":m.pathname,y;if(x==null)y=s;else{let A=c.length-1;if(!d&&x.startsWith("..")){let I=x.split("/");for(;I[0]==="..";)I.shift(),A-=1;m.pathname=I.join("/")}y=A>=0?c[A]:"/"}let E=Mm(m,y),k=x&&x!=="/"&&x.endsWith("/"),h=(f||x===".")&&s.endsWith("/");return!E.pathname.endsWith("/")&&(k||h)&&(E.pathname+="/"),E}var dn=o=>o.join("/").replace(/\/\/+/g,"/"),Wm=o=>o.replace(/\/+$/,"").replace(/^\/*/,"/"),$m=o=>!o||o==="?"?"":o.startsWith("?")?o:"?"+o,_m=o=>!o||o==="#"?"":o.startsWith("#")?o:"#"+o;function Um(o){return o!=null&&typeof o.status=="number"&&typeof o.statusText=="string"&&typeof o.internal=="boolean"&&"data"in o}var Ku=["POST","PUT","PATCH","DELETE"];new Set(Ku);var jm=["GET",...Ku];new Set(jm);var Er=g.createContext(null);Er.displayName="DataRouter";var No=g.createContext(null);No.displayName="DataRouterState";g.createContext(!1);var Xu=g.createContext({isTransitioning:!1});Xu.displayName="ViewTransition";var Hm=g.createContext(new Map);Hm.displayName="Fetchers";var Gm=g.createContext(null);Gm.displayName="Await";var Jt=g.createContext(null);Jt.displayName="Navigation";var ul=g.createContext(null);ul.displayName="Location";var Zt=g.createContext({outlet:null,matches:[],isDataRoute:!1});Zt.displayName="Route";var Ni=g.createContext(null);Ni.displayName="RouteError";function Vm(o,{relative:c}={}){qe(dl(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:d}=g.useContext(Jt),{hash:m,pathname:f,search:x}=pl(o,{relative:c}),y=f;return s!=="/"&&(y=f==="/"?s:dn([s,f])),d.createHref({pathname:y,search:x,hash:m})}function dl(){return g.useContext(ul)!=null}function Bn(){return qe(dl(),"useLocation() may be used only in the context of a <Router> component."),g.useContext(ul).location}var Ju="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Zu(o){g.useContext(Jt).static||g.useLayoutEffect(o)}function Tt(){let{isDataRoute:o}=g.useContext(Zt);return o?of():Ym()}function Ym(){qe(dl(),"useNavigate() may be used only in the context of a <Router> component.");let o=g.useContext(Er),{basename:c,navigator:s}=g.useContext(Jt),{matches:d}=g.useContext(Zt),{pathname:m}=Bn(),f=JSON.stringify(Qu(d)),x=g.useRef(!1);return Zu(()=>{x.current=!0}),g.useCallback((E,k={})=>{if(Xt(x.current,Ju),!x.current)return;if(typeof E=="number"){s.go(E);return}let h=qu(E,JSON.parse(f),m,k.relative==="path");o==null&&c!=="/"&&(h.pathname=h.pathname==="/"?c:dn([c,h.pathname])),(k.replace?s.replace:s.push)(h,k.state,k)},[c,s,f,m,o])}g.createContext(null);function ed(){let{matches:o}=g.useContext(Zt),c=o[o.length-1];return c?c.params:{}}function pl(o,{relative:c}={}){let{matches:s}=g.useContext(Zt),{pathname:d}=Bn(),m=JSON.stringify(Qu(s));return g.useMemo(()=>qu(o,JSON.parse(m),d,c==="path"),[o,m,d,c])}function Qm(o,c){return td(o,c)}function td(o,c,s,d,m){qe(dl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:f}=g.useContext(Jt),{matches:x}=g.useContext(Zt),y=x[x.length-1],E=y?y.params:{},k=y?y.pathname:"/",h=y?y.pathnameBase:"/",A=y&&y.route;{let C=A&&A.path||"";nd(k,!A||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${k}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let I=Bn(),M;if(c){let C=typeof c=="string"?xr(c):c;qe(h==="/"||C.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${C.pathname}" was given in the \`location\` prop.`),M=C}else M=I;let Y=M.pathname||"/",U=Y;if(h!=="/"){let C=h.replace(/^\//,"").split("/");U="/"+Y.replace(/^\//,"").split("/").slice(C.length).join("/")}let S=Gu(o,{pathname:U});Xt(A||S!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),Xt(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=Zm(S&&S.map(C=>Object.assign({},C,{params:Object.assign({},E,C.params),pathname:dn([h,f.encodeLocation?f.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?h:dn([h,f.encodeLocation?f.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),x,s,d,m);return c&&N?g.createElement(ul.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},N):N}function qm(){let o=lf(),c=Um(o)?`${o.status} ${o.statusText}`:o instanceof Error?o.message:JSON.stringify(o),s=o instanceof Error?o.stack:null,d="rgba(200,200,200, 0.5)",m={padding:"0.5rem",backgroundColor:d},f={padding:"2px 4px",backgroundColor:d},x=null;return console.error("Error handled by React Router default ErrorBoundary:",o),x=g.createElement(g.Fragment,null,g.createElement("p",null," Hey developer "),g.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",g.createElement("code",{style:f},"ErrorBoundary")," or"," ",g.createElement("code",{style:f},"errorElement")," prop on your route.")),g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},c),s?g.createElement("pre",{style:m},s):null,x)}var Km=g.createElement(qm,null),Xm=class extends g.Component{constructor(o){super(o),this.state={location:o.location,revalidation:o.revalidation,error:o.error}}static getDerivedStateFromError(o){return{error:o}}static getDerivedStateFromProps(o,c){return c.location!==o.location||c.revalidation!=="idle"&&o.revalidation==="idle"?{error:o.error,location:o.location,revalidation:o.revalidation}:{error:o.error!==void 0?o.error:c.error,location:c.location,revalidation:o.revalidation||c.revalidation}}componentDidCatch(o,c){this.props.unstable_onError?this.props.unstable_onError(o,c):console.error("React Router caught the following error during render",o)}render(){return this.state.error!==void 0?g.createElement(Zt.Provider,{value:this.props.routeContext},g.createElement(Ni.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Jm({routeContext:o,match:c,children:s}){let d=g.useContext(Er);return d&&d.static&&d.staticContext&&(c.route.errorElement||c.route.ErrorBoundary)&&(d.staticContext._deepestRenderedBoundaryId=c.route.id),g.createElement(Zt.Provider,{value:o},s)}function Zm(o,c=[],s=null,d=null,m=null){if(o==null){if(!s)return null;if(s.errors)o=s.matches;else if(c.length===0&&!s.initialized&&s.matches.length>0)o=s.matches;else return null}let f=o,x=s?.errors;if(x!=null){let k=f.findIndex(h=>h.route.id&&x?.[h.route.id]!==void 0);qe(k>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(x).join(",")}`),f=f.slice(0,Math.min(f.length,k+1))}let y=!1,E=-1;if(s)for(let k=0;k<f.length;k++){let h=f[k];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(E=k),h.route.id){let{loaderData:A,errors:I}=s,M=h.route.loader&&!A.hasOwnProperty(h.route.id)&&(!I||I[h.route.id]===void 0);if(h.route.lazy||M){y=!0,E>=0?f=f.slice(0,E+1):f=[f[0]];break}}}return f.reduceRight((k,h,A)=>{let I,M=!1,Y=null,U=null;s&&(I=x&&h.route.id?x[h.route.id]:void 0,Y=h.route.errorElement||Km,y&&(E<0&&A===0?(nd("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,U=null):E===A&&(M=!0,U=h.route.hydrateFallbackElement||null)));let S=c.concat(f.slice(0,A+1)),N=()=>{let C;return I?C=Y:M?C=U:h.route.Component?C=g.createElement(h.route.Component,null):h.route.element?C=h.route.element:C=k,g.createElement(Jm,{match:h,routeContext:{outlet:k,matches:S,isDataRoute:s!=null},children:C})};return s&&(h.route.ErrorBoundary||h.route.errorElement||A===0)?g.createElement(Xm,{location:s.location,revalidation:s.revalidation,component:Y,error:I,children:N(),routeContext:{outlet:null,matches:S,isDataRoute:!0},unstable_onError:d}):N()},null)}function Ii(o){return`${o} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ef(o){let c=g.useContext(Er);return qe(c,Ii(o)),c}function tf(o){let c=g.useContext(No);return qe(c,Ii(o)),c}function nf(o){let c=g.useContext(Zt);return qe(c,Ii(o)),c}function Pi(o){let c=nf(o),s=c.matches[c.matches.length-1];return qe(s.route.id,`${o} can only be used on routes that contain a unique "id"`),s.route.id}function rf(){return Pi("useRouteId")}function lf(){let o=g.useContext(Ni),c=tf("useRouteError"),s=Pi("useRouteError");return o!==void 0?o:c.errors?.[s]}function of(){let{router:o}=ef("useNavigate"),c=Pi("useNavigate"),s=g.useRef(!1);return Zu(()=>{s.current=!0}),g.useCallback(async(m,f={})=>{Xt(s.current,Ju),s.current&&(typeof m=="number"?o.navigate(m):await o.navigate(m,{fromRouteId:c,...f}))},[o,c])}var zu={};function nd(o,c,s){!c&&!zu[o]&&(zu[o]=!0,Xt(!1,s))}g.memo(af);function af({routes:o,future:c,state:s,unstable_onError:d}){return td(o,void 0,s,d,c)}function rt(o){qe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function sf({basename:o="/",children:c=null,location:s,navigationType:d="POP",navigator:m,static:f=!1}){qe(!dl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let x=o.replace(/^\/*/,"/"),y=g.useMemo(()=>({basename:x,navigator:m,static:f,future:{}}),[x,m,f]);typeof s=="string"&&(s=xr(s));let{pathname:E="/",search:k="",hash:h="",state:A=null,key:I="default"}=s,M=g.useMemo(()=>{let Y=pn(E,x);return Y==null?null:{location:{pathname:Y,search:k,hash:h,state:A,key:I},navigationType:d}},[x,E,k,h,A,I,d]);return Xt(M!=null,`<Router basename="${x}"> is not able to match the URL "${E}${k}${h}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:g.createElement(Jt.Provider,{value:y},g.createElement(ul.Provider,{children:c,value:M}))}function cf({children:o,location:c}){return Qm(Ti(o),c)}function Ti(o,c=[]){let s=[];return g.Children.forEach(o,(d,m)=>{if(!g.isValidElement(d))return;let f=[...c,m];if(d.type===g.Fragment){s.push.apply(s,Ti(d.props.children,f));return}qe(d.type===rt,`[${typeof d.type=="string"?d.type:d.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),qe(!d.props.index||!d.props.children,"An index route cannot have child routes.");let x={id:d.props.id||f.join("-"),caseSensitive:d.props.caseSensitive,element:d.props.element,Component:d.props.Component,index:d.props.index,path:d.props.path,middleware:d.props.middleware,loader:d.props.loader,action:d.props.action,hydrateFallbackElement:d.props.hydrateFallbackElement,HydrateFallback:d.props.HydrateFallback,errorElement:d.props.errorElement,ErrorBoundary:d.props.ErrorBoundary,hasErrorBoundary:d.props.hasErrorBoundary===!0||d.props.ErrorBoundary!=null||d.props.errorElement!=null,shouldRevalidate:d.props.shouldRevalidate,handle:d.props.handle,lazy:d.props.lazy};d.props.children&&(x.children=Ti(d.props.children,f)),s.push(x)}),s}var ko="get",Co="application/x-www-form-urlencoded";function Io(o){return o!=null&&typeof o.tagName=="string"}function uf(o){return Io(o)&&o.tagName.toLowerCase()==="button"}function df(o){return Io(o)&&o.tagName.toLowerCase()==="form"}function pf(o){return Io(o)&&o.tagName.toLowerCase()==="input"}function mf(o){return!!(o.metaKey||o.altKey||o.ctrlKey||o.shiftKey)}function ff(o,c){return o.button===0&&(!c||c==="_self")&&!mf(o)}var wo=null;function gf(){if(wo===null)try{new FormData(document.createElement("form"),0),wo=!1}catch{wo=!0}return wo}var yf=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ki(o){return o!=null&&!yf.has(o)?(Xt(!1,`"${o}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Co}"`),null):o}function hf(o,c){let s,d,m,f,x;if(df(o)){let y=o.getAttribute("action");d=y?pn(y,c):null,s=o.getAttribute("method")||ko,m=ki(o.getAttribute("enctype"))||Co,f=new FormData(o)}else if(uf(o)||pf(o)&&(o.type==="submit"||o.type==="image")){let y=o.form;if(y==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let E=o.getAttribute("formaction")||y.getAttribute("action");if(d=E?pn(E,c):null,s=o.getAttribute("formmethod")||y.getAttribute("method")||ko,m=ki(o.getAttribute("formenctype"))||ki(y.getAttribute("enctype"))||Co,f=new FormData(y,o),!gf()){let{name:k,type:h,value:A}=o;if(h==="image"){let I=k?`${k}.`:"";f.append(`${I}x`,"0"),f.append(`${I}y`,"0")}else k&&f.append(k,A)}}else{if(Io(o))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=ko,d=null,m=Co,x=o}return f&&m==="text/plain"&&(x=f,f=void 0),{action:d,method:s.toLowerCase(),encType:m,formData:f,body:x}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ri(o,c){if(o===!1||o===null||typeof o>"u")throw new Error(c)}function xf(o,c,s){let d=typeof o=="string"?new URL(o,typeof window>"u"?"server://singlefetch/":window.location.origin):o;return d.pathname==="/"?d.pathname=`_root.${s}`:c&&pn(d.pathname,c)==="/"?d.pathname=`${c.replace(/\/$/,"")}/_root.${s}`:d.pathname=`${d.pathname.replace(/\/$/,"")}.${s}`,d}async function Ef(o,c){if(o.id in c)return c[o.id];try{let s=await import(o.module);return c[o.id]=s,s}catch(s){return console.error(`Error loading route module \`${o.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vf(o){return o==null?!1:o.href==null?o.rel==="preload"&&typeof o.imageSrcSet=="string"&&typeof o.imageSizes=="string":typeof o.rel=="string"&&typeof o.href=="string"}async function bf(o,c,s){let d=await Promise.all(o.map(async m=>{let f=c.routes[m.route.id];if(f){let x=await Ef(f,s);return x.links?x.links():[]}return[]}));return Cf(d.flat(1).filter(vf).filter(m=>m.rel==="stylesheet"||m.rel==="preload").map(m=>m.rel==="stylesheet"?{...m,rel:"prefetch",as:"style"}:{...m,rel:"prefetch"}))}function Lu(o,c,s,d,m,f){let x=(E,k)=>s[k]?E.route.id!==s[k].route.id:!0,y=(E,k)=>s[k].pathname!==E.pathname||s[k].route.path?.endsWith("*")&&s[k].params["*"]!==E.params["*"];return f==="assets"?c.filter((E,k)=>x(E,k)||y(E,k)):f==="data"?c.filter((E,k)=>{let h=d.routes[E.route.id];if(!h||!h.hasLoader)return!1;if(x(E,k)||y(E,k))return!0;if(E.route.shouldRevalidate){let A=E.route.shouldRevalidate({currentUrl:new URL(m.pathname+m.search+m.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(o,window.origin),nextParams:E.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function Sf(o,c,{includeHydrateFallback:s}={}){return wf(o.map(d=>{let m=c.routes[d.route.id];if(!m)return[];let f=[m.module];return m.clientActionModule&&(f=f.concat(m.clientActionModule)),m.clientLoaderModule&&(f=f.concat(m.clientLoaderModule)),s&&m.hydrateFallbackModule&&(f=f.concat(m.hydrateFallbackModule)),m.imports&&(f=f.concat(m.imports)),f}).flat(1))}function wf(o){return[...new Set(o)]}function kf(o){let c={},s=Object.keys(o).sort();for(let d of s)c[d]=o[d];return c}function Cf(o,c){let s=new Set;return new Set(c),o.reduce((d,m)=>{let f=JSON.stringify(kf(m));return s.has(f)||(s.add(f),d.push({key:f,link:m})),d},[])}function rd(){let o=g.useContext(Er);return Ri(o,"You must render this element inside a <DataRouterContext.Provider> element"),o}function Tf(){let o=g.useContext(No);return Ri(o,"You must render this element inside a <DataRouterStateContext.Provider> element"),o}var Ai=g.createContext(void 0);Ai.displayName="FrameworkContext";function ld(){let o=g.useContext(Ai);return Ri(o,"You must render this element inside a <HydratedRouter> element"),o}function Nf(o,c){let s=g.useContext(Ai),[d,m]=g.useState(!1),[f,x]=g.useState(!1),{onFocus:y,onBlur:E,onMouseEnter:k,onMouseLeave:h,onTouchStart:A}=c,I=g.useRef(null);g.useEffect(()=>{if(o==="render"&&x(!0),o==="viewport"){let U=N=>{N.forEach(C=>{x(C.isIntersecting)})},S=new IntersectionObserver(U,{threshold:.5});return I.current&&S.observe(I.current),()=>{S.disconnect()}}},[o]),g.useEffect(()=>{if(d){let U=setTimeout(()=>{x(!0)},100);return()=>{clearTimeout(U)}}},[d]);let M=()=>{m(!0)},Y=()=>{m(!1),x(!1)};return s?o!=="intent"?[f,I,{}]:[f,I,{onFocus:il(y,M),onBlur:il(E,Y),onMouseEnter:il(k,M),onMouseLeave:il(h,Y),onTouchStart:il(A,M)}]:[!1,I,{}]}function il(o,c){return s=>{o&&o(s),s.defaultPrevented||c(s)}}function If({page:o,...c}){let{router:s}=rd(),d=g.useMemo(()=>Gu(s.routes,o,s.basename),[s.routes,o,s.basename]);return d?g.createElement(Rf,{page:o,matches:d,...c}):null}function Pf(o){let{manifest:c,routeModules:s}=ld(),[d,m]=g.useState([]);return g.useEffect(()=>{let f=!1;return bf(o,c,s).then(x=>{f||m(x)}),()=>{f=!0}},[o,c,s]),d}function Rf({page:o,matches:c,...s}){let d=Bn(),{manifest:m,routeModules:f}=ld(),{basename:x}=rd(),{loaderData:y,matches:E}=Tf(),k=g.useMemo(()=>Lu(o,c,E,m,d,"data"),[o,c,E,m,d]),h=g.useMemo(()=>Lu(o,c,E,m,d,"assets"),[o,c,E,m,d]),A=g.useMemo(()=>{if(o===d.pathname+d.search+d.hash)return[];let Y=new Set,U=!1;if(c.forEach(N=>{let C=m.routes[N.route.id];!C||!C.hasLoader||(!k.some(H=>H.route.id===N.route.id)&&N.route.id in y&&f[N.route.id]?.shouldRevalidate||C.hasClientLoader?U=!0:Y.add(N.route.id))}),Y.size===0)return[];let S=xf(o,x,"data");return U&&Y.size>0&&S.searchParams.set("_routes",c.filter(N=>Y.has(N.route.id)).map(N=>N.route.id).join(",")),[S.pathname+S.search]},[x,y,d,m,k,c,o,f]),I=g.useMemo(()=>Sf(h,m),[h,m]),M=Pf(h);return g.createElement(g.Fragment,null,A.map(Y=>g.createElement("link",{key:Y,rel:"prefetch",as:"fetch",href:Y,...s})),I.map(Y=>g.createElement("link",{key:Y,rel:"modulepreload",href:Y,...s})),M.map(({key:Y,link:U})=>g.createElement("link",{key:Y,nonce:s.nonce,...U})))}function Af(...o){return c=>{o.forEach(s=>{typeof s=="function"?s(c):s!=null&&(s.current=c)})}}var od=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{od&&(window.__reactRouterVersion="7.9.4")}catch{}function Bf({basename:o,children:c,window:s}){let d=g.useRef();d.current==null&&(d.current=Em({window:s,v5Compat:!0}));let m=d.current,[f,x]=g.useState({action:m.action,location:m.location}),y=g.useCallback(E=>{g.startTransition(()=>x(E))},[x]);return g.useLayoutEffect(()=>m.listen(y),[m,y]),g.createElement(sf,{basename:o,children:c,location:f.location,navigationType:f.action,navigator:m})}var ad=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,id=g.forwardRef(function({onClick:c,discover:s="render",prefetch:d="none",relative:m,reloadDocument:f,replace:x,state:y,target:E,to:k,preventScrollReset:h,viewTransition:A,...I},M){let{basename:Y}=g.useContext(Jt),U=typeof k=="string"&&ad.test(k),S,N=!1;if(typeof k=="string"&&U&&(S=k,od))try{let D=new URL(window.location.href),W=k.startsWith("//")?new URL(D.protocol+k):new URL(k),ie=pn(W.pathname,Y);W.origin===D.origin&&ie!=null?k=ie+W.search+W.hash:N=!0}catch{Xt(!1,`<Link to="${k}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=Vm(k,{relative:m}),[H,$,q]=Nf(d,I),X=Mf(k,{replace:x,state:y,target:E,preventScrollReset:h,relative:m,viewTransition:A});function xe(D){c&&c(D),D.defaultPrevented||X(D)}let he=g.createElement("a",{...I,...q,href:S||C,onClick:N||f?c:xe,ref:Af(M,$),target:E,"data-discover":!U&&s==="render"?"true":void 0});return H&&!U?g.createElement(g.Fragment,null,he,g.createElement(If,{page:C})):he});id.displayName="Link";var Df=g.forwardRef(function({"aria-current":c="page",caseSensitive:s=!1,className:d="",end:m=!1,style:f,to:x,viewTransition:y,children:E,...k},h){let A=pl(x,{relative:k.relative}),I=Bn(),M=g.useContext(No),{navigator:Y,basename:U}=g.useContext(Jt),S=M!=null&&_f(A)&&y===!0,N=Y.encodeLocation?Y.encodeLocation(A).pathname:A.pathname,C=I.pathname,H=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;s||(C=C.toLowerCase(),H=H?H.toLowerCase():null,N=N.toLowerCase()),H&&U&&(H=pn(H,U)||H);const $=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let q=C===N||!m&&C.startsWith(N)&&C.charAt($)==="/",X=H!=null&&(H===N||!m&&H.startsWith(N)&&H.charAt(N.length)==="/"),xe={isActive:q,isPending:X,isTransitioning:S},he=q?c:void 0,D;typeof d=="function"?D=d(xe):D=[d,q?"active":null,X?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let W=typeof f=="function"?f(xe):f;return g.createElement(id,{...k,"aria-current":he,className:D,ref:h,style:W,to:x,viewTransition:y},typeof E=="function"?E(xe):E)});Df.displayName="NavLink";var zf=g.forwardRef(({discover:o="render",fetcherKey:c,navigate:s,reloadDocument:d,replace:m,state:f,method:x=ko,action:y,onSubmit:E,relative:k,preventScrollReset:h,viewTransition:A,...I},M)=>{let Y=Wf(),U=$f(y,{relative:k}),S=x.toLowerCase()==="get"?"get":"post",N=typeof y=="string"&&ad.test(y),C=H=>{if(E&&E(H),H.defaultPrevented)return;H.preventDefault();let $=H.nativeEvent.submitter,q=$?.getAttribute("formmethod")||x;Y($||H.currentTarget,{fetcherKey:c,method:q,navigate:s,replace:m,state:f,relative:k,preventScrollReset:h,viewTransition:A})};return g.createElement("form",{ref:M,method:S,action:U,onSubmit:d?E:C,...I,"data-discover":!N&&o==="render"?"true":void 0})});zf.displayName="Form";function Lf(o){return`${o} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sd(o){let c=g.useContext(Er);return qe(c,Lf(o)),c}function Mf(o,{target:c,replace:s,state:d,preventScrollReset:m,relative:f,viewTransition:x}={}){let y=Tt(),E=Bn(),k=pl(o,{relative:f});return g.useCallback(h=>{if(ff(h,c)){h.preventDefault();let A=s!==void 0?s:cl(E)===cl(k);y(o,{replace:A,state:d,preventScrollReset:m,relative:f,viewTransition:x})}},[E,y,k,s,d,c,o,m,f,x])}var Ff=0,Of=()=>`__${String(++Ff)}__`;function Wf(){let{router:o}=sd("useSubmit"),{basename:c}=g.useContext(Jt),s=rf();return g.useCallback(async(d,m={})=>{let{action:f,method:x,encType:y,formData:E,body:k}=hf(d,c);if(m.navigate===!1){let h=m.fetcherKey||Of();await o.fetch(h,s,m.action||f,{preventScrollReset:m.preventScrollReset,formData:E,body:k,formMethod:m.method||x,formEncType:m.encType||y,flushSync:m.flushSync})}else await o.navigate(m.action||f,{preventScrollReset:m.preventScrollReset,formData:E,body:k,formMethod:m.method||x,formEncType:m.encType||y,replace:m.replace,state:m.state,fromRouteId:s,flushSync:m.flushSync,viewTransition:m.viewTransition})},[o,c,s])}function $f(o,{relative:c}={}){let{basename:s}=g.useContext(Jt),d=g.useContext(Zt);qe(d,"useFormAction must be used inside a RouteContext");let[m]=d.matches.slice(-1),f={...pl(o||".",{relative:c})},x=Bn();if(o==null){f.search=x.search;let y=new URLSearchParams(f.search),E=y.getAll("index");if(E.some(h=>h==="")){y.delete("index"),E.filter(A=>A).forEach(A=>y.append("index",A));let h=y.toString();f.search=h?`?${h}`:""}}return(!o||o===".")&&m.route.index&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(f.pathname=f.pathname==="/"?s:dn([s,f.pathname])),cl(f)}function _f(o,{relative:c}={}){let s=g.useContext(Xu);qe(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:d}=sd("useViewTransitionState"),m=pl(o,{relative:c});if(!s.isTransitioning)return!1;let f=pn(s.currentLocation.pathname,d)||s.currentLocation.pathname,x=pn(s.nextLocation.pathname,d)||s.nextLocation.pathname;return To(m.pathname,x)!=null||To(m.pathname,f)!=null}const cd=g.createContext(null),ud=({children:o})=>{const[c,s]=g.useState(null),[d,m]=g.useState(!1),[f,x]=g.useState(!0);g.useEffect(()=>{const k=localStorage.getItem("authToken"),h=localStorage.getItem("user");if(k&&h)try{s(JSON.parse(h)),m(!0)}catch(A){console.error("Error parsing stored user:",A),localStorage.removeItem("authToken"),localStorage.removeItem("user")}x(!1)},[]);const y=(k,h)=>{localStorage.setItem("authToken",h),localStorage.setItem("user",JSON.stringify(k)),s(k),m(!0)},E=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("user"),s(null),m(!1)};return n.createElement(cd.Provider,{value:{isAuthenticated:d,user:c,login:y,logout:E,loading:f}},o)},st=()=>g.useContext(cd),P={pageSubtitle:{fontSize:"18px",color:"#64748b",fontWeight:500},profileDropdown:{position:"absolute",top:"100%",right:0,background:"white",borderRadius:"12px",boxShadow:"0 8px 24px rgba(0,0,0,0.1)",zIndex:1010,width:"200px",overflow:"hidden",paddingTop:"10px"},profileDropdownItem:{padding:"12px 16px",cursor:"pointer",fontSize:"14px",color:"#475569",fontWeight:500},noPropertiesContainer:{textAlign:"center",padding:"60px 20px",backgroundColor:"#f8f9fa",borderRadius:"16px",border:"2px dashed #e2e8f0"},noPropertiesText:{fontSize:"18px",color:"#64748b",marginBottom:"24px"},app:{fontFamily:"'Inter', 'Segoe UI', system-ui, sans-serif",minHeight:"100vh",backgroundColor:"#f8fafc"},header:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",position:"sticky",top:8,borderRadius:20,zIndex:1e3,boxShadow:"0 4px 20px rgba(0,0,0,1)"},headerContent:{maxWidth:1400,margin:"0 auto",padding:"16px 32px",display:"flex",alignItems:"center",justifyContent:"space-between"},logo:{display:"flex",alignItems:"center",gap:"12px",fontSize:"28px",color:"white",fontWeight:800,cursor:"pointer"},logoIcon:{fontSize:"32px"},nav:{display:"flex",gap:"28px",alignItems:"center"},navItem:{position:"relative",cursor:"pointer",padding:"12px 0"},navText:{fontSize:"16px",fontWeight:600,color:"white"},dropdown:{position:"absolute",top:"100%",left:"-50px",backgroundColor:"white",boxShadow:"0 20px 40px rgba(0,0,0,0.15)",borderRadius:"16px",padding:"24px",marginTop:"2px",minWidth:"650px",display:"flex",gap:"32px",zIndex:1e3},dropdownSection:{flex:1},dropdownTitle:{fontSize:"14px",fontWeight:700,color:"#4f46e5",marginBottom:"16px",textTransform:"uppercase"},dropdownItem:{padding:"10px 16px",cursor:"pointer",borderRadius:"8px",fontSize:"14px",color:"#475569",fontWeight:500,marginBottom:"4px"},authSection:{display:"flex",alignItems:"center",gap:"16px"},userSection:{display:"flex",alignItems:"center",gap:"8px",background:"rgba(255,255,255,0.1)",padding:"8px 16px",borderRadius:"12px"},userIcon:{fontSize:"18px"},userName:{fontWeight:600,fontSize:"14px",color:"white"},authButtons:{display:"flex",gap:"12px"},btnIcon:{marginRight:"8px",fontSize:"16px"},postBtn:{background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"white",padding:"12px 24px",borderRadius:"12px",border:"none",cursor:"pointer",fontWeight:600,fontSize:"16px",display:"flex",alignItems:"center",transition:"transform 0.2s, box-shadow 0.2s"},loginBtn:{backgroundColor:"transparent",color:"white",padding:"12px 20px",borderRadius:"12px",border:"2px solid rgba(255,255,255,0.3)",cursor:"pointer",fontWeight:600,fontSize:"14px",display:"flex",alignItems:"center",transition:"background-color 0.2s, border-color 0.2s"},signupBtn:{background:"white",color:"#667eea",padding:"12px 20px",borderRadius:"12px",border:"none",cursor:"pointer",fontWeight:600,fontSize:"14px",display:"flex",alignItems:"center",transition:"transform 0.2s, box-shadow 0.2s"},container:{maxWidth:1400,margin:"0 auto",padding:"24px 32px",minHeight:"80vh"},heroSection:{backgroundColor:"#e0f2fe",padding:"60px 40px",borderRadius:"24px",marginBottom:"40px",display:"flex",justifyContent:"space-between",alignItems:"center",overflow:"hidden",position:"relative"},heroContent:{maxWidth:"60%",zIndex:2},mainTitle:{fontSize:"48px",fontWeight:800,color:"#1e293b",marginBottom:"16px"},titleGradient:{background:"linear-gradient(90deg, #667eea 0%, #764ba2 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},heroSubtitle:{fontSize:"20px",color:"#475569"},heroGraphics:{position:"absolute",right:"50px",top:"50%",transform:"translateY(-50%)",width:"300px",height:"300px",display:"flex",justifyContent:"center",alignItems:"center"},floatingElement1:{position:"absolute",fontSize:"50px",top:"10%",left:"10%",animation:"float 6s ease-in-out infinite"},floatingElement2:{position:"absolute",fontSize:"80px",top:"40%",right:"10%",animation:"float 7s ease-in-out infinite 1s"},floatingElement3:{position:"absolute",fontSize:"40px",bottom:"15%",left:"30%",animation:"float 5s ease-in-out infinite 2s"},searchSection:{marginTop:"-100px",marginBottom:"60px",zIndex:10,position:"relative"},section:{marginBottom:"60px"},sectionTitle:{fontSize:"28px",fontWeight:700,color:"#1e293b",marginBottom:"24px",display:"flex",alignItems:"center"},sectionIcon:{marginRight:"12px",fontSize:"28px"},areasGrid:{display:"flex",flexWrap:"wrap",gap:"16px"},areaButton:{backgroundColor:"white",color:"#334155",padding:"12px 24px",borderRadius:"12px",border:"1px solid #e2e8f0",cursor:"pointer",fontWeight:600,fontSize:"16px",display:"flex",alignItems:"center",gap:"8px",transition:"transform 0.2s, box-shadow 0.2s, border-color 0.2s"},areaEmoji:{fontSize:"18px"},propertiesSection:{marginBottom:"60px",paddingTop:"20px"},tabContainer:{display:"flex",marginBottom:"20px",borderBottom:"2px solid #e2e8f0"},tab:{padding:"12px 24px",fontSize:"16px",fontWeight:600,cursor:"pointer",border:"none",backgroundColor:"transparent",color:"#64748b",borderBottom:"3px solid transparent",transition:"color 0.2s"},activeTab:{color:"#667eea",borderBottom:"3px solid #667eea"},sectionHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},clearSearchBtn:{backgroundColor:"#f1f5f9",color:"#475569",padding:"8px 16px",borderRadius:"8px",border:"none",cursor:"pointer",fontWeight:500,fontSize:"14px"},emptyState:{textAlign:"center",padding:"60px 20px",backgroundColor:"#ffffff",borderRadius:"16px",border:"2px dashed #cbd5e1",marginTop:"32px"},emptyIcon:{fontSize:"48px",marginBottom:"16px"},emptyTitle:{fontSize:"24px",fontWeight:700,color:"#1e293b",marginBottom:"8px"},emptyText:{fontSize:"16px",color:"#64748b",marginBottom:"24px"},statsSection:{padding:"40px 0",backgroundColor:"#f1f5f9",borderRadius:"24px",marginBottom:"40px"},statsGrid:{maxWidth:1200,margin:"0 auto",display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"32px"},statCard:{textAlign:"center",padding:"20px",backgroundColor:"white",borderRadius:"16px",boxShadow:"0 8px 20px rgba(0,0,0,0.05)"},statIcon:{fontSize:"36px",marginBottom:"12px"},statNumber:{fontSize:"32px",fontWeight:800,color:"#667eea",marginBottom:"4px"},statLabel:{fontSize:"16px",color:"#64748b"},backButton:{backgroundColor:"transparent",border:"none",color:"#4f46e5",cursor:"pointer",fontSize:"16px",fontWeight:600,marginBottom:"20px",display:"flex",alignItems:"center",transition:"opacity 0.2s"},backIcon:{marginRight:"8px"},pageHeader:{marginBottom:"32px",borderBottom:"2px solid #e2e8f0",paddingBottom:"16px"},pageTitle:{fontSize:"36px",fontWeight:800,color:"#1e293b",marginBottom:"8px"},loadingContainer:{textAlign:"center",padding:"80px 20px",backgroundColor:"#f8f9fa",borderRadius:"16px",marginTop:"32px"},spinner:{fontSize:"48px",marginBottom:"16px"},errorContainer:{textAlign:"center",padding:"60px 20px",backgroundColor:"#fee2e2",borderRadius:"16px",border:"2px solid #f87171",color:"#dc2626",marginTop:"32px"},retryBtn:{marginTop:"20px",backgroundColor:"#dc2626",color:"white",padding:"10px 20px",borderRadius:"8px",border:"none",cursor:"pointer",fontWeight:600,transition:"background-color 0.2s"},statsBar:{display:"flex",gap:"24px",marginBottom:"32px",padding:"24px",backgroundColor:"#f8fafc",borderRadius:"16px",border:"2px solid #e2e8f0"},statItem:{display:"flex",flexDirection:"column",gap:"4px"},statValue:{fontSize:"24px",fontWeight:700,color:"#1e293b"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"2rem",marginTop:"1rem"}},Uf=()=>{const o=document.createElement("style");o.textContent=`
      @keyframes float {
        0%, 100% { transform: translateY(0px) rotate(0deg); }
        50% { transform: translateY(-20px) rotate(5deg); }
      }

      .areaButton:hover {
        transform: translateY(-4px);
        border-color: #667eea;
        color: #667eea;
        box-shadow: 0 8px 16px rgba(102, 126, 234, 0.15);
      }

      div[style*="dropdownItem"]:hover {
        background: linear-gradient(135deg, #f0f4ff 0%, #e0e7ff 100%);
        color: #4f46e5;
      }

      .userSection:hover {
        cursor: pointer;
        background: rgba(255, 255, 255, 0.25) !important;
      }
    `,document.head.appendChild(o)},Ie="http://localhost:8080";function jf({onClose:o}){const[c,s]=g.useState("credentials"),[d,m]=g.useState({username:"",password:""}),[f,x]=g.useState(!1),[y,E]=g.useState({firstName:"",lastName:"",username:"",email:"",password:"",mobileNumber:""}),[k,h]=g.useState(null),[A,I]=g.useState(!1),{login:M}=st(),Y=he=>{const{name:D,value:W}=he.target;m({...d,[D]:W}),h(null)},U=he=>{const{name:D,value:W}=he.target;E({...y,[D]:W}),h(null)},S=async he=>{he.preventDefault(),I(!0),h(null);try{const D=await fetch(`${Ie}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)}),W=await D.json();D.ok&&W.data&&W.data.token?(M(W.data.user,W.data.token),o()):h(W.message||"Login failed")}catch(D){h("Network error. Please try again."),console.error("Login error:",D)}finally{I(!1)}},N=async he=>{if(he.preventDefault(),y.password.length<6){h("Password must be at least 6 characters");return}I(!0),h(null);try{const D=await fetch(`${Ie}/api/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)}),W=await D.json();D.ok&&W.data&&W.data.token?(M(W.data.user,W.data.token),o()):h(W.message||"Registration failed")}catch(D){h("Network error. Please try again."),console.error("Register error:",D)}finally{I(!1)}},C={position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},H={background:"white",padding:"2rem",borderRadius:"8px",width:"450px",fontFamily:"system-ui",position:"relative",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.2)"},$={width:"100%",padding:"12px",boxSizing:"border-box",marginBottom:"1rem",borderRadius:"6px",border:"1px solid #ccc",fontSize:"14px"},q={width:"100%",padding:"12px",background:"#3b82f6",color:"white",border:"none",cursor:"pointer",borderRadius:"6px",fontSize:"16px",fontWeight:"bold",marginBottom:"1rem"},X={...q,background:"#6b7280",marginBottom:"0.5rem"},xe={background:"#fee2e2",color:"#dc2626",padding:"12px",borderRadius:"6px",marginBottom:"1rem",fontSize:"14px",border:"1px solid #fca5a5"};return n.createElement("div",{style:C,onClick:o},n.createElement("div",{style:H,onClick:he=>he.stopPropagation()},n.createElement("button",{onClick:o,style:{position:"absolute",top:"10px",right:"15px",border:"none",background:"transparent",fontSize:"24px",cursor:"pointer"}},""),k&&n.createElement("div",{style:xe}," ",k),f?n.createElement("form",{onSubmit:N},n.createElement("h2",{style:{marginTop:0,marginBottom:"1.5rem"}}," CREATE ACCOUNT"),n.createElement("input",{type:"text",name:"firstName",placeholder:"First Name",value:y.firstName,onChange:U,style:$,required:!0}),n.createElement("input",{type:"text",name:"lastName",placeholder:"Last Name",value:y.lastName,onChange:U,style:$,required:!0}),n.createElement("input",{type:"text",name:"username",placeholder:"Username",value:y.username,onChange:U,style:$,required:!0}),n.createElement("input",{type:"email",name:"email",placeholder:"Email",value:y.email,onChange:U,style:$,required:!0}),n.createElement("input",{type:"tel",name:"mobileNumber",placeholder:"Mobile Number",value:y.mobileNumber,onChange:U,style:$}),n.createElement("input",{type:"password",name:"password",placeholder:"Password (min 6 chars)",value:y.password,onChange:U,style:$,required:!0}),n.createElement("button",{type:"submit",style:q,disabled:A},A?" Registering...":" Register"),n.createElement("button",{type:"button",onClick:()=>{x(!1),h(null)},style:X}," Back to Login")):n.createElement("form",{onSubmit:S},n.createElement("h2",{style:{marginTop:0,marginBottom:"1.5rem"}}," Login"),n.createElement("input",{type:"text",name:"username",placeholder:"Username",value:d.username,onChange:Y,style:$,required:!0}),n.createElement("input",{type:"password",name:"password",placeholder:"Password",value:d.password,onChange:Y,style:$,required:!0}),n.createElement("button",{type:"submit",style:q,disabled:A},A?" Logging in...":" Login"),n.createElement("button",{type:"button",onClick:()=>{x(!0),h(null)},style:X}," Create New Account"))))}function Hf({onClose:o,onPropertyPosted:c}){const{user:s,isAuthenticated:d}=st(),[m,f]=g.useState([]),[x,y]=g.useState(!1),[E,k]=g.useState(null),[h,A]=g.useState(!0),[I,M]=g.useState(!1),[Y,U]=g.useState(0),[S,N]=g.useState(""),[C,H]=g.useState(""),[$,q]=g.useState({title:"",type:"Apartment",listingType:"sale",city:"Hyderabad",areaId:"",address:"",imageUrl:"",bedrooms:"",bathrooms:"",balconies:"",areaSqft:"",price:"",amenities:"",description:"",ownerType:"owner",isReadyToMove:!1}),X=["Parking","Gym","Swimming Pool","Security","Lift","Power Backup","Club House","Park","Intercom","Visitor Parking","Rainwater Harvesting","24/7 Water Supply","Community Hall"],xe="diw5av4fw",he="ml_default";g.useEffect(()=>{const O=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=O}},[]),g.useEffect(()=>{D()},[]);const D=async()=>{A(!0);try{const O=await fetch(`${Ie}/api/areas?city=Hyderabad`);if(!O.ok)throw new Error(`HTTP ${O.status}`);const G=await O.json();G.success&&Array.isArray(G.data)?(f(G.data),k(null)):k("Invalid response format")}catch(O){k(`Failed to load areas: ${O.message}`),f([])}finally{A(!1)}},W=O=>{const G=Number(O);if(!O||isNaN(G)||G<=0)return"";const V=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine","Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],b=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"],F=j=>{let J="";return j>99&&(J+=V[Math.floor(j/100)]+" Hundred ",j%=100),j>19&&(J+=b[Math.floor(j/10)]+" ",j%=10),j>0&&(J+=V[j]+" "),J};let p="",w=G;return w>=1e7&&(p+=F(Math.floor(w/1e7))+"Crore ",w%=1e7),w>=1e5&&(p+=F(Math.floor(w/1e5))+"Lakh ",w%=1e5),w>=1e3&&(p+=F(Math.floor(w/1e3))+"Thousand ",w%=1e3),w>0&&(p+=F(w)),p.trim()+" Rupees Only"};if(!d||!s)return n.createElement("div",{style:ve.backdrop,onClick:o},n.createElement("div",{style:ve.modal,onClick:O=>O.stopPropagation()},n.createElement("button",{onClick:o,style:ve.closeBtn},""),n.createElement("h2",{style:{color:"#dc3545",textAlign:"center"}},"Please Login First"),n.createElement("p",{style:{textAlign:"center"}},"You need to be logged in to post a property.")));const ie=O=>{q(G=>{const V=G.amenities?G.amenities.split(",").map(F=>F.trim()).filter(F=>F.length>0):[];let b;return V.includes(O)?b=V.filter(F=>F!==O):b=[...V,O],{...G,amenities:b.join(", ")}}),k(null)},re=O=>{const{name:G,value:V,type:b,checked:F}=O.target;let p=b==="checkbox"?F:V;const w=1e9,j=10,J=9999;if(G==="price"){const oe=Number(p);if(!isNaN(oe)&&oe>w){k(`Price cannot exceed ${w.toLocaleString("en-IN")} (100 Crore).`);return}}if(["bedrooms","bathrooms","balconies"].includes(G)){const oe=Number(p);if(!isNaN(oe)&&oe>j){k(`${G.charAt(0).toUpperCase()+G.slice(1)} cannot exceed ${j}.`);return}}if(G==="areaSqft"){const oe=Number(p);if(!isNaN(oe)&&oe>J){k(`Area cannot exceed ${J.toLocaleString()} sqft.`);return}}G==="price"&&p.length>1&&p.startsWith("0")&&(p=p.substring(1)),q(oe=>({...oe,[G]:p})),G==="price"&&N(W(p)),k(null)},Z=async O=>{const G=O.target.files[0];if(!G){H("");return}if(!G.type.startsWith("image/"))return alert("Please select an image file");if(G.size>10*1024*1024)return alert("File too large (max 10MB)");H(G.name),M(!0);try{const V=new FormData;V.append("file",G),V.append("upload_preset",he);const b=await fetch(`https://api.cloudinary.com/v1_1/${xe}/image/upload`,{method:"POST",body:V});if(!b.ok){const p=await b.json();throw new Error(`Upload failed: ${p.error?.message||b.statusText}`)}const F=await b.json();q(p=>({...p,imageUrl:F.secure_url}))}catch(V){alert("Upload failed: "+V.message)}finally{M(!1)}},ce=async O=>{if(O.preventDefault(),y(!0),k(null),!$.title||!$.areaId||!$.imageUrl||!$.bedrooms||!$.bathrooms||!$.price||!$.description){k("Please fill all required fields marked with *"),y(!1);return}const G=parseFloat($.price),V=parseInt($.bedrooms),b=parseInt($.bathrooms),F=$.balconies?parseInt($.balconies):0,p=$.areaSqft?parseFloat($.areaSqft):0,w=1e9,j=10,J=9999;if(isNaN(G)||G<=0||G>w){k("Please enter a valid price, not exceeding 100 Crore."),y(!1);return}if(V>j||b>j||F>j){k(`Bedrooms, Bathrooms, and Balconies cannot exceed ${j}.`),y(!1);return}if(p>J){k(`AreaSqft cannot exceed ${J.toLocaleString()} sqft.`),y(!1);return}let oe;G>=1e7?oe=`${(G/1e7).toFixed(2)} Cr`:G>=1e5?oe=`${(G/1e5).toFixed(2)} Lac`:oe=`${G.toLocaleString("en-IN")}`;const ke={title:$.title,type:$.type,city:$.city,address:$.address||`Area ID ${$.areaId}, ${$.city}`,imageUrl:$.imageUrl,description:$.description,price:G,priceDisplay:oe,areaSqft:$.areaSqft?parseFloat($.areaSqft):null,bedrooms:V,bathrooms:b,balconies:F,amenities:$.amenities||null,listingType:$.listingType,status:"available",isFeatured:!0,isActive:!0,ownerType:$.ownerType,isReadyToMove:$.isReadyToMove,isVerified:!1,area:{id:parseInt($.areaId)},user:{id:s.id}};try{const pe=await fetch(`${Ie}/api/properties`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ke)});if(!pe.ok){const Be=await pe.text();throw new Error("Failed to post property: "+Be)}alert(" Property posted successfully!"),c&&c(),o()}catch(pe){k(pe.message||"Failed to post property. Please try again.")}finally{y(!1)}};return n.createElement("div",{style:ve.backdrop,onClick:o},n.createElement("div",{style:ve.modal,onClick:O=>O.stopPropagation()},n.createElement("button",{onClick:o,style:ve.closeBtn},""),n.createElement("h2",{style:ve.title}," Post Your Property"),E&&n.createElement("div",{style:ve.error}," ",E),n.createElement("form",{onSubmit:ce,style:ve.form},n.createElement("div",{style:ve.field},n.createElement("label",{style:ve.label},"Property Title *"),n.createElement("input",{type:"text",name:"title",value:$.title,onChange:re,placeholder:"e.g., Spacious 2BHK Apartment",style:ve.input,required:!0})),n.createElement("div",{style:ve.row},n.createElement("div",{style:ve.field},n.createElement("label",{style:ve.label},"Property Type *"),n.createElement("select",{name:"type",value:$.type,onChange:re,style:ve.select,required:!0},n.createElement("option",null,"Apartment"),n.createElement("option",null,"Villa"),n.createElement("option",null,"House"),n.createElement("option",null,"Plot"),n.createElement("option",null,"Commercial"),n.createElement("option",null,"Penthouse"),n.createElement("option",null,"Studio"),n.createElement("option",null,"Duplex"))),n.createElement("div",{style:ve.field},n.createElement("label",{style:ve.label},"Listing Type *"),n.createElement("select",{name:"listingType",value:$.listingType,onChange:re,style:ve.select,required:!0},n.createElement("option",{value:"sale"}," For Sale"),n.createElement("option",{value:"rent"}," For Rent")))),n.createElement("div",{style:ve.row},n.createElement("div",{style:ve.field},n.createElement("label",{style:ve.label}," Posted By *"),n.createElement("select",{name:"ownerType",value:$.ownerType,onChange:re,style:ve.select,required:!0},n.createElement("option",{value:"owner"},"Owner"),n.createElement("option",{value:"broker"},"Broker/Agent"))),n.createElement("div",{style:ve.field},n.createElement("label",{style:ve.checkboxLabel},n.createElement("input",{type:"checkbox",name:"isReadyToMove",checked:$.isReadyToMove,onChange:re,style:ve.checkbox}),n.createElement("span",{style:ve.checkboxText}," Ready to Move")))),n.createElement("div",{style:ve.row},n.createElement("div",{style:ve.field},n.createElement("label",{style:ve.label},"City *"),n.createElement("input",{type:"text",name:"city",value:$.city,onChange:re,style:ve.input,required:!0})),n.createElement("div",{style:ve.field},n.createElement("label",{style:ve.label}," Area * ",h&&n.createElement("span",{style:{color:"#f59e0b"}}," (Loading...)"),!h&&m.length>0&&n.createElement("span",{style:{color:"#10b981"}}," (",m.length," available)")),n.createElement("select",{name:"areaId",value:$.areaId,onChange:re,style:ve.select,required:!0,disabled:h||m.length===0},n.createElement("option",{value:""},h?" Loading...":m.length===0?" No areas":"-- Select Area --"),m.map(O=>n.createElement("option",{key:O.areaId,value:O.areaId},O.areaName," (",O.pincode,")"))))),n.createElement("div",{style:ve.field},n.createElement("label",{style:ve.label},"Complete Address (Optional)"),n.createElement("input",{type:"text",name:"address",value:$.address,onChange:re,placeholder:"House/Plot number, Street name",style:ve.input})),n.createElement("div",{style:{...ve.imageSection,border:"2px solid #3b82f6",background:"#f0f9ff"}},n.createElement("h3",{style:{margin:"0 0 12px 0",fontSize:"16px",color:"#1e40af",fontWeight:"700"}}," Upload Property Image *"),$.imageUrl?n.createElement("div",{style:{textAlign:"center"}},n.createElement("div",{style:{background:"#d1fae5",color:"#065f46",padding:"12px",borderRadius:"8px",fontWeight:"600",marginBottom:"12px"}}," Image uploaded!"),n.createElement("img",{src:$.imageUrl,alt:"Preview",style:{...ve.imagePreview,display:"block",margin:"12px auto"}}),n.createElement("button",{type:"button",onClick:()=>q(O=>({...O,imageUrl:""})),style:{marginTop:"12px",padding:"10px 20px",background:"#ef4444",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600",display:"inline-block"}}," Remove Image")):n.createElement(n.Fragment,null,n.createElement("input",{type:"file",accept:"image/*",onChange:Z,disabled:I,style:{display:"block",width:"100%",boxSizing:"border-box",padding:"16px",border:"3px dashed #3b82f6",borderRadius:"8px",backgroundColor:"white",cursor:"pointer",fontSize:"16px",fontWeight:"600",color:"#1e40af"}}),I&&n.createElement("div",{style:{marginTop:"12px"}}))),n.createElement("div",{style:ve.field},n.createElement("label",{style:ve.label},"Description *"),n.createElement("textarea",{name:"description",value:$.description,onChange:re,placeholder:"Describe your property...",style:{...ve.input,minHeight:"100px",resize:"vertical"},required:!0})),n.createElement("div",{style:ve.row3},n.createElement("div",{style:ve.field},n.createElement("label",{style:ve.label}," Bedrooms *"),n.createElement("input",{type:"number",name:"bedrooms",value:$.bedrooms,onChange:re,min:"0",max:"10",style:ve.input,placeholder:"2",required:!0})),n.createElement("div",{style:ve.field},n.createElement("label",{style:ve.label}," Bathrooms *"),n.createElement("input",{type:"number",name:"bathrooms",value:$.bathrooms,onChange:re,min:"0",max:"10",style:ve.input,placeholder:"2",required:!0})),n.createElement("div",{style:ve.field},n.createElement("label",{style:ve.label}," Balconies"),n.createElement("input",{type:"number",name:"balconies",value:$.balconies,onChange:re,min:"0",max:"10",style:ve.input,placeholder:"1"}))),n.createElement("div",{style:ve.row},n.createElement("div",{style:ve.field},n.createElement("label",{style:ve.label}," Area (sqft)"),n.createElement("input",{type:"number",name:"areaSqft",value:$.areaSqft,onChange:re,placeholder:"1200",style:ve.input,max:"9999"})),n.createElement("div",{style:ve.field},n.createElement("label",{style:ve.label}," Expected Price () *"),n.createElement("input",{type:"number",name:"price",value:$.price,onChange:re,placeholder:"e.g..,5000000",style:ve.input,required:!0,max:"1000000000"}),S&&n.createElement("p",{style:ve.priceInWords},S))),n.createElement("div",{style:ve.field},n.createElement("label",{style:ve.label}," Amenities"),n.createElement("div",{style:ve.amenitiesGrid},X.map(O=>{const V=($.amenities?$.amenities.split(",").map(b=>b.trim()):[]).includes(O);return n.createElement("button",{key:O,type:"button",onClick:()=>ie(O),style:{...ve.amenityBtn,backgroundColor:V?"#10b981":"#f1f5f9",color:V?"white":"#475569",borderColor:V?"#059669":"#e2e8f0"}},O)}))),n.createElement("button",{type:"submit",disabled:x||I,style:{...ve.submitBtn,opacity:x||I?.6:1,cursor:x||I?"not-allowed":"pointer"}},x?" Posting...":I?" Uploading...":" Post Property"),n.createElement("p",{style:{textAlign:"center",fontSize:"12px",color:"#9ca3af",margin:"8px 0 0 0"}},"* Required fields"))))}const ve={backdrop:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.75)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,backdropFilter:"blur(4px)"},modal:{background:"white",padding:"2rem",borderRadius:"16px",width:"750px",maxHeight:"90vh",overflowY:"auto",position:"relative",boxShadow:"0 20px 60px rgba(0,0,0,0.3)"},closeBtn:{position:"absolute",top:"15px",right:"15px",background:"#ef4444",color:"white",border:"none",fontSize:"24px",cursor:"pointer",width:"40px",height:"40px",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold"},title:{textAlign:"center",marginBottom:"1rem",fontSize:"28px",color:"#1e293b",fontWeight:"800"},form:{display:"flex",flexDirection:"column",gap:"1rem"},field:{display:"flex",flexDirection:"column"},row:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},row3:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"1rem"},label:{marginBottom:"6px",fontWeight:"700",fontSize:"14px",color:"#1e293b"},checkboxLabel:{display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",background:"#f0f9ff",borderRadius:"8px",cursor:"pointer",border:"2px solid #bfdbfe"},checkbox:{width:"20px",height:"20px",cursor:"pointer"},checkboxText:{fontSize:"14px",fontWeight:"600",color:"#1e40af"},input:{padding:"12px 16px",border:"2px solid #e2e8f0",borderRadius:"8px",fontSize:"14px",fontFamily:"inherit",transition:"border-color 0.3s"},select:{padding:"12px 16px",border:"2px solid #e2e8f0",borderRadius:"8px",fontSize:"14px",cursor:"pointer",fontFamily:"inherit",backgroundColor:"white"},imageSection:{padding:"16px",borderRadius:"12px"},imagePreview:{maxWidth:"100%",maxHeight:"200px",borderRadius:"8px",border:"2px solid #e2e8f0"},error:{background:"#fee2e2",border:"2px solid #fecaca",borderRadius:"8px",padding:"12px",marginBottom:"1rem",textAlign:"center",color:"#dc3545",fontWeight:"600",fontSize:"14px"},submitBtn:{padding:"16px",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"white",border:"none",borderRadius:"10px",fontSize:"16px",fontWeight:"700",cursor:"pointer",marginTop:"1rem",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.3)"},priceInWords:{margin:"6px 0 0 4px",fontSize:"12px",color:"#64748b",fontStyle:"italic"},amenitiesGrid:{display:"flex",flexWrap:"wrap",gap:"8px",marginTop:"4px"},amenityBtn:{padding:"8px 16px",borderRadius:"20px",border:"1px solid",cursor:"pointer",fontSize:"13px",fontWeight:"600",transition:"all 0.2s"}},Gf={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},Vf={backgroundColor:"white",padding:"30px",borderRadius:"12px",width:"450px",boxShadow:"0 5px 15px rgba(0, 0, 0, 0.3)",position:"relative"},hr={width:"100%",padding:"10px",marginBottom:"15px",border:"1px solid #ccc",borderRadius:"6px",boxSizing:"border-box"},Yf=o=>({width:"100%",padding:"12px",background:o,color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"16px",fontWeight:"bold",transition:"background 0.3s"}),Qf=o=>{if(o.length<6)return{strength:"Too Short",color:"#dc3545"};let c=0;return o.match(/[a-z]/)&&c++,o.match(/[A-Z]/)&&c++,o.match(/[0-9]/)&&c++,o.match(/[^a-zA-Z0-9]/)&&c++,c<2?{strength:"Weak",color:"#ffc107"}:c<4?{strength:"Medium",color:"#007bff"}:{strength:"Strong",color:"#28a745"}},qf=({onClose:o,onSignupSuccess:c})=>{const{login:s}=st(),[d,m]=g.useState(!1),[f,x]=g.useState(null),[y,E]=g.useState({firstName:"",lastName:"",username:"",email:"",password:"",mobileNumber:""}),k=g.useMemo(()=>Qf(y.password),[y.password]),h=y.firstName&&y.lastName&&y.username&&y.email&&y.password.length>=6&&y.mobileNumber.length>=10,A=M=>{const{name:Y,value:U}=M.target;E({...y,[Y]:U}),x(null)},I=async M=>{if(M.preventDefault(),k.strength==="Too Short"||k.strength==="Weak"){x("Please choose a stronger password.");return}m(!0),x(null);try{const Y=await fetch(`${Ie}/api/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)}),U=await Y.json();Y.ok&&U.data&&U.data.token?(s(U.data.user,U.data.token),alert(" Registration successful!"),o()):x(U.message||"Registration failed. Please try again.")}catch(Y){console.error("Registration error:",Y),x("Network error. Please check your connection and try again.")}finally{m(!1)}};return n.createElement("div",{style:Gf,onClick:o},n.createElement("div",{style:Vf,onClick:M=>M.stopPropagation()},n.createElement("button",{onClick:o,style:{position:"absolute",top:"10px",right:"10px",background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#6b7280"}},""),n.createElement("h2",{style:{fontSize:"24px",marginBottom:"20px",color:"#3498db"}}," CREATE ACCOUNT"),f&&n.createElement("div",{style:{backgroundColor:"#f8d7da",color:"#721c24",padding:"12px",borderRadius:"6px",marginBottom:"15px",fontSize:"14px",border:"1px solid #f5c6cb"}},f),n.createElement("form",{onSubmit:I},n.createElement("input",{type:"text",name:"firstName",placeholder:"First Name",value:y.firstName,onChange:A,style:hr,required:!0}),n.createElement("input",{type:"text",name:"lastName",placeholder:"Last Name",value:y.lastName,onChange:A,style:hr,required:!0}),n.createElement("input",{type:"text",name:"username",placeholder:"Username",value:y.username,onChange:A,style:hr,required:!0}),n.createElement("input",{type:"email",name:"email",placeholder:"Email",value:y.email,onChange:A,style:hr,required:!0}),n.createElement("input",{type:"password",name:"password",placeholder:"Password",value:y.password,onChange:A,style:hr,required:!0}),y.password&&n.createElement("div",{style:{marginBottom:"15px",fontSize:"14px"}},"Password Strength:"," ",n.createElement("span",{style:{color:k.color,fontWeight:"bold"}},k.strength)),n.createElement("input",{type:"tel",name:"mobileNumber",placeholder:"Mobile Number (10 digits)",value:y.mobileNumber,onChange:A,style:hr,required:!0,maxLength:"10",pattern:"[0-9]{10}"}),n.createElement("button",{type:"submit",style:Yf(h?"#3498db":"#ccc"),disabled:!h||d},d?" Registering...":" Register"))))},Kf={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},Xf={backgroundColor:"white",padding:"30px",borderRadius:"12px",width:"400px",boxShadow:"0 5px 15px rgba(0, 0, 0, 0.3)",position:"relative",fontFamily:"system-ui"},Jf=({user:o,onClose:c,logout:s})=>o?n.createElement("div",{style:Kf},n.createElement("div",{style:Xf},n.createElement("button",{onClick:c,style:{position:"absolute",top:"10px",right:"10px",background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#6b7280"}},""),n.createElement("h2",{style:{fontSize:"24px",marginBottom:"20px",color:"#007bff",textAlign:"center"}},"My Profile"),n.createElement("div",{style:{marginBottom:"20px"}},n.createElement("p",{style:{fontWeight:"bold",marginBottom:"5px",color:"#333"}},"Full Name:"),n.createElement("p",{style:{padding:"8px",background:"#f8f9fa",borderRadius:"4px",border:"1px solid #e9ecef"}},o.firstName," ",o.lastName)),n.createElement("div",{style:{marginBottom:"20px"}},n.createElement("p",{style:{fontWeight:"bold",marginBottom:"5px",color:"#333"}},"Username:"),n.createElement("p",{style:{padding:"8px",background:"#f8f9fa",borderRadius:"4px",border:"1px solid #e9ecef"}},o.username)),n.createElement("div",{style:{marginBottom:"20px"}},n.createElement("p",{style:{fontWeight:"bold",marginBottom:"5px",color:"#333"}},"Email:"),n.createElement("p",{style:{padding:"8px",background:"#f8f9fa",borderRadius:"4px",border:"1px solid #e9ecef"}},o.email)),n.createElement("div",{style:{marginBottom:"30px"}},n.createElement("p",{style:{fontWeight:"bold",marginBottom:"5px",color:"#333"}},"Phone (Login ID):"),n.createElement("p",{style:{padding:"8px",background:"#f8f9fa",borderRadius:"4px",border:"1px solid #e9ecef"}},o.mobileNumber||o.phone||"N/A")),n.createElement("button",{onClick:()=>{s(),c()},style:{width:"100%",padding:"10px",background:"#dc3545",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"bold"}},"Logout"))):null;function Zf({property:o,onClose:c,onPropertyUpdated:s}){const{user:d,isAuthenticated:m}=st(),[f,x]=g.useState([]),[y,E]=g.useState(!1),[k,h]=g.useState(null),[A,I]=g.useState(!0),[M,Y]=g.useState(!1),[U,S]=g.useState(0),[N,C]=g.useState({title:o?.title||"",type:o?.type||o?.propertyType||"Apartment",listingType:o?.listingType||"sale",city:o?.city||o?.cityName||"Hyderabad",areaId:o?.area?.areaId||"",address:o?.address||"",imageUrl:o?.imageUrl||"",bedrooms:o?.bedrooms||"",bathrooms:o?.bathrooms||"",balconies:o?.balconies||"",areaSqft:o?.areaSqft||"",price:o?.price||"",amenities:o?.amenities||"",description:o?.description||"",ownerType:o?.ownerType||"owner",isReadyToMove:o?.isReadyToMove||!1,isVerified:o?.isVerified||!1}),H="diw5av4fw",$="ml_default";g.useEffect(()=>{q()},[]);const q=async()=>{I(!0);try{const D=await fetch(`${Ie}/api/areas?city=Hyderabad`);if(!D.ok)throw new Error(`HTTP ${D.status}`);const W=await D.json();W.success&&Array.isArray(W.data)?(x(W.data),h(null)):h("Invalid response format")}catch(D){h(`Failed to load areas: ${D.message}`),x([])}finally{I(!1)}};if(!m||!d)return n.createElement("div",{style:ge.backdrop,onClick:c},n.createElement("div",{style:ge.modal,onClick:D=>D.stopPropagation()},n.createElement("button",{onClick:c,style:ge.closeBtn},""),n.createElement("h2",{style:{color:"#dc3545",textAlign:"center"}},"Please Login First")));const X=D=>{const{name:W,value:ie,type:re,checked:Z}=D.target;C(ce=>({...ce,[W]:re==="checkbox"?Z:ie})),h(null)},xe=async D=>{const W=D.target.files[0];if(W){if(!W.type.startsWith("image/"))return alert("Please select an image file");if(W.size>10*1024*1024)return alert("File too large (max 10MB)");Y(!0),S(10);try{const ie=new FormData;ie.append("file",W),ie.append("upload_preset",$),S(30);const re=await fetch(`https://api.cloudinary.com/v1_1/${H}/image/upload`,{method:"POST",body:ie});if(S(70),!re.ok){const ce=await re.json();throw new Error(`Upload failed: ${ce.error?.message||re.statusText}`)}const Z=await re.json();S(100),C(ce=>({...ce,imageUrl:Z.secure_url})),setTimeout(()=>S(0),2e3)}catch(ie){alert("Upload failed: "+ie.message)}finally{Y(!1)}}},he=async D=>{if(D.preventDefault(),E(!0),h(null),!N.title||!N.areaId||!N.imageUrl||!N.bedrooms||!N.bathrooms||!N.price||!N.description){h("Please fill all required fields marked with *"),E(!1);return}const W=parseFloat(N.price);if(isNaN(W)||W<=0){h("Please enter a valid price"),E(!1);return}let ie;W>=1e7?ie=`${(W/1e7).toFixed(2)} Cr`:W>=1e5?ie=`${(W/1e5).toFixed(2)} Lac`:ie=`${W.toLocaleString("en-IN")}`;const re=f.find(ce=>ce.areaId.toString()===N.areaId);if(!re){h("Invalid area selected. Please try again."),E(!1);return}const Z={title:N.title,type:N.type,city:N.city,address:N.address||`${re.areaName}, ${N.city}`,imageUrl:N.imageUrl,description:N.description,price:W,priceDisplay:ie,areaSqft:N.areaSqft?parseFloat(N.areaSqft):null,bedrooms:parseInt(N.bedrooms),bathrooms:parseInt(N.bathrooms),balconies:parseInt(N.balconies||"0"),amenities:N.amenities||null,listingType:N.listingType,status:"available",isFeatured:o?.isFeatured||!1,isActive:!0,ownerType:N.ownerType,isReadyToMove:N.isReadyToMove,isVerified:N.isVerified||!1,area:re,user:{id:d.id}};console.log(" Updating property data:",Z);try{const ce=await fetch(`${Ie}/api/properties/${o.id||o.propertyId}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(Z)});if(!ce.ok){const G=await ce.text();throw new Error("Failed to update property: "+G)}const O=await ce.json();console.log(" Property updated successfully:",O),alert(" Property updated successfully!"),s&&s(),c()}catch(ce){console.error(" Error updating property:",ce),h(ce.message||"Failed to update property. Please try again.")}finally{E(!1)}};return n.createElement("div",{style:ge.backdrop,onClick:c},n.createElement("div",{style:ge.modal,onClick:D=>D.stopPropagation()},n.createElement("button",{onClick:c,style:ge.closeBtn},""),n.createElement("h2",{style:ge.title}," Edit Your Property"),k&&n.createElement("div",{style:ge.error}," ",k),n.createElement("form",{onSubmit:he,style:ge.form},n.createElement("div",{style:ge.field},n.createElement("label",{style:ge.label},"Property Title *"),n.createElement("input",{type:"text",name:"title",value:N.title,onChange:X,placeholder:"e.g., Spacious 2BHK Apartment",style:ge.input,required:!0})),n.createElement("div",{style:ge.row},n.createElement("div",{style:ge.field},n.createElement("label",{style:ge.label},"Property Type *"),n.createElement("select",{name:"type",value:N.type,onChange:X,style:ge.select,required:!0},n.createElement("option",null,"Apartment"),n.createElement("option",null,"Villa"),n.createElement("option",null,"House"),n.createElement("option",null,"Plot"),n.createElement("option",null,"Commercial"),n.createElement("option",null,"Penthouse"),n.createElement("option",null,"Studio"),n.createElement("option",null,"Duplex"))),n.createElement("div",{style:ge.field},n.createElement("label",{style:ge.label},"Listing Type *"),n.createElement("select",{name:"listingType",value:N.listingType,onChange:X,style:ge.select,required:!0},n.createElement("option",{value:"sale"}," For Sale"),n.createElement("option",{value:"rent"}," For Rent")))),n.createElement("div",{style:ge.row},n.createElement("div",{style:ge.field},n.createElement("label",{style:ge.label}," Posted By *"),n.createElement("select",{name:"ownerType",value:N.ownerType,onChange:X,style:ge.select,required:!0},n.createElement("option",{value:"owner"},"Owner"),n.createElement("option",{value:"broker"},"Broker/Agent"))),n.createElement("div",{style:ge.field},n.createElement("label",{style:ge.checkboxLabel},n.createElement("input",{type:"checkbox",name:"isReadyToMove",checked:N.isReadyToMove,onChange:X,style:ge.checkbox}),n.createElement("span",{style:ge.checkboxText}," Ready to Move")))),d&&d.role==="ADMIN"&&n.createElement("div",{style:ge.field},n.createElement("label",{style:ge.checkboxLabel},n.createElement("input",{type:"checkbox",name:"isVerified",checked:N.isVerified,onChange:X,style:ge.checkbox}),n.createElement("span",{style:ge.checkboxText}," Verified Property (Admin Only)"))),n.createElement("div",{style:ge.row},n.createElement("div",{style:ge.field},n.createElement("label",{style:ge.label},"City *"),n.createElement("input",{type:"text",name:"city",value:N.city,onChange:X,style:ge.input,required:!0})),n.createElement("div",{style:ge.field},n.createElement("label",{style:ge.label}," Area *"," ",A&&n.createElement("span",{style:{color:"#f59e0b"}}," (Loading...)")),n.createElement("select",{name:"areaId",value:N.areaId,onChange:X,style:ge.select,required:!0,disabled:A||f.length===0},n.createElement("option",{value:""},"-- Select Area --"),f.map(D=>n.createElement("option",{key:D.areaId,value:D.areaId},D.areaName," (",D.pincode,")"))))),n.createElement("div",{style:ge.field},n.createElement("label",{style:ge.label},"Complete Address (Optional)"),n.createElement("input",{type:"text",name:"address",value:N.address,onChange:X,placeholder:"House/Plot number, Street name",style:ge.input})),n.createElement("div",{style:{...ge.imageSection,border:"2px solid #3b82f6",background:"#f0f9ff"}},n.createElement("h3",{style:{margin:"0 0 12px 0",fontSize:"16px",color:"#1e40af",fontWeight:"700"}}," Property Image *"),N.imageUrl&&n.createElement("div",{style:{textAlign:"center",marginBottom:"12px"}},n.createElement("img",{src:N.imageUrl,alt:"Current",style:ge.imagePreview})),n.createElement("input",{type:"file",accept:"image/*",onChange:xe,disabled:M,style:{display:"block",width:"100%",padding:"16px",border:"3px dashed #3b82f6",borderRadius:"8px",backgroundColor:"white",cursor:"pointer",fontSize:"14px",fontWeight:"600",color:"#1e40af"}}),M&&n.createElement("div",{style:{marginTop:"12px"}},n.createElement("div",{style:{width:"100%",height:"10px",background:"#e0e7ff",borderRadius:"5px"}},n.createElement("div",{style:{width:`${U}%`,height:"100%",background:"#3b82f6",borderRadius:"5px",transition:"width 0.3s"}})),n.createElement("p",{style:{margin:"8px 0 0 0",color:"#3b82f6",fontWeight:"600"}},"Uploading ",U,"%"))),n.createElement("div",{style:ge.field},n.createElement("label",{style:ge.label},"Description *"),n.createElement("textarea",{name:"description",value:N.description,onChange:X,placeholder:"Describe your property...",style:{...ge.input,minHeight:"100px",resize:"vertical"},required:!0})),n.createElement("div",{style:ge.row3},n.createElement("div",{style:ge.field},n.createElement("label",{style:ge.label}," Bedrooms *"),n.createElement("input",{type:"number",name:"bedrooms",value:N.bedrooms,onChange:X,min:"0",max:"20",style:ge.input,required:!0})),n.createElement("div",{style:ge.field},n.createElement("label",{style:ge.label}," Bathrooms *"),n.createElement("input",{type:"number",name:"bathrooms",value:N.bathrooms,onChange:X,min:"0",max:"20",style:ge.input,required:!0})),n.createElement("div",{style:ge.field},n.createElement("label",{style:ge.label}," Balconies"),n.createElement("input",{type:"number",name:"balconies",value:N.balconies,onChange:X,min:"0",max:"10",style:ge.input}))),n.createElement("div",{style:ge.row},n.createElement("div",{style:ge.field},n.createElement("label",{style:ge.label}," Area (sqft)"),n.createElement("input",{type:"number",name:"areaSqft",value:N.areaSqft,onChange:X,placeholder:"1200",style:ge.input})),n.createElement("div",{style:ge.field},n.createElement("label",{style:ge.label}," Expected Price () *"),n.createElement("input",{type:"number",name:"price",value:N.price,onChange:X,placeholder:"5000000",style:ge.input,required:!0}))),n.createElement("div",{style:ge.field},n.createElement("label",{style:ge.label}," Amenities (comma-separated)"),n.createElement("input",{type:"text",name:"amenities",value:N.amenities,onChange:X,placeholder:"Parking, Gym, Swimming Pool",style:ge.input})),n.createElement("div",{style:{display:"flex",gap:"12px"}},n.createElement("button",{type:"button",onClick:c,style:ge.cancelBtn},"Cancel"),n.createElement("button",{type:"submit",disabled:y||M,style:{...ge.submitBtn,opacity:y||M?.6:1,cursor:y||M?"not-allowed":"pointer"}},y?" Updating...":" Update Property")))))}const ge={backdrop:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.75)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,backdropFilter:"blur(4px)"},modal:{background:"white",padding:"2rem",borderRadius:"16px",width:"750px",maxHeight:"90vh",overflowY:"auto",position:"relative",boxShadow:"0 20px 60px rgba(0,0,0,0.3)"},closeBtn:{position:"absolute",top:"15px",right:"15px",background:"#ef4444",color:"white",border:"none",fontSize:"24px",cursor:"pointer",width:"40px",height:"40px",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold"},title:{textAlign:"center",marginBottom:"1rem",fontSize:"28px",color:"#1e293b",fontWeight:"800"},form:{display:"flex",flexDirection:"column",gap:"1rem"},field:{display:"flex",flexDirection:"column"},row:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},row3:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"1rem"},label:{marginBottom:"6px",fontWeight:"700",fontSize:"14px",color:"#1e293b"},checkboxLabel:{display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",background:"#f0f9ff",borderRadius:"8px",cursor:"pointer",border:"2px solid #bfdbfe"},checkbox:{width:"20px",height:"20px",cursor:"pointer"},checkboxText:{fontSize:"14px",fontWeight:"600",color:"#1e40af"},input:{padding:"12px 16px",border:"2px solid #e2e8f0",borderRadius:"8px",fontSize:"14px",fontFamily:"inherit",transition:"border-color 0.3s"},select:{padding:"12px 16px",border:"2px solid #e2e8f0",borderRadius:"8px",fontSize:"14px",cursor:"pointer",fontFamily:"inherit",backgroundColor:"white"},imageSection:{padding:"16px",borderRadius:"12px"},imagePreview:{marginTop:"12px",maxWidth:"100%",maxHeight:"200px",borderRadius:"8px",border:"2px solid #e2e8f0"},error:{background:"#fee2e2",border:"2px solid #fecaca",borderRadius:"8px",padding:"12px",marginBottom:"1rem",textAlign:"center",color:"#dc3545",fontWeight:"600",fontSize:"14px"},submitBtn:{padding:"16px",background:"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)",color:"white",border:"none",borderRadius:"10px",fontSize:"16px",fontWeight:"700",cursor:"pointer",flex:1,boxShadow:"0 4px 12px rgba(59, 130, 246, 0.3)"},cancelBtn:{padding:"16px",background:"#6b7280",color:"white",border:"none",borderRadius:"10px",fontSize:"16px",fontWeight:"700",cursor:"pointer",flex:1}},eg=({dealId:o,onClose:c,onSuccess:s})=>{const[d,m]=g.useState(null),[f,x]=g.useState(!1),[y,E]=g.useState(null),k=M=>{const Y=M.target.files[0];if(Y){if(Y.size>10*1024*1024){E("File size must be less than 10MB");return}m(Y),E(null)}},h=async()=>{if(!d){E("Please select a file");return}x(!0),E(null);try{const M=`https://s3.amazonaws.com/deals/doc_${o}_${Date.now()}.pdf`;(await(await fetch(`${Ie}/api/deals/${o}/upload-document`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify({docUrl:M})})).json()).success?(alert(" Document uploaded successfully"),s(),c()):E("Upload failed")}catch{E("Error uploading document")}finally{x(!1)}},A={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},I={backgroundColor:"white",padding:"30px",borderRadius:"12px",width:"400px",boxShadow:"0 5px 15px rgba(0, 0, 0, 0.3)"};return n.createElement("div",{style:A,onClick:c},n.createElement("div",{style:I,onClick:M=>M.stopPropagation()},n.createElement("h2",{style:{marginTop:0}}," Upload Document"),y&&n.createElement("div",{style:{backgroundColor:"#fee2e2",color:"#dc2626",padding:"12px",borderRadius:"6px",marginBottom:"15px"}},y),n.createElement("div",{style:{padding:"30px",border:"2px dashed #3b82f6",borderRadius:"8px",textAlign:"center",cursor:"pointer",backgroundColor:"#f0f9ff",marginBottom:"15px"}},n.createElement("input",{type:"file",onChange:k,accept:".pdf,.doc,.docx",style:{display:"none"},id:"fileInput"}),n.createElement("label",{htmlFor:"fileInput",style:{cursor:"pointer"}},n.createElement("div",{style:{fontSize:"32px",marginBottom:"8px"}},""),n.createElement("div",{style:{fontWeight:"600",color:"#1e40af"}},d?d.name:"Click to upload document"),n.createElement("div",{style:{fontSize:"12px",color:"#64748b"}},"PDF, DOC, DOCX (Max 10MB)"))),n.createElement("div",{style:{display:"flex",gap:"12px"}},n.createElement("button",{onClick:c,style:{flex:1,padding:"10px",backgroundColor:"#6b7280",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600"}},"Cancel"),n.createElement("button",{onClick:h,disabled:!d||f,style:{flex:1,padding:"10px",backgroundColor:f?"#ccc":"#10b981",color:"white",border:"none",borderRadius:"6px",cursor:f?"not-allowed":"pointer",fontWeight:"600"}},f?" Uploading...":" Upload"))))},tg=({deal:o,onStageChange:c,isEditable:s=!1})=>{const d=[{stage:"INQUIRY",label:" Inquiry",order:1},{stage:"SHORTLIST",label:" Shortlist",order:2},{stage:"NEGOTIATION",label:" Negotiation",order:3},{stage:"AGREEMENT",label:" Agreement",order:4},{stage:"REGISTRATION",label:" Registration",order:5},{stage:"PAYMENT",label:" Payment",order:6},{stage:"COMPLETED",label:" Completed",order:7}],[m,f]=g.useState(!1),[x,y]=g.useState(""),[E,k]=g.useState(!1),h=()=>d.findIndex(q=>q.stage===o.stage||q.stage===o.currentStage),A=()=>(h()+1)/d.length*100,I=h(),M=async q=>{if(s){k(!0);try{const X=await fetch(`${Ie}/api/deals/${o.id||o.dealId}/stage`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify({stage:q,notes:x})});if(X.ok){const xe=await X.json();c&&c(q,xe),f(!1),y(""),alert(" Deal stage updated")}else alert(" Failed to update stage")}catch(X){console.error("Error updating stage:",X),alert(" Error updating deal")}finally{k(!1)}}},Y={padding:"24px",backgroundColor:"#f8fafc",borderRadius:"12px",marginBottom:"24px",border:"1px solid #e2e8f0"},U={display:"flex",justifyContent:"space-between",marginBottom:"24px",position:"relative"},S={position:"absolute",top:"20px",left:"0",right:"0",height:"3px",backgroundColor:"#e2e8f0",zIndex:0},N={position:"absolute",top:"20px",left:"0",height:"3px",backgroundColor:"#10b981",transition:"width 0.3s ease",width:`${A()}%`,zIndex:0},C={display:"flex",flexDirection:"column",alignItems:"center",flex:1,zIndex:1,position:"relative"},H=q=>({width:"44px",height:"44px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"8px",fontWeight:"700",fontSize:"16px",backgroundColor:q<=I?"#10b981":"#e2e8f0",color:q<=I?"white":"#64748b",transition:"all 0.3s ease",border:q===I?"3px solid #059669":"none",boxShadow:q===I?"0 0 12px rgba(16, 185, 129, 0.4)":"none",cursor:s?"pointer":"default"}),$={fontSize:"11px",fontWeight:"600",color:"#475569",textAlign:"center",maxWidth:"70px"};return n.createElement("div",{style:Y},n.createElement("h3",{style:{marginTop:0,marginBottom:"16px",color:"#1e293b",fontSize:"16px"}}," Deal Progress: ",d[I]?.label),n.createElement("div",{style:U},n.createElement("div",{style:S}),n.createElement("div",{style:N}),d.map((q,X)=>n.createElement("div",{key:q.stage,style:C,onClick:()=>s&&M(q.stage),title:s?"Click to move to this stage":""},n.createElement("div",{style:H(X)},X+1),n.createElement("div",{style:$},q.label)))),s&&n.createElement("div",{style:{marginTop:"16px",paddingTop:"16px",borderTop:"1px solid #e2e8f0"}},n.createElement("button",{onClick:()=>f(!m),style:{padding:"10px 16px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"14px"},disabled:E},m?" Close":" Change Stage"),m&&n.createElement("div",{style:{marginTop:"12px",display:"flex",flexDirection:"column",gap:"8px"}},n.createElement("textarea",{value:x,onChange:q=>y(q.target.value),placeholder:"Add notes about this stage change...",style:{width:"100%",padding:"8px",border:"1px solid #e2e8f0",borderRadius:"6px",minHeight:"60px",boxSizing:"border-box"}}),d.map(q=>n.createElement("button",{key:q.stage,onClick:()=>M(q.stage),disabled:E,style:{padding:"10px 16px",backgroundColor:q.stage===o.stage?"#e0f2fe":"white",color:q.stage===o.stage?"#0369a1":"#475569",border:"1px solid #e2e8f0",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"14px"}},q.label," ",q.stage===o.stage&&"")))))},vr=({deal:o,onClose:c,onUpdate:s,userRole:d,showOnlyOverview:m=!1})=>{const[f,x]=g.useState(o||{}),[y,E]=g.useState("overview"),[k,h]=g.useState(!1),[A,I]=g.useState(!1),[M,Y]=g.useState(""),[U,S]=g.useState(new Date().toISOString().substring(0,10)),[N,C]=g.useState(()=>o?.currentStage||o?.stage||"INQUIRY"),H=g.useRef(null),$=Tt(),q=f.id||f.dealId,X=f.currentStage||f.stage||"INQUIRY",xe=d==="AGENT"||d==="ADMIN",he=xe?["overview","timeline","actions"]:["overview"];g.useEffect(()=>{o&&o.dealId?(async()=>{try{const w=await fetch(`${Ie}/api/deals/my-deals?userRole=${d}&userId=${o.agentId||o.buyerId||o.sellerId}`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}}),j=await w.json();if(w.ok&&j.data){const J=j.data.find(oe=>oe.dealId===o.dealId);J?(x(J),console.log(" Fetched full deal with timeline dates:",J),console.log("Stage dates:",{inquiryDate:J.inquiryDate,shortlistDate:J.shortlistDate,agreementDate:J.agreementDate})):x(o||{})}else x(o||{})}catch(w){console.warn("Error fetching full deal:",w),x(o||{})}})():x(o||{}),C(o?.currentStage||o?.stage||"INQUIRY"),Y(""),S(new Date().toISOString().substring(0,10))},[o,d]);const W=((p={})=>{const w=[{key:"inquiryDate",stage:"INQUIRY",label:" INQUIRY"},{key:"shortlistDate",stage:"SHORTLIST",label:" SHORTLIST"},{key:"negotiationDate",stage:"NEGOTIATION",label:" NEGOTIATION"},{key:"agreementDate",stage:"AGREEMENT",label:" AGREEMENT"},{key:"registrationDate",stage:"REGISTRATION",label:" REGISTRATION"},{key:"paymentDate",stage:"PAYMENT",label:" PAYMENT"},{key:"completedDate",stage:"COMPLETED",label:" COMPLETED"}];let j=[];return w.forEach(J=>{const oe=p[J.key];oe&&j.push({stage:J.stage,label:J.label,date:oe,formattedDate:new Date(oe).toLocaleString()})}),j.sort((J,oe)=>new Date(J.date)-new Date(oe.date)),console.log("=== TIMELINE DEBUG ==="),console.log("Deal object:",p),console.log("Timeline data:",j),console.log("Timeline length:",j.length),j})(f),ie=(p=!0)=>{setTimeout(()=>{H.current&&H.current.scrollIntoView({behavior:p?"smooth":"auto"})},150)},re=p=>{x(p),z,typeof s=="function"&&s(p)},Z=async()=>{if(!U||!M.trim()){alert(" Please provide both the Date of Visit/Update and a Matter of Visit/Note.");return}I(!0);try{const p=await fetch(`${Ie}/api/deals/${q}/stage`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify({stage:N,notes:M,date:U})}),w=await p.json();p.ok&&w.data?(re(w.data),Y(""),S(new Date().toISOString().substring(0,10)),E("timeline"),ie()):alert(" Error: "+(w.message||"Failed to update deal"))}catch(p){alert("Error updating deal: "+p.message)}finally{I(!1)}},ce=async()=>{try{const p=await fetch(`${Ie}/api/deals/${q}/seller-confirm`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify({notes:"Seller confirmed - Documents received"})}),w=await p.json();p.ok&&w.data?(re(w.data),E("timeline"),ie()):alert(" Error: "+(w.message||"Failed to confirm deal"))}catch(p){alert("Error confirming deal: "+p.message)}},O=async()=>{try{const p=await fetch(`${Ie}/api/deals/${q}/complete-payment`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}}),w=await p.json();p.ok&&w.data?(re(w.data),E("timeline"),ie()):alert(" Error: "+(w.message||"Failed to complete payment"))}catch(p){alert("Error completing payment: "+p.message)}},G=p=>{const w=["INQUIRY","SHORTLIST","NEGOTIATION","AGREEMENT","REGISTRATION","PAYMENT","COMPLETED"],j=Math.max(0,w.indexOf(p));return w.slice(j)},V=p=>({INQUIRY:"#3b82f6",SHORTLIST:"#8b5cf6",NEGOTIATION:"#f59e0b",AGREEMENT:"#10b981",REGISTRATION:"#06b6d4",PAYMENT:"#ec4899",COMPLETED:"#22c55e"})[p]||"#6b7280",b=p=>p?typeof p=="number"?p.toLocaleString("en-IN"):String(p):"TBD",F=()=>{$(`/property/${f.propertyId||f.property?.id}`),c()};return f?n.createElement("div",{style:ee.backdrop,onClick:c},n.createElement("div",{style:ee.modal,onClick:p=>p.stopPropagation()},n.createElement("button",{style:ee.closeBtn,onClick:c},""),n.createElement("div",{style:ee.header},n.createElement("h2",{style:ee.title},f.propertyTitle||f.property?.title||"Deal Details"),n.createElement("div",{style:{...ee.stageBadge,backgroundColor:V(X)}},X)),n.createElement("div",{style:ee.tabContainer},he.includes("overview")&&n.createElement("button",{onClick:()=>E("overview"),style:{...ee.tab,...y==="overview"?ee.activeTab:{}}}," Overview"),he.includes("timeline")&&n.createElement("button",{onClick:()=>{E("timeline"),ie()},style:{...ee.tab,...y==="timeline"?ee.activeTab:{}}}," Timeline"),he.includes("actions")&&n.createElement("button",{onClick:()=>E("actions"),style:{...ee.tab,...y==="actions"?ee.activeTab:{}}}," Actions")),n.createElement("div",{style:ee.content},y==="overview"&&n.createElement("div",null,n.createElement(tg,{deal:f,isEditable:xe,onStageChange:s}),n.createElement("div",{style:ee.gridContainer},n.createElement("div",{style:ee.section},n.createElement("h3",{style:ee.sectionTitle}," Property"),n.createElement("div",{style:ee.infoBox},n.createElement("div",{style:ee.infoRow},n.createElement("span",{style:ee.label},"Title"),n.createElement("span",{style:ee.value},f.propertyTitle||f.property?.title||"Property")),f.propertyPrice&&n.createElement("div",{style:ee.infoRow},n.createElement("span",{style:ee.label},"Listing Price"),n.createElement("span",{style:ee.value},"",b(f.propertyPrice))),f.agreedPrice&&n.createElement("div",{style:ee.infoRow},n.createElement("span",{style:ee.label},"Agreed Price"),n.createElement("span",{style:ee.value},"",b(f.agreedPrice))),f.propertyCity&&n.createElement("div",{style:ee.infoRow},n.createElement("span",{style:ee.label},"Location"),n.createElement("span",{style:ee.value},f.propertyCity)))),n.createElement("div",{style:ee.section},n.createElement("h3",{style:ee.sectionTitle}," Buyer"),n.createElement("div",{style:ee.infoBox},n.createElement("div",{style:ee.infoRow},n.createElement("span",{style:ee.label},"Name"),n.createElement("span",{style:ee.value},f.buyerName||"N/A")),f.buyerEmail&&n.createElement("div",{style:ee.infoRow},n.createElement("span",{style:ee.label},"Email"),n.createElement("span",{style:ee.value},f.buyerEmail)),f.buyerMobile&&xe&&n.createElement("div",{style:ee.infoRow},n.createElement("span",{style:ee.label},"Phone"),n.createElement("span",{style:ee.value},f.buyerMobile)))),n.createElement("div",{style:ee.section},n.createElement("h3",{style:ee.sectionTitle}," Seller"),n.createElement("div",{style:ee.infoBox},n.createElement("div",{style:ee.infoRow},n.createElement("span",{style:ee.label},"Name"),n.createElement("span",{style:ee.value},f.sellerName||"N/A")),f.sellerEmail&&n.createElement("div",{style:ee.infoRow},n.createElement("span",{style:ee.label},"Email"),n.createElement("span",{style:ee.value},f.sellerEmail)),f.sellerMobile&&xe&&n.createElement("div",{style:ee.infoRow},n.createElement("span",{style:ee.label},"Phone"),n.createElement("span",{style:ee.value},f.sellerMobile)))),n.createElement("div",{style:ee.section},n.createElement("h3",{style:ee.sectionTitle}," Agent"),n.createElement("div",{style:ee.infoBox},n.createElement("div",{style:ee.infoRow},n.createElement("span",{style:ee.label},"Name"),n.createElement("span",{style:ee.value},f.agentName||"Not Assigned")),f.agentEmail&&n.createElement("div",{style:ee.infoRow},n.createElement("span",{style:ee.label},"Email"),n.createElement("span",{style:ee.value},f.agentEmail)),f.agentMobile&&xe&&n.createElement("div",{style:ee.infoRow},n.createElement("span",{style:ee.label},"Phone"),n.createElement("span",{style:ee.value},f.agentMobile)))),f.notes&&n.createElement("div",{style:{...ee.section,gridColumn:"1 / -1"}},n.createElement("h3",{style:ee.sectionTitle}," Notes"),n.createElement("div",{style:ee.notesBox},f.notes)),n.createElement("div",{style:{...ee.section,gridColumn:"1 / -1"}},n.createElement("h3",{style:ee.sectionTitle}," Important Dates"),n.createElement("div",{style:ee.datesGrid},n.createElement("div",{style:ee.dateItem},n.createElement("span",{style:ee.label},"Created"),n.createElement("span",{style:ee.value},f.createdAt?new Date(f.createdAt).toLocaleDateString():"N/A")),n.createElement("div",{style:ee.dateItem},n.createElement("span",{style:ee.label},"Last Updated"),n.createElement("span",{style:ee.value},f.updatedAt?new Date(f.updatedAt).toLocaleDateString():"N/A")))))),y==="timeline"&&he.includes("timeline")&&n.createElement("div",null,W.length>0?n.createElement("div",{style:ee.timelineContainer},W.map((p,w)=>n.createElement("div",{key:p.stage,style:ee.timelineEntry},n.createElement("div",{style:ee.timelinePin}),n.createElement("div",{style:ee.timelineStage},p.label),n.createElement("div",{style:ee.timelineDate},p.formattedDate))),n.createElement("div",{ref:H})):n.createElement("div",{style:{textAlign:"center",padding:"40px 20px",color:"#64748b"}}," No timeline events yet. Update the deal stage to start tracking.")),y==="actions"&&he.includes("actions")&&n.createElement("div",null,X==="REGISTRATION"&&!f.sellerConfirmed&&n.createElement("div",{style:ee.successAlert}," Registration Completed! Please confirm with seller."),(X==="COMPLETED"||X==="PAYMENT"&&f.paymentCompleted)&&n.createElement("div",{style:ee.warningAlert}," Deal Completed Successfully! Congratulations!"),d==="AGENT"&&X!=="COMPLETED"&&n.createElement("div",{style:ee.actionCard},n.createElement("h3",{style:ee.actionTitle}," Update Deal Stage"),n.createElement("div",{style:ee.formGroup},n.createElement("label",{style:ee.label},"Next Stage:"),n.createElement("select",{value:N,onChange:p=>C(p.target.value),style:ee.input},G(X).map(p=>n.createElement("option",{key:p,value:p},p)))),n.createElement("div",{style:ee.formGroup},n.createElement("label",{style:ee.label},"Date of Visit/Update:"),n.createElement("input",{type:"date",value:U,onChange:p=>S(p.target.value),style:ee.input})),n.createElement("div",{style:ee.formGroup},n.createElement("label",{style:ee.label},"Matter/Notes:"),n.createElement("textarea",{value:M,onChange:p=>Y(p.target.value),style:{...ee.input,minHeight:"100px",resize:"vertical"}})),n.createElement("button",{onClick:Z,disabled:A,style:ee.primaryBtn},A?" Updating...":" Update Stage")),X==="REGISTRATION"&&!f.sellerConfirmed&&d==="SELLER"&&n.createElement("button",{onClick:ce,style:ee.successBtn}," Confirm Registration"),X==="PAYMENT"&&!f.paymentCompleted&&d==="AGENT"&&n.createElement("button",{onClick:O,style:ee.warningBtn}," Complete Payment"),n.createElement("div",{style:ee.actionCard},n.createElement("button",{onClick:()=>h(!0),style:ee.secondaryBtn}," Upload/View Documents")))),n.createElement("div",{style:ee.footer},n.createElement("button",{onClick:F,style:ee.viewPropertyBtn,onMouseEnter:p=>p.target.style.backgroundColor="#059669",onMouseLeave:p=>p.target.style.backgroundColor="#10b981"}," View Property"),n.createElement("button",{onClick:c,style:ee.closeBottomBtn,onMouseEnter:p=>p.target.style.backgroundColor="#4b5563",onMouseLeave:p=>p.target.style.backgroundColor="#6b7280"},"Close"))),k&&n.createElement(eg,{deal:f,onClose:()=>h(!1)})):null},ee={backdrop:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:10001,overflowY:"auto",padding:"20px"},modal:{backgroundColor:"white",borderRadius:"16px",width:"100%",maxWidth:"1000px",maxHeight:"90vh",overflowY:"auto",position:"relative",boxShadow:"0 25px 50px rgba(0,0,0,0.3)",padding:"32px"},closeBtn:{position:"absolute",top:"16px",right:"16px",background:"none",border:"none",fontSize:"32px",cursor:"pointer",color:"#6b7280",padding:0,width:"40px",height:"40px"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px",paddingBottom:"16px",borderBottom:"2px solid #e5e7eb"},title:{fontSize:"28px",fontWeight:"800",color:"#1e293b",margin:0},stageBadge:{padding:"8px 16px",borderRadius:"20px",color:"white",fontWeight:"600",fontSize:"14px"},tabContainer:{display:"flex",gap:"12px",marginBottom:"24px",borderBottom:"2px solid #e5e7eb",paddingBottom:"12px"},tab:{padding:"10px 20px",background:"#f8fafc",color:"#64748b",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"600",transition:"all 0.2s"},activeTab:{backgroundColor:"#3b82f6",color:"white"},content:{marginBottom:"24px"},gridContainer:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"20px"},section:{padding:"20px",backgroundColor:"#f8fafc",borderRadius:"12px",border:"1px solid #e2e8f0"},sectionTitle:{fontSize:"16px",fontWeight:"700",color:"#1e293b",margin:"0 0 16px 0"},infoBox:{display:"flex",flexDirection:"column",gap:"12px"},infoRow:{display:"flex",flexDirection:"column",gap:"4px"},label:{fontSize:"12px",fontWeight:"600",color:"#64748b"},value:{fontSize:"14px",fontWeight:"600",color:"#1e293b"},notesBox:{padding:"12px",backgroundColor:"white",borderRadius:"8px",border:"1px solid #e2e8f0",fontSize:"14px",color:"#475569",lineHeight:"1.6"},datesGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"12px"},dateItem:{padding:"12px",backgroundColor:"white",borderRadius:"8px",border:"1px solid #e2e8f0"},timelineContainer:{borderLeft:"3px solid #e2e8f0",paddingLeft:"20px",marginTop:"16px",marginBottom:"16px",maxHeight:"400px",overflowY:"auto"},timelineEntry:{marginBottom:"15px",position:"relative",paddingBottom:"5px",padding:"8px",borderRadius:"8px"},timelinePin:{position:"absolute",left:"-28px",top:"12px",height:"12px",width:"12px",backgroundColor:"#3b82f6",borderRadius:"50%",border:"2px solid white"},timelineStage:{fontWeight:"700",color:"#1f2937",fontSize:"15px"},timelineDate:{fontSize:"12px",color:"#64748b",marginTop:"4px"},actionCard:{padding:"20px",backgroundColor:"#f1f5f9",borderRadius:"8px",marginBottom:"16px"},actionTitle:{fontSize:"16px",fontWeight:"700",color:"#1e293b",margin:"0 0 16px 0"},formGroup:{marginBottom:"12px"},input:{width:"100%",padding:"8px 12px",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"14px",marginTop:"4px",boxSizing:"border-box"},successAlert:{padding:"20px",backgroundColor:"#ecfdf5",borderRadius:"8px",border:"1px solid #bbf7d0",textAlign:"center",fontWeight:"600",color:"#059669",marginBottom:"16px"},warningAlert:{padding:"20px",backgroundColor:"#fef3c7",borderRadius:"8px",border:"1px solid #fde68a",textAlign:"center",fontWeight:"600",color:"#b45309",marginBottom:"16px"},primaryBtn:{padding:"10px 18px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"6px",fontWeight:"600",cursor:"pointer"},successBtn:{padding:"10px 18px",backgroundColor:"#10b981",color:"white",border:"none",borderRadius:"6px",fontWeight:"600",cursor:"pointer",marginBottom:"16px"},warningBtn:{padding:"10px 18px",backgroundColor:"#f59e0b",color:"white",border:"none",borderRadius:"6px",fontWeight:"600",cursor:"pointer",marginBottom:"16px"},secondaryBtn:{width:"100%",padding:"10px 18px",backgroundColor:"#8b5cf6",color:"white",border:"none",borderRadius:"6px",fontWeight:"600",cursor:"pointer"},footer:{display:"flex",gap:"12px",borderTop:"1px solid #e2e8f0",paddingTop:"20px"},viewPropertyBtn:{flex:1,padding:"12px 20px",backgroundColor:"#10b981",color:"white",border:"none",borderRadius:"8px",fontWeight:"600",cursor:"pointer",fontSize:"14px",transition:"background 0.2s"},closeBottomBtn:{flex:1,padding:"12px 20px",backgroundColor:"#6b7280",color:"white",border:"none",borderRadius:"8px",fontWeight:"600",cursor:"pointer",fontSize:"14px",transition:"background 0.2s"}},ng=()=>{const{user:o}=st(),[c,s]=g.useState({}),[d,m]=g.useState([]),[f,x]=g.useState(null),[y,E]=g.useState(!0),[k,h]=g.useState("all"),[A,I]=g.useState(null);g.useEffect(()=>{o?.id&&M()},[o?.id]);const M=async()=>{try{I(null);const w={Authorization:`Bearer ${localStorage.getItem("authToken")}`};console.log(" Fetching admin deals for user:",o?.id);const j=[],J={};console.log(" Fetching admin dashboard data...");const oe=await fetch(`${Ie}/api/deals/admin/dashboard?userId=${o.id}`,{headers:w});if(oe.ok){const ke=await oe.json();if(console.log(" Admin dashboard response:",ke),ke.success&&ke.data?.agentPerformance){console.log(`Found ${ke.data.agentPerformance.length} agents`);for(const pe of ke.data.agentPerformance){console.log(` Fetching deals for agent: ${pe.agentName} (ID: ${pe.agentId})`);const Be=await fetch(`${Ie}/api/deals/admin/agent/${pe.agentId}?userId=${o.id}`,{headers:w});if(Be.ok){const Pe=await Be.json();console.log(`Response for ${pe.agentName}:`,Pe);let ze=[];if(Array.isArray(Pe)?ze=Pe:(Pe.data&&Array.isArray(Pe.data)||Pe.success&&Array.isArray(Pe.data))&&(ze=Pe.data),console.log(` Got ${ze.length} deals for agent ${pe.agentName}`),ze.length>0){const ue=`${pe.agentId}-${pe.agentName}`;J[ue]={agentId:pe.agentId,agentName:pe.agentName,agentEmail:pe.agentEmail,agentMobile:pe.agentMobile,totalDeals:pe.totalDeals,completedDeals:pe.completedDeals,deals:ze},j.push(...ze)}}else console.warn(` Failed to fetch deals for agent ${pe.agentName}`)}}}else console.error(" Failed to fetch admin dashboard:",oe.status),I(`Failed to load admin dashboard (${oe.status})`);console.log(` Total deals loaded: ${j.length}`),console.log("Deals by agent:",J),m(j),s(J)}catch(w){console.error(" Error fetching deals:",w),I(`Error loading deals: ${w.message}`)}finally{E(!1)}},Y=()=>{const w={};return Object.keys(c).forEach(j=>{const J=c[j];let oe=J.deals;k!=="all"&&(oe=oe.filter(ke=>ke.stage===k)),oe.length>0&&(w[j]={...J,deals:oe})}),w},U={maxWidth:"1600px",margin:"0 auto",padding:"24px"},S={fontSize:"32px",fontWeight:"700",color:"#1e293b",marginBottom:"8px"},N={fontSize:"16px",color:"#64748b",marginBottom:"24px"},C={display:"flex",gap:"12px",marginBottom:"24px",borderBottom:"2px solid #e2e8f0",paddingBottom:"12px",overflowX:"auto"},H=w=>({padding:"10px 20px",backgroundColor:w?"#3b82f6":"#f8fafc",color:w?"white":"#64748b",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"14px",whiteSpace:"nowrap"}),$={backgroundColor:"#f9fafb",borderRadius:"12px",padding:"24px",marginBottom:"24px",border:"2px solid #e2e8f0"},q={display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"20px",paddingBottom:"16px",borderBottom:"2px solid #e2e8f0"},X={fontSize:"22px",fontWeight:"700",color:"#1e293b",margin:"0 0 12px 0"},xe={display:"flex",gap:"16px",flexWrap:"wrap",fontSize:"13px",color:"#64748b"},he={display:"flex",gap:"12px"},D={backgroundColor:"white",padding:"10px 14px",borderRadius:"8px",border:"1px solid #e2e8f0",textAlign:"center"},W={fontSize:"11px",color:"#64748b",fontWeight:"600",marginBottom:"4px"},ie={fontSize:"18px",fontWeight:"700",color:"#3b82f6"},re={display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(320px, 1fr))",gap:"16px"},Z={padding:"16px",backgroundColor:"#f3f4f6",borderRadius:"12px",border:"1px solid #e5e7eb",cursor:"pointer",transition:"all 0.2s",boxShadow:"0 2px 8px rgba(0,0,0,0.08), 0 0 12px rgba(59, 130, 246, 0.1)",background:"linear-gradient(135deg, #f9fafb 0%, #f3f4f6 100%)"},ce={display:"inline-block",padding:"4px 8px",backgroundColor:"#f59e0b",color:"white",borderRadius:"4px",fontSize:"11px",fontWeight:"600",marginBottom:"8px",boxShadow:"0 2px 4px rgba(245, 158, 11, 0.3)"},O={margin:"0 0 12px 0",color:"#1e293b",fontWeight:"600",fontSize:"14px"},G={width:"100%",padding:"8px 12px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"12px"};if(y)return n.createElement("div",{style:U},n.createElement("h2",null," Loading deals..."));if(!o)return n.createElement("div",{style:U},n.createElement("h2",null," Please log in to view deals"));const V=["INQUIRY","SHORTLIST","NEGOTIATION","AGREEMENT","REGISTRATION","PAYMENT"],b={};V.forEach(w=>{b[w]=d.filter(j=>j.stage===w).length});const F=Y(),p=Object.keys(c).length;return n.createElement("div",{style:U},n.createElement("h1",{style:S}," Admin Dashboard - Deal Management"),n.createElement("p",{style:N},p," Agent",p!==1?"s":"","  ",d.length," ","Total Deals"),A&&n.createElement("div",{style:{padding:"12px 16px",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"8px",marginBottom:"16px",border:"1px solid #fecaca"}}," ",A),n.createElement("div",{style:C},n.createElement("button",{style:H(k==="all"),onClick:()=>h("all")},"All Deals (",d.length,")"),V.map(w=>n.createElement("button",{key:w,style:H(k===w),onClick:()=>h(w)},w," (",b[w],")"))),Object.keys(F).length===0?n.createElement("div",{style:{textAlign:"center",padding:"60px 20px",color:"#64748b",backgroundColor:"#f8fafc",borderRadius:"12px"}},n.createElement("div",{style:{fontSize:"48px",marginBottom:"12px"}},""),n.createElement("p",{style:{margin:0,fontSize:"16px",fontWeight:"600"}},"No deals found")):n.createElement("div",null,Object.entries(F).map(([w,j])=>n.createElement("div",{key:w,style:$},n.createElement("div",{style:q},n.createElement("div",null,n.createElement("h2",{style:X}," ",j.agentName),n.createElement("div",{style:xe},n.createElement("span",null,n.createElement("strong",null," ID:")," ",j.agentId),n.createElement("span",null,n.createElement("strong",null," Email:")," ",j.agentEmail||"N/A"),n.createElement("span",null,n.createElement("strong",null," Phone:")," ",j.agentMobile||"N/A"))),n.createElement("div",{style:he},n.createElement("div",{style:D},n.createElement("div",{style:W},"Total Deals"),n.createElement("div",{style:ie},j.totalDeals)),n.createElement("div",{style:D},n.createElement("div",{style:W},"Completed"),n.createElement("div",{style:ie},j.completedDeals)),n.createElement("div",{style:D},n.createElement("div",{style:W},"Filtered"),n.createElement("div",{style:ie},j.deals.length)))),n.createElement("div",{style:re},j.deals.map(J=>{const oe=J.buyer,ke=J.property?.user;return n.createElement("div",{key:J.id,style:Z,onClick:()=>x(J),onMouseEnter:pe=>{pe.currentTarget.style.boxShadow="0 8px 16px rgba(0,0,0,0.15)",pe.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:pe=>{pe.currentTarget.style.boxShadow="0 2px 4px rgba(0,0,0,0.05)",pe.currentTarget.style.transform="translateY(0)"}},n.createElement("div",{style:ce},J.stage),n.createElement("h4",{style:O}," ",J.propertyTitle||J.property?.title),J.agreedPrice&&n.createElement("div",{style:{padding:"8px",backgroundColor:"#dcfce7",borderRadius:"6px",marginBottom:"10px",fontSize:"14px",fontWeight:"700",color:"#065f46"}}," ",J.agreedPrice.toLocaleString("en-IN")),oe&&n.createElement("div",{style:{padding:"8px",backgroundColor:"rgba(255,255,255,0.6)",borderRadius:"6px",marginBottom:"8px",fontSize:"12px"}},n.createElement("div",{style:{fontWeight:"600",color:"#1e293b",marginBottom:"2px"}}," Buyer: ",oe?.firstName," ",oe?.lastName),oe?.mobileNumber&&n.createElement("div",{style:{color:"#64748b",fontSize:"11px"}}," ",oe.mobileNumber)),ke&&n.createElement("div",{style:{padding:"8px",backgroundColor:"rgba(255,255,255,0.6)",borderRadius:"6px",marginBottom:"8px",fontSize:"12px"}},n.createElement("div",{style:{fontWeight:"600",color:"#1e293b",marginBottom:"2px"}}," Seller: ",ke.firstName," ",ke.lastName),ke.mobileNumber&&n.createElement("div",{style:{color:"#64748b",fontSize:"11px"}}," ",ke.mobileNumber)),n.createElement("p",{style:{margin:"8px 0 12px 0",fontSize:"11px",color:"#64748b"}}," ",new Date(J.createdAt).toLocaleDateString()),n.createElement("button",{style:G,onClick:pe=>{pe.stopPropagation(),x(J)}},"View & Manage Deal"))}))))),f&&n.createElement(vr,{deal:f,onClose:()=>x(null),onUpdate:()=>{x(null),M()},userRole:"ADMIN"}))},rg=()=>{const{user:o}=st(),c=Tt(),[s,d]=g.useState([]),[m,f]=g.useState([]),[x,y]=g.useState(!0),[E,k]=g.useState(""),[h,A]=g.useState("all"),[I,M]=g.useState(null),[Y,U]=g.useState([]),[S,N]=g.useState(!1),[C,H]=g.useState(null),[$,q]=g.useState(!1),[X,xe]=g.useState(null);g.useEffect(()=>{if(o?.role!=="ADMIN"){c("/");return}he()},[o,c]);const he=async()=>{y(!0);try{const b=await fetch(`${Ie}/api/users`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(b.ok){const F=await b.json(),p=F.success?F.data||[]:Array.isArray(F)?F:[];d(p),W(p,E,h)}}catch(b){console.error("Error fetching users:",b)}finally{y(!1)}},D=async b=>{N(!0);try{let F=[];if(b.role==="AGENT"){console.log("Fetching agent deals for agent ID:",b.id);const p=await fetch(`${Ie}/api/deals/admin/agent/${b.id}?userId=${o.id}`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(console.log("Agent deals response status:",p.status),p.ok){const w=await p.json();console.log("Agent deals response:",w);const j=w.success?w.data||[]:Array.isArray(w)?w:[];F=[...F,...j]}else console.warn("Agent deals response not ok:",p.status)}else if(b.role==="USER"){console.log("Fetching buyer deals for user ID:",b.id);const p=await fetch(`${Ie}/api/deals/user/${b.id}/role/BUYER`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(console.log("Buyer deals response status:",p.status),p.ok){const w=await p.json();console.log("Buyer deals response:",w);const j=w.success?w.data||[]:Array.isArray(w)?w:[];F=[...F,...j]}else console.warn("Buyer deals response not ok:",p.status)}console.log("Total deals loaded for user:",F.length),U(F)}catch(F){console.error("Error fetching user deals:",F),U([])}finally{N(!1)}},W=(b,F,p)=>{let w=b;p!=="all"&&(w=w.filter(j=>j.role===p)),F&&(w=w.filter(j=>j.firstName?.toLowerCase().includes(F.toLowerCase())||j.lastName?.toLowerCase().includes(F.toLowerCase())||j.email?.toLowerCase().includes(F.toLowerCase())||j.mobileNumber?.includes(F))),f(w)},ie=b=>{k(b),W(s,b,h)},re=b=>{A(b),W(s,E,b)},Z=b=>{M(b),D(b)},ce=b=>{H({...b}),q(!0)},O=async()=>{try{const b=await fetch(`${Ie}/api/users/${C.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify(C)});if(b.ok){const p=(await b.json()).data||C;d(s.map(w=>w.id===C.id?p:w)),W(s.map(w=>w.id===C.id?p:w),E,h),M(p),q(!1),H(null),alert("User updated successfully!")}else alert("Failed to update user")}catch(b){console.error("Error updating user:",b),alert("Error updating user")}},G=async b=>{if(window.confirm("Are you sure you want to delete this user?"))try{(await fetch(`${Ie}/api/users/${b}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}})).ok?(d(s.filter(p=>p.id!==b)),W(s.filter(p=>p.id!==b),E,h),M(null),U([]),alert("User deleted successfully!")):alert("Failed to delete user")}catch(F){console.error("Error deleting user:",F),alert("Error deleting user")}},V=b=>({INQUIRY:"#3b82f6",SHORTLIST:"#8b5cf6",NEGOTIATION:"#f59e0b",AGREEMENT:"#10b981",REGISTRATION:"#06b6d4",PAYMENT:"#ec4899",COMPLETED:"#22c55e"})[b]||"#6b7280";return x?n.createElement("div",{style:Q.container},n.createElement("div",{style:Q.loading}," Loading users...")):n.createElement("div",{style:Q.container},n.createElement("div",{style:Q.header},n.createElement("h1",{style:Q.title}," User Management"),n.createElement("p",{style:Q.subtitle},"Manage all users - view, edit, and modify user details")),n.createElement("div",{style:Q.controlsSection},n.createElement("div",{style:Q.searchBox},n.createElement("input",{type:"text",placeholder:"Search by name, email, or phone...",value:E,onChange:b=>ie(b.target.value),style:Q.searchInput})),n.createElement("div",{style:Q.filterButtons},n.createElement("button",{onClick:()=>re("all"),style:{...Q.filterBtn,...h==="all"?Q.activeFilter:{}}},"All Users (",s.length,")"),n.createElement("button",{onClick:()=>re("USER"),style:{...Q.filterBtn,...h==="USER"?Q.activeFilter:{}}},"Buyers/Sellers (",s.filter(b=>b.role==="USER").length,")"),n.createElement("button",{onClick:()=>re("AGENT"),style:{...Q.filterBtn,...h==="AGENT"?Q.activeFilter:{}}},"Agents (",s.filter(b=>b.role==="AGENT").length,")"),n.createElement("button",{onClick:()=>re("ADMIN"),style:{...Q.filterBtn,...h==="ADMIN"?Q.activeFilter:{}}},"Admins (",s.filter(b=>b.role==="ADMIN").length,")"))),n.createElement("div",{style:Q.mainContent},n.createElement("div",{style:Q.usersList},n.createElement("div",{style:Q.usersHeader},n.createElement("h3",null,"Users (",m.length,")")),m.length===0?n.createElement("div",{style:Q.emptyState},n.createElement("p",null," No users found")):n.createElement("div",{style:Q.usersGrid},m.map(b=>n.createElement("div",{key:b.id,style:{...Q.userCard,backgroundColor:I?.id===b.id?"#dbeafe":"white",borderColor:I?.id===b.id?"#3b82f6":"#e2e8f0",cursor:"pointer"},onClick:()=>Z(b)},n.createElement("div",{style:Q.userCardHeader},n.createElement("div",null,n.createElement("h4",{style:Q.userName},b.firstName," ",b.lastName),n.createElement("p",{style:Q.userEmail},b.email)),n.createElement("span",{style:{...Q.roleBadge,backgroundColor:Mu(b.role)}},b.role)),n.createElement("div",{style:Q.userInfo},n.createElement("p",null," ",b.mobileNumber||"N/A"),n.createElement("p",null," ",new Date(b.createdAt).toLocaleDateString())))))),n.createElement("div",{style:Q.userDetails},I?n.createElement(n.Fragment,null,n.createElement("div",{style:Q.detailsCard},n.createElement("h2",{style:Q.detailsTitle},"User Details"),n.createElement("div",{style:Q.detailsGrid},n.createElement("div",null,n.createElement("p",{style:Q.label},"First Name"),n.createElement("p",{style:Q.value},I.firstName)),n.createElement("div",null,n.createElement("p",{style:Q.label},"Last Name"),n.createElement("p",{style:Q.value},I.lastName)),n.createElement("div",null,n.createElement("p",{style:Q.label},"Email"),n.createElement("p",{style:Q.value},I.email)),n.createElement("div",null,n.createElement("p",{style:Q.label},"Phone"),n.createElement("p",{style:Q.value},I.mobileNumber||"N/A")),n.createElement("div",null,n.createElement("p",{style:Q.label},"Role"),n.createElement("span",{style:{...Q.roleBadge,backgroundColor:Mu(I.role)}},I.role)),n.createElement("div",null,n.createElement("p",{style:Q.label},"Member Since"),n.createElement("p",{style:Q.value},new Date(I.createdAt).toLocaleDateString()))),I.address&&n.createElement("div",{style:Q.addressSection},n.createElement("p",{style:Q.label},"Address"),n.createElement("p",{style:Q.value},I.address)),n.createElement("div",{style:Q.actionButtons},n.createElement("button",{onClick:()=>ce(I),style:Q.editBtn}," Edit User"),n.createElement("button",{onClick:()=>G(I.id),style:Q.deleteBtn}," Delete User"))),n.createElement("div",{style:Q.dealsSection},n.createElement("h3",{style:Q.dealsTitle},"Deals (",Y.length,")"),S?n.createElement("div",{style:Q.loading}," Loading deals..."):Y.length===0?n.createElement("div",{style:Q.emptyDeals},n.createElement("p",null,"No deals for this user")):n.createElement("div",{style:Q.dealsGrid},Y.map(b=>n.createElement("div",{key:b.id||b.dealId,style:Q.dealCard,onClick:()=>xe(b),onMouseEnter:F=>{F.currentTarget.style.boxShadow="0 8px 16px rgba(0,0,0,0.15)",F.currentTarget.style.transform="translateY(-4px)"},onMouseLeave:F=>{F.currentTarget.style.boxShadow="0 1px 3px rgba(0,0,0,0.05)",F.currentTarget.style.transform="translateY(0)"}},n.createElement("div",{style:{...Q.dealStageBadge,backgroundColor:V(b.stage||b.currentStage)}},b.stage||b.currentStage),n.createElement("h4",{style:Q.dealTitle},b.property?.title||b.propertyTitle),b.property?.city&&n.createElement("p",{style:Q.dealMeta}," ",b.property.city),b.seller&&n.createElement("p",{style:Q.dealMeta}," Seller: ",b.seller.firstName," ",b.seller.lastName),b.agreedPrice&&n.createElement("p",{style:Q.dealPrice}," ",b.agreedPrice.toLocaleString("en-IN")),n.createElement("p",{style:Q.dealDate}," ",new Date(b.createdAt).toLocaleDateString()),n.createElement("button",{onClick:F=>{F.stopPropagation(),xe(b)},style:Q.viewDealDetailsBtn},"View Deal Details")))))):n.createElement("div",{style:Q.emptyDetails},n.createElement("p",null," Select a user to view details and deals")))),X&&n.createElement("div",{style:Q.modal},n.createElement("div",{style:Q.modalContent},n.createElement("div",{style:Q.modalHeader},n.createElement("h3",null,"Deal Details"),n.createElement("button",{onClick:()=>xe(null),style:Q.closeBtn},"")),n.createElement("div",{style:Q.dealDetailsGrid},n.createElement("div",null,n.createElement("p",{style:Q.label},"Deal Stage"),n.createElement("div",{style:{display:"inline-block",padding:"6px 12px",backgroundColor:V(X.stage||X.currentStage),color:"white",borderRadius:"6px",fontWeight:"600",fontSize:"13px"}},X.stage||X.currentStage)),n.createElement("div",null,n.createElement("p",{style:Q.label},"Created Date"),n.createElement("p",{style:Q.value},new Date(X.createdAt).toLocaleDateString()))),n.createElement("div",{style:Q.sectionDivider},n.createElement("h4",{style:Q.sectionTitle},"Property Details"),n.createElement("div",{style:Q.dealDetailsGrid},n.createElement("div",null,n.createElement("p",{style:Q.label},"Property Title"),n.createElement("p",{style:Q.value},X.property?.title||X.propertyTitle)),X.property?.city&&n.createElement("div",null,n.createElement("p",{style:Q.label},"Location"),n.createElement("p",{style:Q.value},X.property.city)),X.property?.price&&n.createElement("div",null,n.createElement("p",{style:Q.label},"Property Price"),n.createElement("p",{style:Q.value},"",X.property.price.toLocaleString("en-IN"))))),X.agreedPrice&&n.createElement("div",{style:Q.sectionDivider},n.createElement("h4",{style:Q.sectionTitle},"Agreed Price"),n.createElement("p",{style:{fontSize:"18px",fontWeight:"700",color:"#10b981"}},"",X.agreedPrice.toLocaleString("en-IN"))),X.seller&&n.createElement("div",{style:Q.sectionDivider},n.createElement("h4",{style:Q.sectionTitle},"Seller Information"),n.createElement("div",{style:Q.dealDetailsGrid},n.createElement("div",null,n.createElement("p",{style:Q.label},"Name"),n.createElement("p",{style:Q.value},X.seller.firstName," ",X.seller.lastName)),n.createElement("div",null,n.createElement("p",{style:Q.label},"Email"),n.createElement("p",{style:Q.value},X.seller.email)),n.createElement("div",null,n.createElement("p",{style:Q.label},"Phone"),n.createElement("p",{style:Q.value},X.seller.mobileNumber)))),X.agent&&n.createElement("div",{style:Q.sectionDivider},n.createElement("h4",{style:Q.sectionTitle},"Agent Information"),n.createElement("div",{style:Q.dealDetailsGrid},n.createElement("div",null,n.createElement("p",{style:Q.label},"Name"),n.createElement("p",{style:Q.value},X.agent.firstName," ",X.agent.lastName)),n.createElement("div",null,n.createElement("p",{style:Q.label},"Email"),n.createElement("p",{style:Q.value},X.agent.email)),n.createElement("div",null,n.createElement("p",{style:Q.label},"Phone"),n.createElement("p",{style:Q.value},X.agent.mobileNumber)))),n.createElement("div",{style:Q.modalButtons},n.createElement("button",{onClick:()=>xe(null),style:Q.cancelBtn},"Close")))),$&&C&&n.createElement("div",{style:Q.modal},n.createElement("div",{style:Q.modalContent},n.createElement("div",{style:Q.modalHeader},n.createElement("h3",null,"Edit User"),n.createElement("button",{onClick:()=>q(!1),style:Q.closeBtn},"")),n.createElement("div",{style:Q.formGroup},n.createElement("label",null,"First Name"),n.createElement("input",{type:"text",value:C.firstName||"",onChange:b=>H({...C,firstName:b.target.value}),style:Q.input})),n.createElement("div",{style:Q.formGroup},n.createElement("label",null,"Last Name"),n.createElement("input",{type:"text",value:C.lastName||"",onChange:b=>H({...C,lastName:b.target.value}),style:Q.input})),n.createElement("div",{style:Q.formGroup},n.createElement("label",null,"Email"),n.createElement("input",{type:"email",value:C.email||"",onChange:b=>H({...C,email:b.target.value}),style:Q.input})),n.createElement("div",{style:Q.formGroup},n.createElement("label",null,"Phone"),n.createElement("input",{type:"tel",value:C.mobileNumber||"",onChange:b=>H({...C,mobileNumber:b.target.value}),style:Q.input})),n.createElement("div",{style:Q.formGroup},n.createElement("label",null,"Role"),n.createElement("select",{value:C.role||"USER",onChange:b=>H({...C,role:b.target.value}),style:Q.input},n.createElement("option",{value:"USER"},"User"),n.createElement("option",{value:"AGENT"},"Agent"),n.createElement("option",{value:"ADMIN"},"Admin"))),n.createElement("div",{style:Q.formGroup},n.createElement("label",null,"Address"),n.createElement("textarea",{value:C.address||"",onChange:b=>H({...C,address:b.target.value}),style:Q.textarea})),n.createElement("div",{style:Q.modalButtons},n.createElement("button",{onClick:O,style:Q.saveBtn}," Save Changes"),n.createElement("button",{onClick:()=>q(!1),style:Q.cancelBtn},"Cancel")))))},Mu=o=>({USER:"#3b82f6",AGENT:"#10b981",ADMIN:"#f59e0b"})[o]||"#6b7280",Q={container:{maxWidth:1800,margin:"0 auto",padding:"24px 32px",minHeight:"100vh",backgroundColor:"#f8fafc"},header:{marginBottom:"32px"},title:{fontSize:"32px",fontWeight:"700",color:"#1e293b",marginBottom:"8px"},subtitle:{fontSize:"16px",color:"#64748b",margin:0},loading:{textAlign:"center",padding:"80px 20px",fontSize:"18px",color:"#64748b"},controlsSection:{marginBottom:"24px"},searchBox:{marginBottom:"16px"},searchInput:{width:"100%",padding:"12px 16px",borderRadius:"8px",border:"1px solid #e2e8f0",fontSize:"14px",boxSizing:"border-box"},filterButtons:{display:"flex",gap:"12px",flexWrap:"wrap"},filterBtn:{padding:"10px 16px",backgroundColor:"#f1f5f9",border:"1px solid #e2e8f0",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"14px",transition:"all 0.2s"},activeFilter:{backgroundColor:"#3b82f6",color:"white",borderColor:"#3b82f6"},mainContent:{display:"grid",gridTemplateColumns:"350px 1fr",gap:"24px"},usersList:{backgroundColor:"white",borderRadius:"12px",padding:"20px",boxShadow:"0 1px 3px rgba(0,0,0,0.05)",height:"fit-content"},usersHeader:{marginBottom:"16px",paddingBottom:"12px",borderBottom:"2px solid #e2e8f0"},usersGrid:{display:"flex",flexDirection:"column",gap:"12px"},userCard:{padding:"12px",borderRadius:"8px",border:"1px solid",transition:"all 0.2s"},userCardHeader:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"8px"},userName:{fontSize:"14px",fontWeight:"700",color:"#1e293b",margin:0},userEmail:{fontSize:"12px",color:"#64748b",margin:"4px 0 0 0"},roleBadge:{display:"inline-block",padding:"4px 8px",borderRadius:"4px",color:"white",fontSize:"10px",fontWeight:"600"},userInfo:{fontSize:"12px",color:"#64748b",margin:0},userDetails:{backgroundColor:"white",borderRadius:"12px",padding:"20px",boxShadow:"0 1px 3px rgba(0,0,0,0.05)",overflowY:"auto",maxHeight:"calc(100vh - 200px)"},detailsCard:{marginBottom:"24px",paddingBottom:"24px",borderBottom:"2px solid #e2e8f0"},detailsTitle:{fontSize:"20px",fontWeight:"700",color:"#1e293b",margin:"0 0 16px 0"},detailsGrid:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px",marginBottom:"16px"},label:{fontSize:"12px",color:"#64748b",margin:"0 0 4px 0",fontWeight:"600"},value:{fontSize:"14px",fontWeight:"700",color:"#1e293b",margin:0},addressSection:{marginTop:"16px",padding:"12px",backgroundColor:"#f8fafc",borderRadius:"6px"},actionButtons:{display:"flex",gap:"12px",marginTop:"16px"},editBtn:{flex:1,padding:"10px 16px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"14px"},deleteBtn:{flex:1,padding:"10px 16px",backgroundColor:"#ef4444",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"14px"},dealsSection:{marginTop:"24px"},dealsTitle:{fontSize:"18px",fontWeight:"700",color:"#1e293b",margin:"0 0 16px 0"},dealsGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"12px"},dealCard:{padding:"12px",backgroundColor:"#f8fafc",borderRadius:"8px",border:"1px solid #e2e8f0",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 1px 3px rgba(0,0,0,0.05)"},dealStageBadge:{display:"inline-block",padding:"4px 8px",borderRadius:"4px",color:"white",fontSize:"10px",fontWeight:"600",marginBottom:"8px"},dealTitle:{fontSize:"13px",fontWeight:"700",color:"#1e293b",margin:"0 0 8px 0"},dealMeta:{fontSize:"11px",color:"#64748b",margin:"4px 0"},dealPrice:{fontSize:"12px",fontWeight:"700",color:"#10b981",margin:"8px 0 4px 0"},dealDate:{fontSize:"10px",color:"#94a3b8",margin:"4px 0"},viewDealDetailsBtn:{width:"100%",marginTop:"8px",padding:"6px 10px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"11px",transition:"background 0.2s"},emptyDeals:{textAlign:"center",padding:"20px",color:"#64748b",backgroundColor:"#f8fafc",borderRadius:"8px",border:"1px dashed #e2e8f0",fontSize:"13px"},emptyDetails:{textAlign:"center",padding:"60px 20px",color:"#64748b"},emptyState:{textAlign:"center",padding:"40px 20px",color:"#64748b",backgroundColor:"#f8fafc",borderRadius:"8px",border:"1px dashed #e2e8f0"},modal:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},modalContent:{backgroundColor:"white",borderRadius:"12px",padding:"24px",maxWidth:"600px",width:"90%",maxHeight:"90vh",overflowY:"auto"},modalHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px",paddingBottom:"12px",borderBottom:"1px solid #e2e8f0"},closeBtn:{backgroundColor:"transparent",border:"none",fontSize:"24px",cursor:"pointer",color:"#64748b"},dealDetailsGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"16px",marginBottom:"12px"},sectionDivider:{marginTop:"16px",paddingTop:"16px",borderTop:"1px solid #e2e8f0"},sectionTitle:{fontSize:"14px",fontWeight:"700",color:"#1e293b",margin:"0 0 12px 0"},formGroup:{marginBottom:"16px"},input:{width:"100%",padding:"10px 12px",borderRadius:"6px",border:"1px solid #e2e8f0",fontSize:"14px",boxSizing:"border-box",fontFamily:"inherit"},textarea:{width:"100%",padding:"10px 12px",borderRadius:"6px",border:"1px solid #e2e8f0",fontSize:"14px",boxSizing:"border-box",minHeight:"100px",fontFamily:"inherit"},modalButtons:{display:"flex",gap:"12px",marginTop:"20px"},saveBtn:{flex:1,padding:"10px 16px",backgroundColor:"#10b981",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"14px"},cancelBtn:{flex:1,padding:"10px 16px",backgroundColor:"#e2e8f0",color:"#1e293b",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"14px"}};function lg({onLoginClick:o,onSignupClick:c,onPostPropertyClick:s,onProfileClick:d}){const{isAuthenticated:m,user:f,logout:x}=st(),[y,E]=g.useState(null),[k,h]=g.useState(!1),[A,I]=g.useState(0),M=Tt(),Y=g.useRef(null);g.useEffect(()=>()=>{Y.current&&clearTimeout(Y.current)},[]),g.useEffect(()=>{m&&f&&(f.role==="AGENT"||f.role==="ADMIN")?console.log("User role detected:",f.role):I(0)},[m,f]);const U=()=>{M("/my-properties"),E(null),h(!1)},S=()=>{console.log("Navigating to admin deals..."),M("/admin-deals"),E(null),h(!1)},N=()=>{console.log("Navigating to view agents..."),M("/admin-agents"),E(null),h(!1)},C=()=>{console.log("Navigating to view users..."),M("/admin-users"),E(null),h(!1)},H=()=>{f?.role==="ADMIN"?M("/admin-deals"):M("/agent-dashboard"),E(null),h(!1)},$=()=>{M("/my-agreements"),h(!1)},q=Z=>{Y.current&&clearTimeout(Y.current),E(Z)},X=()=>{Y.current=setTimeout(()=>E(null),300)},xe=()=>{Y.current&&clearTimeout(Y.current)},he=(Z,ce)=>{const O=new URLSearchParams({propertyType:Z,listingType:ce});M(`/search?${O.toString()}`),E(null)},D=(Z,ce)=>{const O=new URLSearchParams({minPrice:Z.min,maxPrice:Z.max,listingType:ce});M(`/search?${O.toString()}`),E(null)},W=Z=>{const ce=new URLSearchParams(Z.params||{});M(`/search?${ce.toString()}`),E(null)},ie=Z=>{Z.type==="navigate"?(M(Z.path),E(null),h(!1)):Z.type==="action"&&Z.key==="postProperty"&&(s(),E(null),h(!1))},re={buy:{popularChoices:[{label:"Owner Properties",params:{listingType:"sale",ownerType:"owner"}},{label:"Verified Properties",params:{listingType:"sale",isVerified:!0}},{label:"Ready to Move",params:{listingType:"sale",isReadyToMove:!0}},{label:"Broker Properties",params:{listingType:"sale",ownerType:"broker"}}],propertyTypes:[{label:"Apartments",value:"Apartment"},{label:"Villas",value:"Villa"},{label:"Houses",value:"House"},{label:"Plots",value:"Plot"},{label:"Commercial",value:"Commercial"}],budget:[{label:"Under 50 Lac",min:0,max:5e6},{label:"50 Lac - 1 Cr",min:5e6,max:1e7},{label:"1 Cr - 2 Cr",min:1e7,max:2e7},{label:"Above 2 Cr",min:2e7,max:999999999}]},rent:{popularChoices:[{label:"Owner Properties",params:{listingType:"rent"}},{label:"Verified Properties",params:{listingType:"rent"}},{label:"Furnished Homes",params:{listingType:"rent"}},{label:"Bachelor Friendly",params:{listingType:"rent"}}],propertyTypes:[{label:"Apartments",value:"Apartment"},{label:"Houses",value:"House"},{label:"Villas",value:"Villa"},{label:"PG",value:"PG"}],budget:[{label:"Under 10,000",min:0,max:1e4},{label:"10,000 - 20,000",min:1e4,max:2e4},{label:"20,000 - 40,000",min:2e4,max:4e4},{label:"Above 40,000",min:4e4,max:999999}]},sell:{actions:[{label:"Post Free Property Ad",type:"action",key:"postProperty"},{label:"Owner Plans",type:"navigate",path:"/owner-plans"}],dashboard:{label:"My Properties",type:"navigate",path:"/my-properties"},assistance:[{label:"Rental Agreement",type:"navigate",path:"/rental-agreement"},{label:"Home Interior/Renovation",type:"navigate",path:"/home-renovation"}]}};return console.log("Header rendered - User:",f,"Role:",f?.role,"Is Admin:",f?.role==="ADMIN"),n.createElement("header",{style:P.header},n.createElement("div",{style:P.headerContent},n.createElement("div",{onClick:()=>M("/"),style:P.logo},n.createElement("span",{style:P.logoIcon},""),"PropertyDeals"),n.createElement("nav",{style:P.nav},n.createElement("div",{style:P.navItem,onClick:()=>M("/")},n.createElement("span",{style:P.navText},"Home")),n.createElement("div",{style:P.navItem,onMouseEnter:()=>q("buy"),onMouseLeave:X},n.createElement("span",{style:P.navText},"Buy "),y==="buy"&&n.createElement("div",{style:P.dropdown,onMouseEnter:xe,onMouseLeave:X},n.createElement("div",{style:P.dropdownSection},n.createElement("h4",{style:P.dropdownTitle},"Popular Choices"),re.buy.popularChoices.map(Z=>n.createElement("div",{key:Z.label,style:P.dropdownItem,onClick:()=>W(Z)},Z.label))),n.createElement("div",{style:P.dropdownSection},n.createElement("h4",{style:P.dropdownTitle},"Property Types"),re.buy.propertyTypes.map(Z=>n.createElement("div",{key:Z.value,style:P.dropdownItem,onClick:()=>he(Z.value,"sale")},Z.label))),n.createElement("div",{style:P.dropdownSection},n.createElement("h4",{style:P.dropdownTitle},"Budget"),re.buy.budget.map(Z=>n.createElement("div",{key:Z.label,style:P.dropdownItem,onClick:()=>D(Z,"sale")},Z.label))))),n.createElement("div",{style:P.navItem,onMouseEnter:()=>q("rent"),onMouseLeave:X},n.createElement("span",{style:P.navText},"Rent "),y==="rent"&&n.createElement("div",{style:{...P.dropdown,minWidth:"700px"},onMouseEnter:xe,onMouseLeave:X},n.createElement("div",{style:P.dropdownSection},n.createElement("h4",{style:P.dropdownTitle},"Popular Choices"),re.rent.popularChoices.map(Z=>n.createElement("div",{key:Z.label,style:P.dropdownItem,onClick:()=>W(Z)},Z.label))),n.createElement("div",{style:P.dropdownSection},n.createElement("h4",{style:P.dropdownTitle},"Property Types"),re.rent.propertyTypes.map(Z=>n.createElement("div",{key:Z.value,style:P.dropdownItem,onClick:()=>he(Z.value,"rent")},Z.label))),n.createElement("div",{style:P.dropdownSection},n.createElement("h4",{style:P.dropdownTitle},"Budget"),re.rent.budget.map(Z=>n.createElement("div",{key:Z.label,style:P.dropdownItem,onClick:()=>D(Z,"rent")},Z.label))))),n.createElement("div",{style:P.navItem,onMouseEnter:()=>q("sell"),onMouseLeave:X},n.createElement("span",{style:P.navText},"Sell "),y==="sell"&&n.createElement("div",{style:{...P.dropdown,minWidth:"300px",left:"auto",right:0,transform:"none"},onMouseEnter:xe,onMouseLeave:X},n.createElement("div",{style:P.dropdownSection},re.sell.actions.map(Z=>n.createElement("div",{key:Z.label,style:P.dropdownItem,onClick:()=>ie(Z)},Z.label)),m&&n.createElement("div",{style:P.dropdownItem,onClick:()=>ie(re.sell.dashboard)},re.sell.dashboard.label),n.createElement("hr",{style:{border:0,borderTop:"1px solid #eee",margin:"12px 0"}}),n.createElement("h4",{style:P.dropdownTitle},"Assistance"),re.sell.assistance.map(Z=>n.createElement("div",{key:Z.label,style:P.dropdownItem,onClick:()=>ie(Z)},Z.label))))),m?n.createElement("div",{style:P.authSection},n.createElement("button",{onClick:U,style:{color:"white",backgroundColor:"rgba(255, 255, 255, 0.2)",padding:"12px 20px",borderRadius:"12px",border:"none",cursor:"pointer",fontWeight:600,fontSize:"14px"}},"My Properties"),f&&f.role==="ADMIN"&&n.createElement(n.Fragment,null,n.createElement("button",{onClick:S,style:{color:"white",backgroundColor:"rgba(34, 197, 94, 0.3)",padding:"12px 20px",borderRadius:"12px",border:"2px solid #22c55e",cursor:"pointer",fontWeight:600,fontSize:"14px",marginLeft:"10px"}}," View Deals"),n.createElement("button",{onClick:N,style:{color:"white",backgroundColor:"rgba(59, 130, 246, 0.3)",padding:"12px 20px",borderRadius:"12px",border:"2px solid #3b82f6",cursor:"pointer",fontWeight:600,fontSize:"14px",marginLeft:"10px"}}," View Agents"),n.createElement("button",{onClick:C,style:{color:"white",backgroundColor:"rgba(139, 92, 246, 0.3)",padding:"12px 20px",borderRadius:"12px",border:"2px solid #8b5cf6",cursor:"pointer",fontWeight:600,fontSize:"14px",marginLeft:"10px"}}," View Users")),f&&f.role==="AGENT"&&n.createElement("button",{onClick:H,style:{color:"white",backgroundColor:"rgba(34, 197, 94, 0.3)",padding:"12px 20px",borderRadius:"12px",border:"2px solid #22c55e",cursor:"pointer",fontWeight:600,fontSize:"14px",marginLeft:"10px",position:"relative"}}," Agent Dashboard",A>0&&n.createElement("span",{style:{position:"absolute",top:"-8px",right:"-8px",backgroundColor:"#ef4444",color:"white",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:"700"}},A)),n.createElement("button",{onClick:s,style:{...P.postBtn,marginLeft:"10px"}},n.createElement("span",{style:P.btnIcon},"")," Post Property"),n.createElement("div",{style:{position:"relative"},onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1)},n.createElement("div",{style:P.userSection,className:"userSection"},n.createElement("span",{style:P.userIcon},""),n.createElement("span",{style:P.userName},f?.firstName||"User"," "),f&&(f.role==="AGENT"||f.role==="ADMIN")&&n.createElement("span",{style:{fontSize:"12px",marginLeft:"8px",backgroundColor:"rgba(255,255,255,0.3)",padding:"2px 8px",borderRadius:"4px"}},f.role==="ADMIN"?" Admin":" Agent")),k&&n.createElement("div",{style:P.profileDropdown},n.createElement("div",{style:P.profileDropdownItem,onClick:()=>{d(),h(!1)}},"View Profile"),n.createElement("div",{style:P.profileDropdownItem,onClick:$},"My Agreements"),n.createElement("div",{style:P.profileDropdownItem,onClick:U},"My Properties"),f&&(f.role==="AGENT"||f.role==="ADMIN")&&n.createElement("div",{style:P.profileDropdownItem,onClick:H},f.role==="ADMIN"?" Admin Dashboard":" Agent Dashboard"),f&&f.role==="USER"&&n.createElement("div",{style:P.profileDropdownItem,onClick:()=>{M("/my-deals"),h(!1)}},"My Deals"),n.createElement("hr",{style:{border:0,borderTop:"1px solid #eee",margin:"8px 0"}}),n.createElement("div",{style:{...P.profileDropdownItem,color:"#dc3545"},onClick:x},"Logout")))):n.createElement("div",{style:P.authButtons},n.createElement("button",{onClick:o,style:P.loginBtn},n.createElement("span",{style:P.btnIcon},"")," Login"),n.createElement("button",{onClick:c,style:P.signupBtn},n.createElement("span",{style:P.btnIcon},"")," Sign Up")))))}const dd=`${Ie}/api`,og=async()=>(await fetch(`${dd}/properties/featured`)).json(),ag=async o=>(await fetch(`${dd}/properties/${o}`)).json(),pd=({deal:o,onClose:c})=>{const s=["INQUIRY","SHORTLIST","NEGOTIATION","AGREEMENT","REGISTRATION","PAYMENT","COMPLETED"],d=A=>({INQUIRY:"#3b82f6",SHORTLIST:"#8b5cf6",NEGOTIATION:"#f59e0b",AGREEMENT:"#10b981",REGISTRATION:"#06b6d4",PAYMENT:"#ec4899",COMPLETED:"#22c55e"})[A]||"#6b7280",m=()=>{const A=o?.stage||o?.currentStage||"INQUIRY";return(s.indexOf(A)+1)/s.length*100};if(!o)return null;const f=o.stage||o.currentStage||"INQUIRY",x=o.buyer?`${o.buyer.firstName} ${o.buyer.lastName}`:"N/A",y=o.seller?`${o.seller.firstName} ${o.seller.lastName}`:"N/A",E=o.agent?`${o.agent.firstName} ${o.agent.lastName}`:"Not Assigned",k=o.property?.title||"Property",h=o.agreedPrice||o.property?.price||"TBD";return n.createElement("div",{style:de.backdrop,onClick:c},n.createElement("div",{style:de.modal,onClick:A=>A.stopPropagation()},n.createElement("button",{style:de.closeBtn,onClick:c},""),n.createElement("div",{style:de.header},n.createElement("h2",{style:de.title}," Deal Details"),n.createElement("div",{style:{...de.stageBadge,backgroundColor:d(f)}},f)),n.createElement("div",{style:de.progressContainer},n.createElement("div",{style:de.progressBar},n.createElement("div",{style:{...de.progressFill,width:`${m()}%`,backgroundColor:d(f)}})),n.createElement("p",{style:de.progressText},"Progress: ",m().toFixed(0),"%")),n.createElement("div",{style:de.contentGrid},n.createElement("div",{style:{...de.section,gridColumn:"1 / -1",textAlign:"center"}},n.createElement("h3",{style:de.sectionTitle}," Current Deal Stage"),n.createElement("p",{style:{...de.stageBadge,backgroundColor:d(f),display:"inline-block",fontSize:"16px"}},f)),n.createElement("div",{style:de.section},n.createElement("h3",{style:de.sectionTitle}," Property"),n.createElement("div",{style:de.infoBox},n.createElement("p",{style:de.label},"Title"),n.createElement("p",{style:de.value},k),n.createElement("p",{style:de.label},"Price"),n.createElement("p",{style:de.value},"",typeof h=="number"?h.toLocaleString("en-IN"):h),o.property?.bedrooms&&n.createElement(n.Fragment,null,n.createElement("p",{style:de.label},"Bedrooms"),n.createElement("p",{style:de.value},o.property.bedrooms)),o.property?.areaSqft&&n.createElement(n.Fragment,null,n.createElement("p",{style:de.label},"Area"),n.createElement("p",{style:de.value},o.property.areaSqft," sqft")))),n.createElement("div",{style:de.section},n.createElement("h3",{style:de.sectionTitle}," Buyer"),n.createElement("div",{style:de.infoBox},n.createElement("p",{style:de.label},"Name"),n.createElement("p",{style:de.value},x),o.buyer?.email&&n.createElement(n.Fragment,null,n.createElement("p",{style:de.label},"Email"),n.createElement("p",{style:de.value},o.buyer.email)),o.buyer?.mobileNumber&&n.createElement(n.Fragment,null,n.createElement("p",{style:de.label},"Phone"),n.createElement("p",{style:de.value},o.buyer.mobileNumber)))),n.createElement("div",{style:de.section},n.createElement("h3",{style:de.sectionTitle}," Seller"),n.createElement("div",{style:de.infoBox},n.createElement("p",{style:de.label},"Name"),n.createElement("p",{style:de.value},y),o.seller?.email&&n.createElement(n.Fragment,null,n.createElement("p",{style:de.label},"Email"),n.createElement("p",{style:de.value},o.seller.email)),o.seller?.mobileNumber&&n.createElement(n.Fragment,null,n.createElement("p",{style:de.label},"Phone"),n.createElement("p",{style:de.value},o.seller.mobileNumber)))),n.createElement("div",{style:de.section},n.createElement("h3",{style:de.sectionTitle}," Agent"),n.createElement("div",{style:de.infoBox},n.createElement("p",{style:de.label},"Agent Name"),n.createElement("p",{style:de.value},E),o.agent?.email&&n.createElement(n.Fragment,null,n.createElement("p",{style:de.label},"Email"),n.createElement("p",{style:de.value},o.agent.email)))),n.createElement("div",{style:{...de.section,gridColumn:"1 / -1"}},n.createElement("h3",{style:de.sectionTitle}," Timeline"),n.createElement("div",{style:de.timelineGrid},n.createElement("div",{style:de.timelineItem},n.createElement("p",{style:de.label},"Created"),n.createElement("p",{style:de.value},o.createdAt?new Date(o.createdAt).toLocaleDateString():"N/A")),o.shortlistDate&&n.createElement("div",{style:de.timelineItem},n.createElement("p",{style:de.label},"Shortlisted"),n.createElement("p",{style:de.value},new Date(o.shortlistDate).toLocaleDateString())),o.agreementDate&&n.createElement("div",{style:de.timelineItem},n.createElement("p",{style:de.label},"Agreement"),n.createElement("p",{style:de.value},new Date(o.agreementDate).toLocaleDateString())),o.registrationDate&&n.createElement("div",{style:de.timelineItem},n.createElement("p",{style:de.label},"Registration"),n.createElement("p",{style:de.value},new Date(o.registrationDate).toLocaleDateString())))),n.createElement("div",{style:{...de.section,gridColumn:"1 / -1"}},n.createElement("h3",{style:de.sectionTitle}," Status Checklist"),n.createElement("div",{style:de.checklistGrid},n.createElement("div",{style:de.checklistItem},n.createElement("span",{style:o.buyerDocUploaded?de.checkYes:de.checkNo},o.buyerDocUploaded?"":""),n.createElement("span",null,"Buyer Document Uploaded")),n.createElement("div",{style:de.checklistItem},n.createElement("span",{style:o.sellerConfirmed?de.checkYes:de.checkNo},o.sellerConfirmed?"":""),n.createElement("span",null,"Seller Confirmed")),n.createElement("div",{style:de.checklistItem},n.createElement("span",{style:o.adminVerified?de.checkYes:de.checkNo},o.adminVerified?"":""),n.createElement("span",null,"Admin Verified")),n.createElement("div",{style:de.checklistItem},n.createElement("span",{style:o.paymentInitiated?de.checkYes:de.checkNo},o.paymentInitiated?"":""),n.createElement("span",null,"Payment Initiated")),n.createElement("div",{style:de.checklistItem},n.createElement("span",{style:o.paymentCompleted?de.checkYes:de.checkNo},o.paymentCompleted?"":""),n.createElement("span",null,"Payment Completed"))))),n.createElement("button",{onClick:c,style:de.closeBottomBtn},"Close")))},de={backdrop:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:10001,overflowY:"auto",backdropFilter:"blur(3px)",padding:"20px"},modal:{backgroundColor:"white",borderRadius:"16px",padding:"32px",width:"100%",maxWidth:"1000px",maxHeight:"90vh",overflowY:"auto",position:"relative",boxShadow:"0 25px 50px rgba(0,0,0,0.3)",animation:"slideUp 0.3s ease-out"},closeBtn:{position:"absolute",top:"16px",right:"16px",background:"none",border:"none",fontSize:"32px",cursor:"pointer",color:"#6b7280",padding:0,width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px",paddingBottom:"16px",borderBottom:"2px solid #e5e7eb"},title:{fontSize:"28px",fontWeight:"800",color:"#1e293b",margin:0},stageBadge:{padding:"8px 16px",borderRadius:"20px",color:"white",fontWeight:"600",fontSize:"14px"},progressContainer:{marginBottom:"24px"},progressBar:{width:"100%",height:"12px",backgroundColor:"#e5e7eb",borderRadius:"6px",overflow:"hidden",marginBottom:"8px"},progressFill:{height:"100%",transition:"width 0.3s ease"},progressText:{fontSize:"12px",color:"#64748b",margin:0},contentGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"20px",marginBottom:"24px"},section:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"12px",border:"1px solid #e2e8f0"},sectionTitle:{fontSize:"16px",fontWeight:"700",color:"#1e293b",marginBottom:"12px",marginTop:0},infoBox:{display:"flex",flexDirection:"column",gap:"8px"},label:{fontSize:"12px",fontWeight:"600",color:"#64748b",margin:0,marginTop:"8px"},value:{fontSize:"14px",fontWeight:"600",color:"#1e293b",margin:0},timelineGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"12px"},timelineItem:{padding:"12px",backgroundColor:"white",borderRadius:"8px",border:"1px solid #e2e8f0"},checklistGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"12px"},checklistItem:{display:"flex",alignItems:"center",gap:"8px",padding:"12px",backgroundColor:"white",borderRadius:"8px",border:"1px solid #e2e8f0",fontSize:"14px"},checkYes:{color:"#10b981"},checkNo:{color:"#ef4444"},closeBottomBtn:{width:"100%",padding:"12px",backgroundColor:"#6b7280",color:"white",border:"none",borderRadius:"8px",fontWeight:"600",cursor:"pointer",fontSize:"14px",marginTop:"16px"}},ig=()=>{const{id:o}=ed(),c=Tt(),{user:s}=st(),[d,m]=g.useState(null),[f,x]=g.useState(!0),[y,E]=g.useState(null),[k,h]=g.useState(0),[A,I]=g.useState(null),[M,Y]=g.useState(!1),[U,S]=g.useState(!1),[N,C]=g.useState(!1),[H,$]=g.useState(null),[q,X]=g.useState("");g.useEffect(()=>{xe()},[o]),g.useEffect(()=>{(d?.id||d?.propertyId)&&he()},[d?.id,d?.propertyId,s?.id]);const xe=async()=>{try{const V=await ag(o);m(V),x(!1)}catch(V){console.error("Error fetching property details:",V),E("Failed to load property details."),x(!1)}},he=async()=>{if(!s?.id){console.log(" No user ID for checking deals");return}S(!0);try{const V=d?.id||d?.propertyId;console.log(" Checking for deals with propertyId:",V),console.log(" User ID:",s.id);try{const b=await fetch(`${Ie}/api/deals/property/${V}`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(console.log(" Property deals endpoint response status:",b.status),b.ok){const F=await b.json();console.log(" Property deals response:",F);let p=[];if(Array.isArray(F)?p=F:(F.success&&Array.isArray(F.data)||F.data&&Array.isArray(F.data))&&(p=F.data),p.length>0){console.log(" Deal found via property endpoint:",p[0]),I(p[0]),S(!1);return}}}catch(b){console.log(" Property deals endpoint error:",b.message)}console.log(" Trying fallback - fetching agent deals...");try{const b=await fetch(`${Ie}/api/deals/agent/${s.id}`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(console.log(" Agent deals endpoint response status:",b.status),b.ok){const F=await b.json();console.log(" Agent deals response:",F);let p=[];Array.isArray(F)?p=F:(F.success&&Array.isArray(F.data)||F.data&&Array.isArray(F.data))&&(p=F.data),console.log(` Total agent deals found: ${p.length}`);const w=p.find(j=>{const J=j.property?.id||j.propertyId,oe=J===V||J==V;return console.log(`Comparing deal property ${J} with current property ${V}: ${oe}`),oe});w?(console.log(" Deal found via agent deals endpoint:",w),I(w)):(console.log(" No deal found for this property in agent deals"),I(null))}else console.log(" Agent deals endpoint failed with status:",b.status),I(null)}catch(b){console.error(" Error fetching agent deals:",b),I(null)}}catch(V){console.error(" Error in checkForExistingDeal:",V),I(null)}finally{S(!1)}},D=async()=>{if($(null),!q||q.length!==10){$("Please enter a valid 10-digit buyer phone number");return}C(!0);try{console.log(" Searching for buyer with phone:",q);const V=await fetch(`${Ie}/api/users/search?phone=${q}`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(!V.ok){$("Error searching for buyer"),C(!1);return}const b=await V.json(),F=b.success?b.data:b;if(console.log(" Buyer search result:",F),!F||!F.id){$("Buyer not found. Please check the phone number."),C(!1);return}console.log(" Buyer found:",F.id);const p=await fetch(`${Ie}/api/deals/create`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify({propertyId:d.id||d.propertyId,buyerId:F.id,agentId:s.id})}),w=await p.json();console.log(" Deal creation response:",w),w.success||p.ok?(console.log(" Deal created successfully"),alert(" Deal created successfully!"),X(""),$(null),setTimeout(()=>{he()},500)):(console.log(" Deal creation failed:",w),$(w.message||"Failed to create deal"))}catch(V){console.error(" Error creating deal:",V),$("Error: "+V.message)}finally{C(!1)}},W=()=>{Y(!1),he()},ie=V=>{if(!V)return"Price on request";const b=typeof V=="number"?V:parseFloat(V);return b>=1e7?`${(b/1e7).toFixed(2)} Cr`:b>=1e5?`${(b/1e5).toFixed(2)} Lac`:`${b.toLocaleString("en-IN")}`};if(f)return n.createElement("div",{style:me.loading},n.createElement("div",{style:me.spinner},""),n.createElement("p",null,"Loading property details..."));if(y||!d)return n.createElement("div",{style:me.error},n.createElement("h2",null,y||"Property not found"),n.createElement("button",{onClick:()=>c("/"),style:me.backButton},"Go back to home"));const re=d.imageUrl?[d.imageUrl]:[],Z=d.amenities?d.amenities.split(",").map(V=>V.trim()):[],ce=d.propertyType?.typeName||d.type||"N/A",O=d.user?`${d.user.firstName} ${d.user.lastName}`:"N/A",G=s&&(s.role==="AGENT"||s.role==="ADMIN");return n.createElement("div",{style:me.container},n.createElement("button",{onClick:()=>c(-1),style:me.backButton}," Back"),n.createElement("div",{style:me.detailsContainer},n.createElement("div",{style:me.imageSection},n.createElement("div",{style:me.mainImage},n.createElement("img",{src:re[0]||"https://images.unsplash.com/photo-1560518883-ce09059eeffa?w=800",alt:d.title,style:me.largeImage}))),n.createElement("div",{style:me.infoSection},n.createElement("div",{style:me.priceSection},n.createElement("div",{style:me.price},ie(d.price||d.expectedPrice),d.listingType==="rent"&&n.createElement("span",{style:me.perMonth},"/month")),d.isFeatured&&n.createElement("span",{style:me.featuredBadge}," Featured")),n.createElement("h1",{style:me.title},d.title),n.createElement("div",{style:me.typeTag},d.listingType?.toLowerCase()==="sale"?"FOR SALE":"FOR RENT"),n.createElement("div",{style:me.location}," ",d.areaName||d.city||"Hyderabad",d.pincode&&` - ${d.pincode}`),n.createElement("div",{style:me.keyDetails},n.createElement("div",{style:me.detailCard},n.createElement("span",{style:me.detailIcon},""),n.createElement("div",null,n.createElement("div",{style:me.detailLabel},"Bedrooms"),n.createElement("div",{style:me.detailValue},d.bedrooms||"N/A"))),n.createElement("div",{style:me.detailCard},n.createElement("span",{style:me.detailIcon},""),n.createElement("div",null,n.createElement("div",{style:me.detailLabel},"Bathrooms"),n.createElement("div",{style:me.detailValue},d.bathrooms||"N/A"))),d.areaSqft&&n.createElement("div",{style:me.detailCard},n.createElement("span",{style:me.detailIcon},""),n.createElement("div",null,n.createElement("div",{style:me.detailLabel},"Area"),n.createElement("div",{style:me.detailValue},d.areaSqft," sqft"))),n.createElement("div",{style:me.detailCard},n.createElement("span",{style:me.detailIcon},""),n.createElement("div",null,n.createElement("div",{style:me.detailLabel},"Type"),n.createElement("div",{style:me.detailValue},ce)))),n.createElement("div",{style:me.contactSection},d.user&&n.createElement("div",{style:me.ownerInfo},"Dear ",n.createElement("div",{style:me.ownerName},O)),n.createElement("h3",{style:me.contactTitle},"Contact Agent"),n.createElement("div",{style:me.contactButtons},n.createElement("button",{style:me.contactOwnerBtn},"Contact Agent"),n.createElement("button",{style:me.getPhoneBtn},"Get Phone No.")),G&&n.createElement("div",{style:me.dealSection},n.createElement("div",{style:me.dealSectionTitle}," Deal Management"),U?n.createElement("div",{style:me.loadingDeal}," Checking for deals..."):A?n.createElement(n.Fragment,null,n.createElement("div",{style:me.dealExistsBadge},n.createElement("strong",null," Deal Already Created")),n.createElement("div",{style:me.dealStageInfo},n.createElement("div",{style:me.dealStageBadge},"Stage:"," ",n.createElement("strong",null,A.stage||A.currentStage||"INQUIRY")),n.createElement("div",{style:me.dealCreatedDate},"Created:"," ",new Date(A.createdAt).toLocaleDateString())),n.createElement("button",{onClick:()=>Y(!0),style:me.viewDealBtn}," View & Manage Deal")):n.createElement(n.Fragment,null,n.createElement("div",{style:me.noDealInfo},"No deals created yet for this property"),n.createElement("div",{style:me.buyerInputContainer},n.createElement("input",{type:"tel",placeholder:"Enter buyer phone (10 digits)",value:q,onChange:V=>{const b=V.target.value.replace(/\D/g,"");X(b.slice(0,10)),$(null)},maxLength:"10",style:me.buyerInput,disabled:N}),n.createElement("button",{onClick:D,disabled:N||q.length!==10,style:{...me.createDealBtn,opacity:N||q.length!==10?.6:1,cursor:N||q.length!==10?"not-allowed":"pointer"}},N?" Creating...":" Create Deal")),H&&n.createElement("div",{style:me.errorMessage},H)))))),n.createElement("div",{style:me.moreDetails},n.createElement("h2",{style:me.sectionTitle},"More Details"),n.createElement("div",{style:me.detailsGrid},n.createElement("div",{style:me.detailRow},n.createElement("span",{style:me.detailRowLabel},"Price Breakup:"),n.createElement("span",{style:me.detailRowValue},ie(d.price||d.expectedPrice))),d.address&&n.createElement("div",{style:me.detailRow},n.createElement("span",{style:me.detailRowLabel},"Address:"),n.createElement("span",{style:me.detailRowValue},d.address))),d.description&&n.createElement("div",{style:me.descriptionSection},n.createElement("h3",{style:me.subSectionTitle},"Description"),n.createElement("p",{style:me.description},d.description)),Z.length>0&&n.createElement("div",{style:me.amenitiesSection},n.createElement("h3",{style:me.subSectionTitle},"Amenities"),n.createElement("div",{style:me.amenitiesGrid},Z.map((V,b)=>n.createElement("div",{key:b,style:me.amenityItem}," ",V))))),M&&A&&n.createElement(pd,{deal:A,onClose:W}))},me={container:{maxWidth:1200,margin:"0 auto",padding:24,backgroundColor:"#fff"},loading:{textAlign:"center",padding:"4rem 2rem"},spinner:{fontSize:"3rem",marginBottom:"1rem"},error:{textAlign:"center",padding:"4rem 2rem"},backButton:{padding:"10px 20px",borderRadius:8,background:"#6b7280",color:"white",border:"none",cursor:"pointer",marginBottom:20,fontSize:14,fontWeight:500},detailsContainer:{display:"grid",gridTemplateColumns:"1.5fr 1fr",gap:30,marginBottom:40},imageSection:{display:"flex",flexDirection:"column",gap:12},mainImage:{width:"100%",borderRadius:12,overflow:"hidden",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},largeImage:{width:"100%",height:450,objectFit:"cover"},infoSection:{display:"flex",flexDirection:"column",gap:20},priceSection:{display:"flex",justifyContent:"space-between",alignItems:"center"},price:{fontSize:32,fontWeight:700,color:"#3b82f6"},perMonth:{fontSize:16,fontWeight:500,color:"#6b7280"},featuredBadge:{backgroundColor:"#f59e0b",color:"white",padding:"8px 16px",borderRadius:20,fontSize:14,fontWeight:600},title:{fontSize:28,fontWeight:700,color:"#111827",margin:0},typeTag:{display:"inline-block",padding:"8px 16px",backgroundColor:"#dbeafe",color:"#1e40af",borderRadius:8,fontSize:14,fontWeight:600,width:"fit-content"},location:{fontSize:16,color:"#6b7280"},keyDetails:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:16,marginTop:10},detailCard:{display:"flex",alignItems:"center",gap:12,padding:16,backgroundColor:"#f9fafb",borderRadius:10,border:"1px solid #e5e7eb"},detailIcon:{fontSize:28},detailLabel:{fontSize:12,color:"#6b7280",marginBottom:4},detailValue:{fontSize:18,fontWeight:600,color:"#111827"},contactSection:{backgroundColor:"#f9fafb",padding:20,borderRadius:12,border:"1px solid #e5e7eb",marginTop:10},contactTitle:{fontSize:18,fontWeight:600,marginBottom:12,marginTop:0},ownerInfo:{marginBottom:16},ownerName:{fontSize:16,fontWeight:600,marginBottom:8},contactButtons:{display:"flex",gap:12,marginBottom:12},contactOwnerBtn:{flex:1,padding:"12px",backgroundColor:"#ef4444",color:"white",border:"none",borderRadius:8,fontWeight:600,cursor:"pointer",fontSize:14},getPhoneBtn:{flex:1,padding:"12px",backgroundColor:"white",color:"#ef4444",border:"2px solid #ef4444",borderRadius:8,fontWeight:600,cursor:"pointer",fontSize:14},dealSection:{marginTop:16,paddingTop:16,borderTop:"2px solid #e5e7eb",backgroundColor:"#fef3c7",padding:16,borderRadius:8,border:"1px solid #fcd34d"},dealSectionTitle:{fontSize:14,fontWeight:700,color:"#92400e",marginBottom:12,marginTop:0},dealExistsBadge:{padding:"12px",backgroundColor:"#d1fae5",color:"#065f46",borderRadius:6,fontSize:13,fontWeight:600,marginBottom:12,border:"1px solid #6ee7b7",textAlign:"center"},dealStageInfo:{marginBottom:12,padding:"12px",backgroundColor:"#f3f4f6",borderRadius:8,border:"1px solid #e5e7eb"},dealStageBadge:{fontSize:14,fontWeight:600,color:"#1e40af",marginBottom:8},dealCreatedDate:{fontSize:12,color:"#64748b",fontStyle:"italic"},noDealInfo:{padding:"12px",backgroundColor:"#fef3c7",color:"#92400e",borderRadius:6,fontSize:13,fontWeight:600,marginBottom:12,border:"1px solid #fcd34d",textAlign:"center"},loadingDeal:{padding:"12px",backgroundColor:"#dbeafe",color:"#1e40af",borderRadius:6,fontSize:13,fontWeight:600,textAlign:"center"},errorMessage:{backgroundColor:"#fee2e2",color:"#dc2626",padding:"12px",borderRadius:6,fontSize:13,fontWeight:600,marginTop:12,border:"1px solid #fecaca",textAlign:"center"},buyerInputContainer:{display:"flex",gap:8,marginBottom:12},buyerInput:{flex:1,padding:"10px 12px",border:"2px solid #e2e8f0",borderRadius:6,fontSize:13,fontWeight:500,boxSizing:"border-box",transition:"border-color 0.2s"},createDealBtn:{padding:"10px 12px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:6,fontWeight:600,cursor:"pointer",fontSize:13,transition:"background 0.2s",whiteSpace:"nowrap"},viewDealBtn:{width:"100%",padding:"12px",backgroundColor:"#10b981",color:"white",border:"none",borderRadius:8,fontWeight:600,cursor:"pointer",fontSize:14,transition:"background 0.2s"},moreDetails:{backgroundColor:"#fff",padding:30,borderRadius:12,border:"1px solid #e5e7eb"},sectionTitle:{fontSize:24,fontWeight:700,marginBottom:20},detailsGrid:{display:"flex",flexDirection:"column",gap:16},detailRow:{display:"flex",justifyContent:"space-between",paddingBottom:16,borderBottom:"1px solid #e5e7eb"},detailRowLabel:{fontSize:14,color:"#6b7280",fontWeight:500},detailRowValue:{fontSize:14,color:"#111827",fontWeight:600},descriptionSection:{marginTop:30},subSectionTitle:{fontSize:18,fontWeight:600,marginBottom:12},description:{fontSize:14,lineHeight:1.8,color:"#374151"},amenitiesSection:{marginTop:30},amenitiesGrid:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:12},amenityItem:{padding:"10px 12px",backgroundColor:"#f9fafb",borderRadius:8,fontSize:14,color:"#374151"}},md=({property:o,onPropertyUpdated:c,onPropertyDeleted:s})=>{const d=Tt(),{user:m}=st(),[f,x]=g.useState(!1),[y,E]=g.useState(!1);console.log(" PropertyCard Debug:",{propertyId:o.id||o.propertyId,propertyUser:o.user,currentUser:m,hasUser:!!m,hasPropertyUser:!!o.user,userMatch:m&&o.user?m.id===o.user.id:!1});const k=m&&o.user&&m.id===o.user.id;console.log(" Is Owner:",k);const h=S=>{if(!S)return o.priceDisplay||"Price on request";const N=typeof S=="number"?S:parseFloat(S);return N>=1e7?`${(N/1e7).toFixed(2)} Cr`:N>=1e5?`${(N/1e5).toFixed(2)} Lac`:N>=1e3?`${(N/1e3).toFixed(0)} K`:`${N.toLocaleString("en-IN")}`},A=()=>"https://images.unsplash.com/photo-1560518883-ce09059eeffa?w=800&h=600&fit=crop",I=S=>{if(S.target.closest("button"))return;const N=o.id||o.propertyId;d(`/property/${N}`)},M=S=>{S.stopPropagation(),console.log(" Edit clicked for property:",o.id),x(!0)},Y=async S=>{if(S.stopPropagation(),!!window.confirm(" Are you sure you want to delete this property?")){E(!0);try{const N=o.id||o.propertyId;console.log(" Deleting property:",N),(await fetch(`${Ie}/api/properties/${N}`,{method:"DELETE"})).ok?(alert(" Property deleted successfully!"),s&&s()):alert(" Failed to delete property")}catch(N){console.error(" Error deleting property:",N),alert(" Error deleting property")}finally{E(!1)}}},U=()=>{console.log(" Property updated successfully"),x(!1),c&&c()};return n.createElement(n.Fragment,null,n.createElement("div",{style:Ue.card,onClick:I,className:"property-card"},n.createElement("div",{style:Ue.badgeContainer},o.isFeatured&&n.createElement("span",{style:Ue.badge}," Featured"),o.isVerified&&n.createElement("span",{style:Ue.verifiedBadge}," Verified"),o.isReadyToMove&&n.createElement("span",{style:Ue.readyBadge}," Ready to Move")),n.createElement("div",{style:Ue.imageContainer},n.createElement("img",{src:o.imageUrl||A(),alt:o.title,style:Ue.image,onError:S=>{S.target.src=A()}}),n.createElement("div",{style:Ue.imageOverlay})),n.createElement("div",{style:Ue.content},n.createElement("div",{style:Ue.typeTag},o.listingType==="sale"||o.listingType==="SALE"?"FOR SALE":"FOR RENT"),n.createElement("h3",{style:Ue.title},o.title),n.createElement("div",{style:Ue.location}," ",o.areaName||o.city||"Location",",",o.cityName||"Hyderabad",o.pincode&&` - ${o.pincode}`),n.createElement("div",{style:Ue.price},h(o.price),(o.listingType==="rent"||o.listingType==="RENT")&&n.createElement("span",{style:Ue.perMonth},"/month")),n.createElement("div",{style:Ue.propertyType},n.createElement("strong",null,o.propertyType||o.type),o.ownerType&&n.createElement("span",{style:Ue.ownerTypeBadge},o.ownerType==="owner"?" Owner":" Broker")),n.createElement("div",{style:Ue.details},o.areaSqft&&n.createElement("div",{style:Ue.detail},n.createElement("span",{style:Ue.detailIcon},""),n.createElement("span",null,o.areaSqft," sqft")),o.bedrooms>0&&n.createElement("div",{style:Ue.detail},n.createElement("span",{style:Ue.detailIcon},""),n.createElement("span",null,o.bedrooms," Beds")),o.bathrooms>0&&n.createElement("div",{style:Ue.detail},n.createElement("span",{style:Ue.detailIcon},""),n.createElement("span",null,o.bathrooms," Baths"))),o.amenities&&n.createElement("div",{style:Ue.amenities},n.createElement("strong",null," Amenities:")," ",o.amenities.split(",").slice(0,3).join(", "),o.amenities.split(",").length>3&&"..."),o.user&&n.createElement("div",{style:Ue.postedBy}," Posted by: ",o.user.firstName," ",o.user.lastName),k&&n.createElement("div",{style:Ue.actionButtons},n.createElement("button",{onClick:M,style:Ue.editBtn}," Edit"),n.createElement("button",{onClick:Y,style:Ue.deleteBtn,disabled:y},y?"":""," Delete")),m&&n.createElement("div",{style:Ue.debugInfo},n.createElement("small",null,"Debug: User ID=",m.id," | Property User=",o.user?.id," | IsOwner=",k?"":"")))),f&&n.createElement(Zf,{property:o,onClose:()=>x(!1),onPropertyUpdated:U}))},Ue={card:{background:"linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)",borderRadius:"20px",overflow:"hidden",boxShadow:"0 8px 32px rgba(0,0,0,0.08)",transition:"all 0.3s ease",cursor:"pointer",position:"relative",border:"1px solid rgba(255,255,255,0.2)"},badgeContainer:{position:"absolute",top:"1rem",right:"1rem",display:"flex",flexDirection:"column",gap:"8px",zIndex:2},badge:{background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",color:"white",padding:"0.5rem 1rem",borderRadius:"2rem",fontSize:"0.75rem",fontWeight:"700",textTransform:"uppercase",boxShadow:"0 4px 12px rgba(245, 158, 11, 0.3)"},verifiedBadge:{background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"white",padding:"0.5rem 1rem",borderRadius:"2rem",fontSize:"0.75rem",fontWeight:"700",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.3)"},readyBadge:{background:"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)",color:"white",padding:"0.5rem 1rem",borderRadius:"2rem",fontSize:"0.75rem",fontWeight:"700",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.3)"},imageContainer:{position:"relative",overflow:"hidden"},image:{width:"100%",height:"220px",objectFit:"cover",transition:"transform 0.3s ease"},imageOverlay:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"linear-gradient(to bottom, transparent 0%, rgba(0,0,0,0.1) 100%)"},content:{padding:"24px"},typeTag:{display:"inline-block",padding:"0.4rem 1rem",background:"linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%)",color:"white",borderRadius:"1rem",fontSize:"0.75rem",fontWeight:"700",marginBottom:"1rem",boxShadow:"0 2px 8px rgba(79, 70, 229, 0.3)"},title:{fontSize:"20px",marginBottom:"12px",fontWeight:"700",color:"#1e293b",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},location:{color:"#64748b",fontSize:"14px",marginBottom:"1rem",fontWeight:"500"},price:{fontSize:"28px",fontWeight:"800",color:"#059669",marginBottom:"1rem"},perMonth:{fontSize:"14px",fontWeight:"500",color:"#64748b"},propertyType:{background:"linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%)",padding:"0.75rem 1rem",borderRadius:"12px",marginBottom:"1rem",fontSize:"14px",color:"#475569",fontWeight:"600",border:"1px solid #e2e8f0",display:"flex",justifyContent:"space-between",alignItems:"center"},ownerTypeBadge:{fontSize:"12px",padding:"4px 8px",background:"#dbeafe",color:"#1e40af",borderRadius:"6px",fontWeight:"600"},details:{display:"flex",gap:"1.5rem",paddingTop:"1rem",borderTop:"2px solid #f1f5f9",color:"#64748b",fontSize:"14px",marginBottom:"1rem"},detail:{display:"flex",alignItems:"center",gap:"8px",fontWeight:"500"},detailIcon:{fontSize:"16px"},amenities:{marginTop:"1rem",paddingTop:"1rem",borderTop:"2px solid #f1f5f9",fontSize:"13px",color:"#64748b",lineHeight:"1.5"},postedBy:{fontSize:"13px",color:"#475569",marginTop:"12px",fontWeight:"600",padding:"8px 12px",background:"#f8fafc",borderRadius:"8px",border:"1px solid #e2e8f0"},actionButtons:{display:"flex",gap:"12px",marginTop:"16px",paddingTop:"16px",borderTop:"2px solid #f1f5f9"},editBtn:{flex:1,padding:"12px 16px",background:"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)",color:"white",border:"none",borderRadius:"10px",cursor:"pointer",fontSize:"14px",fontWeight:"700",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.3)",transition:"transform 0.2s"},deleteBtn:{flex:1,padding:"12px 16px",background:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",color:"white",border:"none",borderRadius:"10px",cursor:"pointer",fontSize:"14px",fontWeight:"700",boxShadow:"0 4px 12px rgba(239, 68, 68, 0.3)",transition:"transform 0.2s"},debugInfo:{marginTop:"12px",padding:"8px",background:"#fef3c7",borderRadius:"6px",fontSize:"11px",color:"#92400e",fontFamily:"monospace"}},Bi=({properties:o,loading:c,onPropertyUpdated:s,onPropertyDeleted:d})=>c?n.createElement("div",{style:cn.loading},n.createElement("div",{style:cn.spinner},""),n.createElement("h3",{style:cn.loadingText},"Finding Amazing Properties..."),n.createElement("p",{style:cn.loadingSubtext},"Please wait while we search the best matches")):!o||o.length===0?n.createElement("div",{style:cn.empty},n.createElement("div",{style:cn.emptyIcon},""),n.createElement("h3",{style:cn.emptyTitle},"No properties found"),n.createElement("p",{style:cn.emptySubtitle},"Try adjusting your search criteria or browse different areas")):n.createElement("div",{style:cn.grid},o.map(m=>n.createElement(md,{key:m.propertyId||m.id,property:m,onPropertyUpdated:s,onPropertyDeleted:d}))),cn={loading:{textAlign:"center",padding:"5rem 2rem",color:"#64748b",background:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)",borderRadius:"20px",margin:"2rem 0"},spinner:{fontSize:"4rem",marginBottom:"1.5rem",animation:"pulse 2s infinite"},loadingText:{fontSize:"1.5rem",fontWeight:"700",marginBottom:"0.5rem",color:"#1e293b"},loadingSubtext:{fontSize:"1rem",color:"#64748b",fontWeight:"500"},empty:{textAlign:"center",padding:"4rem 2rem",color:"#64748b",background:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)",borderRadius:"20px",margin:"2rem 0"},emptyIcon:{fontSize:"5rem",marginBottom:"1.5rem",opacity:"0.7"},emptyTitle:{fontSize:"1.75rem",fontWeight:"700",marginBottom:"0.5rem",color:"#1e293b"},emptySubtitle:{fontSize:"1.1rem",color:"#64748b",fontWeight:"500"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"2rem",marginTop:"1rem"}};if(typeof window<"u"){const o=document.createElement("style");o.textContent=`
    @keyframes pulse {
      0%, 100% { opacity: 1; transform: scale(1); }
      50% { opacity: 0.7; transform: scale(1.1); }
    }
  `,document.head.appendChild(o)}const Fu=()=>{const{listingType:o,propertyType:c,areaName:s}=ed(),d=Tt(),[m,f]=g.useState([]),[x,y]=g.useState(!0),[E,k]=g.useState(null);g.useEffect(()=>{h()},[o,c,s]);const h=async()=>{y(!0),k(null),console.log(" Fetching properties with:",{listingType:o,propertyType:c,areaName:s});try{const Y=await fetch(`${Ie}/api/properties`);if(!Y.ok)throw new Error(`Failed to fetch properties: ${Y.status}`);const U=await Y.json();console.log(" All properties from API:",U);let S=[];Array.isArray(U)?S=U:U&&Array.isArray(U.data)?S=U.data:S=[],console.log(` Total properties found: ${S.length}`);const N=S.filter(C=>{let H=!0;if(o&&C.listingType){const $=C.listingType.toLowerCase(),q=o.toLowerCase();H=H&&$===q,console.log(`Listing type check: ${$} === ${q} = ${H}`)}if(c&&C.type){const $=c.replace(/-/g," ").toLowerCase(),q=C.type.toLowerCase();console.log(`Type check: "${q}" vs "${$}"`);const X=q===$,xe=q.includes($)||$.includes(q),he=A(q,$);H=H&&(X||xe||he),console.log(`Type match result: ${H}`)}if(s&&C.areaName){const $=s.replace(/-/g," ").toLowerCase(),q=C.areaName.toLowerCase();H=H&&q.includes($),console.log(`Area check: ${q} includes ${$} = ${H}`)}return console.log(`Property "${C.title}" - matches: ${H}`),H});console.log(` Filtered properties found: ${N.length}`),f(N)}catch(Y){console.error(" Error fetching properties:",Y),k("Failed to load properties. Please check if the backend is running."),f([])}finally{y(!1)}},A=(Y,U)=>{const S={apartment:["flat","apartments"],flat:["apartment","apartments"],villa:["house","independent house","bungalow"],house:["villa","independent house","bungalow"],plot:["land","empty plot"]};if(S[U])return S[U].includes(Y);for(const[N,C]of Object.entries(S))if(C.includes(U)&&Y===N)return!0;return!1};if(x)return n.createElement("div",{style:Et.loading},n.createElement("div",{style:Et.spinner},""),n.createElement("p",null,"Loading properties..."));if(E)return n.createElement("div",{style:Et.error},n.createElement("h2",null,"Something went wrong"),n.createElement("p",null,E),n.createElement("button",{onClick:h,style:Et.retryButton},"Try Again"));const I=Y=>Y.replace(/-/g," ").replace(/\b\w/g,U=>U.toUpperCase()),M=s?`Properties in ${I(s)}`:`${I(c)} for ${o==="sale"?"Sale":"Rent"}`;return n.createElement("div",{style:Et.container},n.createElement("button",{onClick:()=>d(-1),style:Et.backButton}," Back"),n.createElement("h1",{style:Et.title},M),n.createElement("p",{style:Et.count},m.length," properties found"),n.createElement(Bi,{properties:m,loading:x}),m.length===0&&!x&&n.createElement("div",{style:Et.emptyContainer},n.createElement("div",{style:Et.emptyIcon},""),n.createElement("h3",{style:Et.emptyTitle},"No properties found"),n.createElement("p",{style:Et.emptyText},"We couldn't find any ",I(c)," properties for"," ",o==="sale"?"sale":"rent",s&&` in ${I(s)}`,"."),n.createElement("div",{style:Et.buttonGroup},n.createElement("button",{onClick:()=>d("/"),style:Et.browseButton},"Browse All Properties"),n.createElement("button",{onClick:h,style:Et.retryButton},"Refresh Search"))))},Et={container:{maxWidth:1200,margin:"0 auto",padding:"24px"},loading:{textAlign:"center",padding:"80px 20px"},spinner:{fontSize:"64px",marginBottom:"24px"},error:{textAlign:"center",padding:"80px 20px",backgroundColor:"#fef2f2",borderRadius:"16px",border:"2px solid #fecaca"},buttonGroup:{display:"flex",gap:"12px",justifyContent:"center",marginTop:"20px",flexWrap:"wrap"},retryButton:{padding:"12px 24px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:600,cursor:"pointer"},backButton:{padding:"10px 20px",borderRadius:"8px",background:"#6b7280",color:"white",border:"none",cursor:"pointer",marginBottom:"20px",fontSize:"14px",fontWeight:500},title:{fontSize:"32px",fontWeight:"700",color:"#111827",marginBottom:"8px"},count:{fontSize:"16px",color:"#6b7280",marginBottom:"24px"},emptyContainer:{textAlign:"center",padding:"80px 20px",backgroundColor:"#f9fafb",borderRadius:"16px",border:"2px dashed #e5e7eb"},emptyIcon:{fontSize:"64px",marginBottom:"24px"},emptyTitle:{fontSize:"24px",fontWeight:700,color:"#111827",marginBottom:"12px"},emptyText:{fontSize:"16px",color:"#6b7280",marginBottom:"24px",maxWidth:"500px",margin:"0 auto 24px"},browseButton:{padding:"12px 24px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:600,cursor:"pointer"}},sg=({onSearchResults:o,onSearchStart:c,onReset:s})=>{const[d,m]=g.useState({propertyType:"",minPrice:"",maxPrice:"",city:"Hyderabad",area:"",listingType:"",minBedrooms:"",maxBedrooms:""}),[f,x]=g.useState([]),[y,E]=g.useState([]),[k,h]=g.useState(!1),[A,I]=g.useState({types:"loading...",areas:"loading..."});g.useEffect(()=>{M(),Y()},[]);const M=async()=>{console.log(" Loading property types...");try{const C=await fetch(`${Ie}/api/property-types`);if(console.log("Response status:",C.status),!C.ok)throw new Error(`HTTP error! status: ${C.status}`);const H=await C.json();console.log(" Property Types Response:",H),H&&H.success&&H.data?(console.log(" Setting",H.data.length,"property types"),x(H.data),I($=>({...$,types:`Loaded ${H.data.length} types`}))):(console.error(" Invalid response structure:",H),I($=>({...$,types:"Invalid response"})))}catch(C){console.error(" Error loading property types:",C),I(H=>({...H,types:`Error: ${C.message}`}))}},Y=async()=>{console.log(" Loading areas...");try{const C=await fetch(`${Ie}/api/areas?city=Hyderabad`);if(console.log("Response status:",C.status),!C.ok)throw new Error(`HTTP error! status: ${C.status}`);const H=await C.json();console.log(" Areas Response:",H),H&&H.success&&H.data?(console.log(" Setting",H.data.length,"areas"),E(H.data),I($=>({...$,areas:`Loaded ${H.data.length} areas`}))):(console.error(" Invalid response structure:",H),I($=>({...$,areas:"Invalid response"})))}catch(C){console.error(" Error loading areas:",C),I(H=>({...H,areas:`Error: ${C.message}`}))}},U=C=>{const{name:H,value:$}=C.target;m(q=>({...q,[H]:$}))},S=async C=>{C.preventDefault(),h(!0),c();try{const H={...d,minPrice:d.minPrice?parseFloat(d.minPrice):null,maxPrice:d.maxPrice?parseFloat(d.maxPrice):null,minBedrooms:d.minBedrooms?parseInt(d.minBedrooms):null,maxBedrooms:d.maxBedrooms?parseInt(d.maxBedrooms):null,propertyType:d.propertyType||null,area:d.area||null,listingType:d.listingType||null},$=await fetch(`${Ie}/api/properties/search`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(H)});if(!$.ok)throw new Error(`HTTP error! status: ${$.status}`);const q=await $.json();q.success&&o(q.data)}catch(H){console.error("Error searching properties:",H),o([])}finally{h(!1)}},N=()=>{m({propertyType:"",minPrice:"",maxPrice:"",city:"Hyderabad",area:"",listingType:"",minBedrooms:"",maxBedrooms:""}),s()};return n.createElement("div",{style:Le.container},n.createElement("div",{style:Le.header},n.createElement("h2",{style:Le.title}," Find Your Perfect Property"),n.createElement("p",{style:Le.subtitle},"Search through thousands of properties in Hyderabad")),n.createElement("form",{onSubmit:S,style:Le.form},n.createElement("div",{style:Le.grid},n.createElement("div",{style:Le.formGroup},n.createElement("label",{style:Le.label},n.createElement("span",{style:Le.labelIcon},""),"Property Type (",f.length," types loaded)"),n.createElement("select",{name:"propertyType",value:d.propertyType,onChange:U,style:Le.select},n.createElement("option",{value:""},"All Types"),f.map(C=>n.createElement("option",{key:C.propertyTypeId,value:C.typeName},C.typeName)))),n.createElement("div",{style:Le.formGroup},n.createElement("label",{style:Le.label},n.createElement("span",{style:Le.labelIcon},""),"Listing Type"),n.createElement("select",{name:"listingType",value:d.listingType,onChange:U,style:Le.select},n.createElement("option",{value:""},"All Listings"),n.createElement("option",{value:"sale"},"For Sale"),n.createElement("option",{value:"rent"},"For Rent"))),n.createElement("div",{style:Le.formGroup},n.createElement("label",{style:Le.label},n.createElement("span",{style:Le.labelIcon},""),"Area (",y.length," areas loaded)"),n.createElement("select",{name:"area",value:d.area,onChange:U,style:Le.select},n.createElement("option",{value:""},"All Areas"),y.map(C=>n.createElement("option",{key:C.areaId,value:C.areaName},C.areaName," (",C.pincode,")")))),n.createElement("div",{style:Le.formGroup},n.createElement("label",{style:Le.label},n.createElement("span",{style:Le.labelIcon},""),"Min Price ()"),n.createElement("input",{type:"number",name:"minPrice",placeholder:"Minimum Price",value:d.minPrice,onChange:U,style:Le.input,min:"0"})),n.createElement("div",{style:Le.formGroup},n.createElement("label",{style:Le.label},n.createElement("span",{style:Le.labelIcon},""),"Max Price ()"),n.createElement("input",{type:"number",name:"maxPrice",placeholder:"500000000",value:d.maxPrice,onChange:U,style:Le.input,min:"0"})),n.createElement("div",{style:Le.formGroup},n.createElement("label",{style:Le.label},n.createElement("span",{style:Le.labelIcon},""),"Min Bedrooms"),n.createElement("input",{type:"number",name:"minBedrooms",placeholder:"1",value:d.minBedrooms,onChange:U,style:Le.input,min:"0",max:"10"})),n.createElement("div",{style:Le.formGroup},n.createElement("label",{style:Le.label},n.createElement("span",{style:Le.labelIcon},""),"Max Bedrooms"),n.createElement("input",{type:"number",name:"maxBedrooms",placeholder:"2",value:d.maxBedrooms,onChange:U,style:Le.input,min:"0",max:"10"}))),n.createElement("div",{style:Le.actions},n.createElement("button",{type:"button",onClick:N,style:Le.resetButton},n.createElement("span",{style:Le.buttonIcon},""),"Reset Filters"),n.createElement("button",{type:"submit",style:Le.searchButton,disabled:k},n.createElement("span",{style:Le.buttonIcon},k?"":""),k?"Searching...":"Search Properties"))))},Le={container:{background:"linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)",padding:"2.5rem",borderRadius:"24px",boxShadow:"0 20px 40px rgba(0,0,0,0.1)",marginBottom:"3rem",border:"1px solid rgba(255,255,255,0.2)"},header:{textAlign:"center",marginBottom:"2rem"},title:{fontSize:"2rem",marginBottom:"0.5rem",color:"#1e293b",fontWeight:"800"},subtitle:{fontSize:"1.1rem",color:"#64748b",fontWeight:"500"},form:{width:"100%"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},formGroup:{display:"flex",flexDirection:"column"},label:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px",fontSize:"14px",fontWeight:"700",color:"#374151"},labelIcon:{fontSize:"16px"},input:{padding:"14px 16px",borderRadius:"12px",border:"2px solid #e2e8f0",fontSize:"15px",background:"white",fontWeight:"500"},select:{padding:"14px 16px",borderRadius:"12px",border:"2px solid #e2e8f0",fontSize:"15px",backgroundColor:"white",cursor:"pointer",fontWeight:"500"},actions:{display:"flex",gap:"16px",justifyContent:"center",flexWrap:"wrap"},resetButton:{padding:"14px 28px",borderRadius:"12px",border:"none",background:"linear-gradient(135deg, #6b7280 0%, #4b5563 100%)",color:"white",fontSize:"15px",fontWeight:"700",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},searchButton:{padding:"14px 32px",borderRadius:"12px",border:"none",background:"linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%)",color:"white",fontSize:"15px",fontWeight:"700",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},buttonIcon:{fontSize:"16px"}},fd=({onDealCreated:o,onClose:c})=>{const{user:s}=st(),[d,m]=g.useState(1),[f,x]=g.useState(""),[y,E]=g.useState(null),[k,h]=g.useState([]),[A,I]=g.useState(null),[M,Y]=g.useState(""),[U,S]=g.useState(!1),[N,C]=g.useState(null),[H,$]=g.useState(!1),[q,X]=g.useState({}),[xe,he]=g.useState(null);g.useEffect(()=>{if(s?.role!=="AGENT"&&s?.role!=="ADMIN"){C(" Only agents can create deals"),setTimeout(c,2e3);return}const G=document.createElement("style");return G.textContent=`
      @keyframes slideUp {
        from { opacity: 0; transform: translateY(40px); }
        to { opacity: 1; transform: translateY(0); }
      }
      @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
      }
      .deal-modal-backdrop { animation: fadeIn 0.3s ease-out; }
      .deal-modal-content { animation: slideUp 0.4s ease-out; }
    `,document.head.appendChild(G),()=>document.head.removeChild(G)},[s,c]);const D=async G=>{if(!(!G||G.length!==10)){$(!0);try{const V=await fetch(`${Ie}/api/users/search?phone=${G}`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(V.ok){const b=await V.json(),F=b.success?b.data:b;if(F&&F.id){E(F);const w=await(await fetch(`${Ie}/api/properties`)).json(),j=Array.isArray(w)?w:w.data||[];h(j),await W(F.id),m(2)}else C("Buyer not found with this phone number.")}else C("Error searching for buyer. Please try again.")}catch(V){C("Error: "+V.message)}finally{$(!1)}}},W=async G=>{try{const V=await fetch(`${Ie}/api/deals/buyer/${G}`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(V.ok){const b=await V.json();let F=[];Array.isArray(b)?F=b:(b.success&&Array.isArray(b.data)||b.data&&Array.isArray(b.data))&&(F=b.data);const p={};F.forEach(w=>{const j=w.property?.id||w.propertyId;j&&(p[j]=w)}),X(p)}}catch(V){console.error("Error fetching existing deals:",V),X({})}},ie=G=>{const V=G.target.value.replace(/\D/g,"");x(V),C(null),V.length===10&&D(V)},re=async G=>{if(!y||!G||!M){C("Please enter deal price");return}S(!0),C(null);try{const V=await fetch(`${Ie}/api/deals/create`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify({propertyId:G,buyerId:y.id,agentId:s.id,agreedPrice:parseFloat(M)})}),b=await V.json();b.success||V.ok?(alert(" Deal created successfully!"),o&&o(),c()):C(b.message||"Failed to create deal")}catch(V){C("Error: "+V.message)}finally{S(!1)}},Z=G=>q[G]||q[G?.toString()],ce=()=>{he(null),y?.id&&W(y.id)},O=G=>G?Number(G).toLocaleString("en-IN"):"0";return s?.role!=="AGENT"&&s?.role!=="ADMIN"?n.createElement("div",{style:Ae.backdrop,onClick:c},n.createElement("div",{style:Ae.container,onClick:G=>G.stopPropagation()},n.createElement("button",{style:Ae.closeBtn,onClick:c},""),n.createElement("div",{style:{textAlign:"center",padding:"40px",color:"#dc2626"}},n.createElement("div",{style:{fontSize:"48px",marginBottom:"16px"}},""),n.createElement("h2",null,"Access Denied"),n.createElement("p",null,"Only agents can create deals")))):n.createElement(n.Fragment,null,xe&&n.createElement(pd,{deal:xe,onClose:ce}),n.createElement("div",{style:Ae.backdrop,className:"deal-modal-backdrop",onClick:c},n.createElement("div",{style:Ae.container,className:"deal-modal-content",onClick:G=>G.stopPropagation()},n.createElement("button",{style:Ae.closeBtn,onClick:c},""),n.createElement("h1",{style:Ae.title}," Create New Deal"),n.createElement("div",{style:Ae.agentInfo},n.createElement("span",{style:{fontWeight:"600"}}," Agent ID: ",s?.id)),N&&n.createElement("div",{style:Ae.error}," ",N),d===2&&A&&Z(A.id||A.propertyId)&&n.createElement("div",{style:Ae.dealExistsError}," Deal already exists for this property and buyer"),d===1?n.createElement("div",{style:Ae.step1},n.createElement("div",{style:Ae.section},n.createElement("h2",{style:Ae.sectionTitle},"Step 1: Find Buyer"),n.createElement("p",{style:Ae.sectionSubtitle},"Enter the buyer's mobile number to search for them"),n.createElement("div",{style:Ae.formGroup},n.createElement("label",{style:Ae.label}," Buyer Mobile Number *"),n.createElement("input",{type:"tel",placeholder:"Enter 10-digit mobile number",value:f,onChange:ie,maxLength:"10",pattern:"[0-9]{10}",style:Ae.input})),n.createElement("div",{style:Ae.hint}," The buyer must be registered in the system with this phone number."))):n.createElement("div",{style:Ae.step2},n.createElement("div",{style:Ae.buyerInfo},n.createElement("h3",{style:Ae.buyerName}," ",y?.firstName," ",y?.lastName),n.createElement("p",{style:Ae.buyerPhone}," ",y?.mobileNumber),n.createElement("p",{style:Ae.buyerEmail}," ",y?.email||"N/A"),n.createElement("button",{onClick:()=>{m(1),E(null),h([]),I(null),x(""),Y("")},style:Ae.changeBuyerBtn}," Change Buyer")),n.createElement("h2",{style:Ae.sectionTitle},"Step 2: Select Property & Price"),n.createElement("p",{style:Ae.sectionSubtitle},"Choose a property and enter deal price (",k.length," available)"),k.length>0?n.createElement("div",{style:Ae.propertiesGrid},k.map(G=>{const V=G.id||G.propertyId,b=A?.id===V||A?.propertyId===V,F=Z(V);return n.createElement("div",{key:V,style:{...Ae.propertyItem,borderColor:b?"#3b82f6":"#e2e8f0",backgroundColor:b?"#eff6ff":"white",boxShadow:b?"0 4px 12px rgba(59, 130, 246, 0.2)":"0 1px 3px rgba(0,0,0,0.1)",opacity:F?.7:1},onClick:()=>!F&&I(G)},n.createElement("img",{src:G.imageUrl||"https://images.unsplash.com/photo-1560518883-ce09059eeffa?w=400&h=300&fit=crop",alt:G.title,style:Ae.propertyImage}),n.createElement("div",{style:Ae.propertyDetails},n.createElement("h4",{style:Ae.propertyTitle},G.title),n.createElement("p",{style:Ae.propertyPrice}," ",O(G.price)),n.createElement("p",{style:Ae.propertySpecs}," ",G.bedrooms," |  ",G.bathrooms," |  ",G.areaSqft||"N/A"," sqft"),n.createElement("p",{style:Ae.propertyLocation}," ",G.areaName||G.city),G.user&&n.createElement("div",{style:Ae.sellerInfo},n.createElement("p",{style:Ae.sellerLabel}," Seller: ",G.user.firstName," ",G.user.lastName),n.createElement("p",{style:Ae.sellerPhone}," ",G.user.mobileNumber||"N/A")),n.createElement("div",{style:Ae.agentInfoSmall},n.createElement("p",{style:Ae.agentLabel}," Agent ID: ",s.id)),F?n.createElement(n.Fragment,null,n.createElement("div",{style:Ae.dealExistsBadge}," Deal exists - Stage: ",F.stage),n.createElement("button",{onClick:p=>{p.stopPropagation(),he(F)},style:Ae.viewDealBtn}," View Deal")):b?n.createElement(n.Fragment,null,n.createElement("div",{style:{marginBottom:"12px"}},n.createElement("label",{style:{display:"block",fontSize:"12px",fontWeight:"600",marginBottom:"4px",color:"#1e293b"}}," Deal Price () *"),n.createElement("input",{type:"number",placeholder:"Enter agreed price",value:M,onChange:p=>Y(p.target.value.replace(/\D/g,"")),style:{width:"100%",padding:"8px 12px",border:"1px solid #e2e8f0",borderRadius:"6px",fontSize:"14px",boxSizing:"border-box"}}),M&&n.createElement("div",{style:{fontSize:"12px",color:"#10b981",marginTop:"4px"}},"",O(M))),n.createElement("button",{onClick:p=>{p.stopPropagation(),re(V)},disabled:U||!M,style:{...Ae.selectBtn,opacity:U||!M?.6:1}},U?" Creating...":" Create Deal")):null))})):n.createElement("div",{style:Ae.noProperties},n.createElement("p",null," No properties available to create a deal"))),d===1&&n.createElement("div",{style:Ae.buttonGroup},n.createElement("button",{onClick:c,style:{...Ae.secondaryButton,flex:"0 1 auto"}},"Cancel"),n.createElement("button",{onClick:()=>{f.length===10?D(f):C("Please enter a valid 10-digit phone number")},disabled:U||H||f.length!==10,style:{...Ae.primaryButton,opacity:U||H||f.length!==10?.6:1}},H?" Searching...":" Search Buyer")),n.createElement("div",{style:Ae.noteBox},n.createElement("strong",null," REQUIREMENT:")," Only agents can create deals. This deal will show:",n.createElement("ul",{style:{margin:"8px 0",paddingLeft:"20px"}},n.createElement("li",null," Agent ID: ",s?.id),n.createElement("li",null," Buyer Mobile: From Step 1"),n.createElement("li",null," Seller Mobile: From property details"),n.createElement("li",null," Deal Price: From Step 2"))))))},Ae={backdrop:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e4,overflowY:"auto",backdropFilter:"blur(2px)"},container:{backgroundColor:"white",borderRadius:"16px",padding:"32px",width:"90%",maxWidth:"1000px",maxHeight:"90vh",overflowY:"auto",position:"relative",boxShadow:"0 25px 50px rgba(0,0,0,0.3)",marginTop:"20px",marginBottom:"20px"},closeBtn:{position:"absolute",top:"16px",right:"16px",background:"none",border:"none",fontSize:"32px",cursor:"pointer",color:"#6b7280",transition:"color 0.2s",padding:0,width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center"},title:{fontSize:"28px",fontWeight:"800",color:"#1e293b",marginBottom:"12px",marginTop:0},agentInfo:{padding:"12px 16px",backgroundColor:"#fef3c7",borderRadius:"8px",border:"1px solid #fcd34d",marginBottom:"16px",fontSize:"13px",color:"#92400e"},error:{backgroundColor:"#fee2e2",color:"#dc2626",padding:"16px",borderRadius:"8px",marginBottom:"20px",border:"1px solid #fecaca",fontWeight:"500"},dealExistsError:{backgroundColor:"#fee2e2",color:"#dc2626",padding:"16px",borderRadius:"8px",marginBottom:"20px",border:"2px solid #fecaca",fontWeight:"600",fontSize:"15px",textAlign:"center"},section:{marginBottom:"24px"},sectionTitle:{fontSize:"20px",fontWeight:"700",color:"#1e293b",marginBottom:"8px",marginTop:0},sectionSubtitle:{fontSize:"14px",color:"#64748b",marginBottom:"16px",marginTop:0},formGroup:{marginBottom:"16px"},label:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"14px",color:"#1e293b"},input:{width:"100%",padding:"12px 16px",border:"2px solid #e2e8f0",borderRadius:"8px",fontSize:"16px",boxSizing:"border-box",transition:"border-color 0.2s"},hint:{padding:"12px",backgroundColor:"#fef3c7",borderRadius:"8px",fontSize:"13px",color:"#92400e",marginBottom:"16px",border:"1px solid #fcd34d"},buttonGroup:{display:"flex",gap:"12px",marginTop:"20px"},primaryButton:{flex:1,padding:"14px 20px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"8px",fontSize:"16px",fontWeight:"700",cursor:"pointer",transition:"background 0.2s, transform 0.2s",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.3)"},secondaryButton:{padding:"14px 20px",backgroundColor:"#f1f5f9",color:"#475569",border:"1px solid #e2e8f0",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"14px",transition:"background 0.2s"},buyerInfo:{padding:"20px",backgroundColor:"#d1fae5",border:"2px solid #10b981",borderRadius:"12px",marginBottom:"24px"},buyerName:{margin:0,marginBottom:"8px",fontSize:"18px",fontWeight:"700",color:"#065f46"},buyerPhone:{margin:"0 0 4px 0",fontSize:"14px",color:"#047857",fontWeight:"600"},buyerEmail:{margin:"0 0 12px 0",fontSize:"14px",color:"#047857"},changeBuyerBtn:{padding:"8px 16px",backgroundColor:"#10b981",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"12px",transition:"background 0.2s"},propertiesGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"16px",marginTop:"16px"},propertyItem:{border:"2px solid #e2e8f0",borderRadius:"12px",overflow:"hidden",cursor:"pointer",transition:"all 0.2s"},propertyImage:{width:"100%",height:"180px",objectFit:"cover"},propertyDetails:{padding:"16px"},propertyTitle:{margin:0,marginBottom:"8px",fontSize:"14px",fontWeight:"700",color:"#1e293b",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},propertyPrice:{margin:"0 0 8px 0",fontSize:"16px",fontWeight:"700",color:"#10b981"},propertySpecs:{margin:"0 0 4px 0",fontSize:"12px",color:"#64748b"},propertyLocation:{margin:"0 0 12px 0",fontSize:"12px",color:"#64748b"},sellerInfo:{padding:"12px",backgroundColor:"#f0f9ff",borderRadius:"6px",border:"1px solid #bae6fd",marginBottom:"8px"},sellerLabel:{margin:"0 0 4px 0",fontSize:"12px",fontWeight:"600",color:"#0369a1"},sellerPhone:{margin:0,fontSize:"12px",color:"#0369a1"},agentInfoSmall:{padding:"8px 12px",backgroundColor:"#fef3c7",borderRadius:"6px",border:"1px solid #fcd34d",marginBottom:"12px"},agentLabel:{margin:0,fontSize:"11px",fontWeight:"600",color:"#92400e"},dealExistsBadge:{padding:"8px 12px",backgroundColor:"#d1fae5",color:"#065f46",borderRadius:"6px",fontSize:"12px",fontWeight:"600",marginBottom:"12px",border:"1px solid #6ee7b7",textAlign:"center"},selectBtn:{width:"100%",padding:"10px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"13px",transition:"background 0.2s"},viewDealBtn:{width:"100%",padding:"10px",backgroundColor:"#10b981",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"13px",transition:"background 0.2s"},noProperties:{gridColumn:"1 / -1",textAlign:"center",padding:"40px",color:"#64748b",backgroundColor:"#f8fafc",borderRadius:"8px",border:"1px dashed #e2e8f0"},step1:{marginTop:"16px"},step2:{marginTop:"16px"},noteBox:{backgroundColor:"#fef3c7",border:"1px solid #fcd34d",padding:"12px 16px",borderRadius:"8px",fontSize:"13px",color:"#92400e",marginTop:"20px"}};function cg(){const{isAuthenticated:o,user:c}=st(),[s,d]=g.useState([]),[m,f]=g.useState([]),[x,y]=g.useState([]),[E,k]=g.useState([]),[h,A]=g.useState([]),[I,M]=g.useState(!1),[Y,U]=g.useState(!1),[S,N]=g.useState("featured"),[C,H]=g.useState(null),[$,q]=g.useState(!1),[X,xe]=g.useState(null),he=Tt(),D=[{name:"Gachibowli",emoji:""},{name:"HITEC City",emoji:""},{name:"Madhapur",emoji:""},{name:"Kondapur",emoji:""},{name:"Kukatpally",emoji:""},{name:"Miyapur",emoji:""},{name:"Jubilee Hills",emoji:""}],W=ue=>{if(!ue)return[];if(ue.success){const De=ue.data;if(Array.isArray(De))return De;if(De&&typeof De=="object")return[De]}return Array.isArray(ue)?ue:[]},ie=async()=>{try{const ue=await og();if(ue&&ue.success){let De=ue.data;o&&c?.id&&(De=De.sort((Nt,gt)=>{const Fe=Nt.user?.id===c.id,Ze=gt.user?.id===c.id;return Fe&&!Ze?-1:!Fe&&Ze?1:0})),d(De),M(!1)}}catch(ue){console.error("Error loading properties:",ue)}},re=async()=>{if(!o||!c?.id){f([]);return}try{const ue=await fetch(`${Ie}/api/properties/user/${c.id}`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(ue.ok){const De=await ue.json(),gt=(Array.isArray(De)?De:De.data||[]).filter(Fe=>Fe.user?.id===c.id);f(gt)}else f([])}catch(ue){console.error("Error loading my properties:",ue),f([])}},Z=async()=>{if(!o||!c?.id){console.log("Not authenticated, clearing deals"),k([]);return}try{console.log("Starting fetchMyDeals for user:",c.id,"Role:",c.role);const ue=[],De=new Set,Nt=localStorage.getItem("authToken"),gt=(Fe,Ze)=>{if(!Array.isArray(Fe)){console.log(`No deals from ${Ze} (not an array)`);return}console.log(`Adding ${Fe.length} deals from ${Ze}`),Fe.forEach(yt=>{const $e=yt.dealId||yt.id;$e&&!De.has($e)&&(ue.push(yt),De.add($e))})};try{console.log(`Fetching deals for role: ${c.role}, userId: ${c.id}`);const Fe=await fetch(`${Ie}{BACKEND_BASE_URL}/api/deals/my-deals?userRole=${c.role}&userId=${c.id}`,{headers:{Authorization:`Bearer ${Nt}`}});if(Fe.ok){const Ze=await Fe.json();console.log(`Role response for ${c.role}:`,Ze);const yt=W(Ze);gt(yt,`role ${c.role}`)}else console.error(`Failed to fetch ${c.role} deals:`,Fe.status)}catch(Fe){console.error("Error fetching role-based deals:",Fe)}if(c.role!=="AGENT"&&c.role!=="ADMIN"){try{console.log("Fetching deals as BUYER");const Fe=await fetch(`${Ie}/api/deals/my-deals?userRole=BUYER&userId=${c.id}`,{headers:{Authorization:`Bearer ${Nt}`}});if(Fe.ok){const Ze=await Fe.json();console.log("Buyer response:",Ze);const yt=W(Ze);gt(yt,"BUYER")}else console.error("Failed to fetch BUYER deals:",Fe.status)}catch(Fe){console.error("Error fetching buyer deals:",Fe)}try{console.log("Fetching deals as SELLER");const Fe=await fetch(`${Ie}/api/deals/my-deals?userRole=SELLER&userId=${c.id}`,{headers:{Authorization:`Bearer ${Nt}`}});if(Fe.ok){const Ze=await Fe.json();console.log("Seller response:",Ze);const yt=W(Ze);gt(yt,"SELLER")}else console.error("Failed to fetch SELLER deals:",Fe.status)}catch(Fe){console.error("Error fetching seller deals:",Fe)}}console.log(`Total deals after all fetches: ${ue.length}`),k(ue)}catch(ue){console.error("Error loading deals:",ue),k([])}},ce=async()=>{if(!o||!c?.id){y([]);return}try{const ue=await fetch(`${Ie}/api/properties/user/${c.id}`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(!ue.ok){y([]);return}const De=await ue.json(),Nt=Array.isArray(De)?De:De.data||[],gt=new Set(Nt.filter($e=>$e.user?.id===c.id).map($e=>$e.id||$e.propertyId));if(gt.size===0){y([]);return}let Fe=[];if(c.role==="AGENT"||c.role==="ADMIN")try{const $e=await fetch(`${Ie}/api/deals/agent/${c.id}`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if($e.ok){const Ot=await $e.json(),br=Array.isArray(Ot)?Ot:Ot.data||[];Fe=[...Fe,...br]}}catch($e){console.warn("Error fetching agent deals:",$e)}const Ze=[],yt=new Set;Fe.forEach($e=>{const Ot=$e.property?.id||$e.propertyId;Ot&&gt.has(Ot)&&!yt.has(Ot)&&$e.property&&(yt.add(Ot),Ze.push({...$e.property,dealStage:$e.stage,dealId:$e.id,dealCreatedAt:$e.createdAt,buyerName:$e.buyer?`${$e.buyer.firstName} ${$e.buyer.lastName}`:"N/A",buyerPhone:$e.buyer?.mobileNumber||"N/A"}))}),y(Ze)}catch(ue){console.error("Error loading deals properties:",ue),y([])}};g.useEffect(()=>{ie(),o&&c?.id?(re(),Z(),ce()):(f([]),k([]),y([]),N("featured"))},[o,c?.id,c?.role]);const O=ue=>{A(ue),M(!0),U(!1),N("featured"),H(null)},G=()=>{U(!0)},V=()=>{M(!1),A([]),N("featured"),H(null),ie()},b=ue=>{H(ue.name),M(!1),N("featured")},F=()=>C?s.filter(ue=>{const De=(ue.areaName||ue.area?.areaName||"").toLowerCase(),Nt=C.toLowerCase();return De.includes(Nt)}):s,p=()=>{ie(),o&&c?.id&&(re(),Z(),ce())},w=()=>{ie(),o&&c?.id&&(re(),Z(),ce())},j=()=>{q(!0)},J=S==="my-deals"&&o&&c&&(c.role==="AGENT"||c.role==="ADMIN"),oe=I?h:C?F():S==="my-properties"?m:S==="my-deals"?E:S==="property-deals"?x:s,ke=x.length,pe=E.length,Be=ue=>({INQUIRY:"#3b82f6",SHORTLIST:"#8b5cf6",NEGOTIATION:"#f59e0b",AGREEMENT:"#10b981",REGISTRATION:"#06b6d4",PAYMENT:"#ec4899",COMPLETED:"#22c55e"})[ue]||"#6b7280",Pe=ue=>ue?typeof ue=="number"?ue.toLocaleString("en-IN"):String(ue):"N/A",ze={banner:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"60px 40px",color:"white",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"80px",boxShadow:"0 8px 24px rgba(102, 126, 234, 0.15)",borderRadius:10},bannerContent:{flex:1},bannerTitle:{fontSize:"48px",fontWeight:"900",margin:"0 0 16px 0",lineHeight:"1.2",color:"white",fontFamily:"'Poppins', sans-serif"},bannerSubtitle:{fontSize:"16px",opacity:.95,margin:"0 0 24px 0",color:"rgba(255, 255, 255, 0.95)",fontFamily:"'Inter', sans-serif",lineHeight:"1.6"},bannerFeatures:{display:"flex",flexDirection:"column",gap:"14px"},bannerFeature:{display:"flex",alignItems:"flex-start",gap:"12px",fontSize:"15px",fontFamily:"'Inter', sans-serif",color:"rgba(255, 255, 255, 0.9)",fontWeight:"500"},checkmark:{fontSize:"20px",fontWeight:"bold",marginTop:"2px",flexShrink:0},bannerIllustration:{flex:1,fontSize:"120px",textAlign:"center",opacity:.85,display:"flex",alignItems:"center",justifyContent:"center"}};return n.createElement(n.Fragment,null,n.createElement("section",{style:ze.banner},n.createElement("div",{style:ze.bannerContent},n.createElement("h2",{style:ze.bannerTitle},"How PropertyDeals Works"),n.createElement("p",{style:ze.bannerSubtitle},"Simple, transparent, and hassle-free property deals"),n.createElement("div",{style:ze.bannerFeatures},n.createElement("div",{style:ze.bannerFeature},n.createElement("span",{style:ze.checkmark},""),n.createElement("span",null,n.createElement("strong",null,"No Subscription Required")," - Connect for free, no hidden charges")),n.createElement("div",{style:ze.bannerFeature},n.createElement("span",{style:ze.checkmark},""),n.createElement("span",null,n.createElement("strong",null,"Buyer Connects to Agent")," - Direct connection, transparent communication")),n.createElement("div",{style:ze.bannerFeature},n.createElement("span",{style:ze.checkmark},""),n.createElement("span",null,n.createElement("strong",null,"End-to-End Documentation")," - Agent handles all legal paperwork & registration")),n.createElement("div",{style:ze.bannerFeature},n.createElement("span",{style:ze.checkmark},""),n.createElement("span",null,n.createElement("strong",null,"Only 0.5% Fee")," - Charged equally from both buyer and seller, that's it!")))),n.createElement("div",{style:ze.bannerIllustration},"")),n.createElement("div",{style:P.container},n.createElement("section",{style:P.heroSection},n.createElement("div",{style:P.heroContent},n.createElement("h1",{style:P.mainTitle},"Find Your ",n.createElement("span",{style:P.titleGradient}," Dream Home ")," "),n.createElement("p",{style:P.heroSubtitle},"Discover the perfect property that matches your lifestyle and budget.")),n.createElement("div",{style:P.heroGraphics},n.createElement("div",{style:P.floatingElement1},""),n.createElement("div",{style:P.floatingElement2},""),n.createElement("div",{style:P.floatingElement3},""))),n.createElement("section",{style:P.searchSection},n.createElement(sg,{onSearchResults:O,onSearchStart:G,onReset:V})),n.createElement("section",{style:P.section},n.createElement("h2",{style:P.sectionTitle},n.createElement("span",{style:P.sectionIcon},"")," Popular Areas in Hyderabad"),n.createElement("div",{style:P.areasGrid},D.map(ue=>n.createElement("button",{key:ue.name,onClick:()=>b(ue),style:{...P.areaButton,backgroundColor:C===ue.name?"#667eea":"white",color:C===ue.name?"white":"#334155",borderColor:C===ue.name?"#667eea":"#e2e8f0",boxShadow:C===ue.name?"0 4px 12px rgba(102, 126, 234, 0.3)":"none"}},n.createElement("span",{style:P.areaEmoji},ue.emoji),ue.name)))),n.createElement("section",{style:P.propertiesSection},o&&!I&&!C&&n.createElement("div",{style:P.tabContainer},n.createElement("button",{onClick:()=>N("featured"),style:{...P.tab,...S==="featured"?P.activeTab:{}}}," Featured Properties (",s.length,")"),m.length>0&&n.createElement("button",{onClick:()=>N("my-properties"),style:{...P.tab,...S==="my-properties"?P.activeTab:{}}}," My Uploaded Properties (",m.length,")"),pe>0&&n.createElement("button",{onClick:()=>N("my-deals"),style:{...P.tab,...S==="my-deals"?P.activeTab:{}}}," My Deals (",pe,")"),ke>0&&n.createElement("button",{onClick:()=>N("property-deals"),style:{...P.tab,...S==="property-deals"?P.activeTab:{}}}," Deals on My Properties (",ke,")")),n.createElement("div",{style:P.sectionHeader},n.createElement("h2",{style:P.sectionTitle},n.createElement("span",{style:P.sectionIcon},I?"":C?"":S==="my-properties"?"":S==="my-deals"?"":S==="property-deals"?"":""),I?`Search Results (${h.length} found)`:C?`Properties in ${C} (${F().length} found)`:S==="my-properties"?`My Uploaded Properties (${m.length} found)`:S==="my-deals"?`My Deals (${E.length} found)`:S==="property-deals"?`Deals on My Properties (${x.length} found)`:`Featured Properties (${s.length} found)`),n.createElement("div",{style:{display:"flex",gap:"12px",alignItems:"center"}},(I||C)&&n.createElement("button",{onClick:V,style:P.clearSearchBtn}," Clear Filter"),J&&n.createElement("button",{onClick:j,style:{padding:"12px 24px",backgroundColor:"#10b981",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"700",fontSize:"14px",display:"flex",alignItems:"center",gap:"8px",transition:"background 0.2s, transform 0.2s",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.3)"}}," Create New Deal"))),S==="my-deals"&&E.length===0?n.createElement("div",{style:P.emptyState},n.createElement("div",{style:P.emptyIcon},""),n.createElement("h3",{style:P.emptyTitle},"No Deals Yet"),n.createElement("p",{style:P.emptyText},"You don't have any deals yet.")):S==="my-deals"?n.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"16px"}},E.map(ue=>n.createElement("div",{key:ue.dealId||ue.id,style:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"12px",border:"1px solid #e2e8f0",cursor:"pointer",transition:"all 0.2s"},onClick:()=>he(`/property/${ue.propertyId||ue.property?.id}`),onMouseEnter:De=>{De.currentTarget.style.boxShadow="0 8px 16px rgba(0,0,0,0.15)",De.currentTarget.style.transform="translateY(-4px)"},onMouseLeave:De=>{De.currentTarget.style.boxShadow="none",De.currentTarget.style.transform="translateY(0)"}},n.createElement("div",{style:{display:"inline-block",padding:"6px 12px",borderRadius:"6px",color:"white",fontSize:"12px",fontWeight:"600",marginBottom:"12px",backgroundColor:Be(ue.stage||ue.currentStage)}},ue.stage||ue.currentStage),n.createElement("h4",{style:{fontSize:"16px",fontWeight:"700",color:"#1e293b",margin:"0 0 12px 0"}},ue.propertyTitle||"Property"),ue.propertyCity&&n.createElement("p",{style:{fontSize:"13px",color:"#64748b",margin:"4px 0"}}," ",ue.propertyCity),ue.propertyPrice&&n.createElement("p",{style:{color:"#667eea",fontWeight:"700",margin:"8px 0"}}," ",Pe(ue.propertyPrice)),ue.agreedPrice&&n.createElement("p",{style:{color:"#10b981",fontWeight:"700",margin:"4px 0"}}," Agreed: ",Pe(ue.agreedPrice)),n.createElement("div",{style:{borderTop:"1px solid #e2e8f0",margin:"12px 0",paddingTop:"12px"}},n.createElement("p",{style:{fontSize:"12px",color:"#64748b",margin:"4px 0"}}," Buyer: ",ue.buyerName||"N/A"),n.createElement("p",{style:{fontSize:"12px",color:"#64748b",margin:"4px 0"}}," Seller: ",ue.sellerName||"N/A"),n.createElement("p",{style:{fontSize:"12px",color:"#64748b",margin:"4px 0"}}," Agent: ",ue.agentName||"N/A")),n.createElement("p",{style:{fontSize:"11px",color:"#94a3b8",margin:"12px 0 0 0"}},new Date(ue.createdAt).toLocaleDateString()),n.createElement("button",{onClick:De=>{De.stopPropagation(),xe(ue)},style:{width:"100%",marginTop:"12px",padding:"10px 16px",backgroundColor:"#10b981",color:"white",border:"none",borderRadius:"8px",fontWeight:"600",fontSize:"14px",cursor:"pointer",transition:"background 0.2s"},onMouseEnter:De=>De.target.style.backgroundColor="#059669",onMouseLeave:De=>De.target.style.backgroundColor="#10b981"}," View Deal Details")))):S==="property-deals"&&x.length===0?n.createElement("div",{style:P.emptyState},n.createElement("div",{style:P.emptyIcon},""),n.createElement("h3",{style:P.emptyTitle},"No Deals on Your Properties"),n.createElement("p",{style:P.emptyText},"No one has shown interest in your properties yet.")):n.createElement(Bi,{properties:oe,loading:Y,onPropertyUpdated:p,onPropertyDeleted:w})),n.createElement("section",{style:P.statsSection},n.createElement("div",{style:P.statsGrid},n.createElement("div",{style:P.statCard},n.createElement("div",{style:P.statIcon},""),n.createElement("div",{style:P.statNumber},"10,000+"),n.createElement("div",{style:P.statLabel},"Properties Listed")),n.createElement("div",{style:P.statCard},n.createElement("div",{style:P.statIcon},""),n.createElement("div",{style:P.statNumber},"50,000+"),n.createElement("div",{style:P.statLabel},"Happy Customers")),n.createElement("div",{style:P.statCard},n.createElement("div",{style:P.statIcon},""),n.createElement("div",{style:P.statNumber},"25+"),n.createElement("div",{style:P.statLabel},"Areas Covered")),n.createElement("div",{style:P.statCard},n.createElement("div",{style:P.statIcon},""),n.createElement("div",{style:P.statNumber},"4.8/5"),n.createElement("div",{style:P.statLabel},"Customer Rating"))))),$&&n.createElement(fd,{onClose:()=>q(!1),onDealCreated:()=>{q(!1),ie(),Z(),ce(),N("my-deals")}}),X&&n.createElement(vr,{deal:X,onClose:()=>xe(null),onUpdate:()=>{xe(null),Z()},userRole:c?.role,showOnlyOverview:c?.role==="BUYER"||c?.role==="SELLER"}))}function ug(){const[o,c]=g.useState([]),[s,d]=g.useState(!0),m=Tt(),f=Bn();g.useEffect(()=>{const E=new URLSearchParams(f.search),k=Object.fromEntries(E.entries());x(k)},[f.search]);const x=async E=>{d(!0);try{const k={propertyType:E.propertyType||null,minPrice:E.minPrice?parseFloat(E.minPrice):null,maxPrice:E.maxPrice?parseFloat(E.maxPrice):null,city:E.city||null,area:E.area||null,listingType:E.listingType||null,minBedrooms:E.minBedrooms?parseInt(E.minBedrooms):null,maxBedrooms:E.maxBedrooms?parseInt(E.maxBedrooms):null,isVerified:E.isVerified==="true"?!0:null,ownerType:E.ownerType||null,isReadyToMove:E.isReadyToMove==="true"?!0:null,sortBy:"createdAt",sortOrder:"DESC",page:0,size:50},h=await fetch(`${Ie}/api/properties/search`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)});if(!h.ok)throw new Error(`HTTP error! status: ${h.status}`);const A=await h.json();A.success?c(A.data||[]):c([])}catch(k){console.error("Error fetching properties:",k),c([])}finally{d(!1)}},y=()=>{const E=new URLSearchParams(f.search),k=E.get("propertyType"),h=E.get("listingType"),A=E.get("area");return A?`Properties in ${A}`:k&&h?`${k}s for ${h==="sale"?"Sale":"Rent"}`:h?`Properties for ${h==="sale"?"Sale":"Rent"}`:"Search Results"};return n.createElement("div",{style:P.container},n.createElement("button",{onClick:()=>m("/"),style:P.backButton},n.createElement("span",{style:P.backIcon},"")," Back to Home"),n.createElement("div",{style:P.pageHeader},n.createElement("h1",{style:P.pageTitle},y()),n.createElement("p",{style:P.pageSubtitle},s?"Searching...":`${o.length} ${o.length===1?"property":"properties"} found`)),!s&&o.length===0?n.createElement("div",{style:P.emptyState},n.createElement("div",{style:P.emptyIcon},""),n.createElement("h3",{style:P.emptyTitle},"No properties found"),n.createElement("p",{style:P.emptyText},"Try adjusting your search or browse all properties"),n.createElement("button",{onClick:()=>m("/"),style:P.postBtn},"Browse All Properties")):n.createElement(Bi,{properties:o,loading:s}))}function Ou({onPostPropertyClick:o}){const{user:c}=st(),[s,d]=g.useState([]),[m,f]=g.useState(!0),[x,y]=g.useState(null),E=Tt();g.useEffect(()=>{if(!c?.id){console.log(" No user ID, redirecting to home"),E("/");return}k()},[c,E]);const k=async()=>{if(!c?.id){console.log(" Cannot fetch: No user ID"),f(!1);return}f(!0),y(null),console.log(" Fetching properties for user ID:",c.id);try{const I=await fetch(`${Ie}/api/properties/user/${c.id}`);if(console.log("Response status:",I.status),!I.ok)throw new Error(`HTTP error! status: ${I.status}`);const M=await I.json();console.log(" Received data:",M);const Y=Array.isArray(M)?M:M.data||[];console.log(` Found ${Y.length} properties for user`),d(Y)}catch(I){console.error(" No properties posted yet!:",I),y(I.message),d([])}finally{f(!1)}},h=()=>{console.log(" Property updated, refreshing list..."),k()},A=()=>{console.log(" Property deleted, refreshing list..."),k()};return m?n.createElement("div",{style:P.container},n.createElement("div",{style:P.loadingContainer},n.createElement("div",{style:P.spinner},""),n.createElement("h3",null,"Loading your properties..."))):x?n.createElement("div",{style:P.container},n.createElement("div",{style:P.errorContainer},n.createElement("h2",null," Error Loading Properties"),n.createElement("p",null,x),n.createElement("button",{onClick:k,style:P.retryBtn},"Try Again"))):n.createElement("div",{style:P.container},n.createElement("div",{style:P.pageHeader},n.createElement("h1",{style:P.pageTitle}," My Posted Properties"),n.createElement("p",{style:P.pageSubtitle},"Manage and track the properties you've listed")),s.length>0?n.createElement(n.Fragment,null,n.createElement("div",{style:P.statsBar},n.createElement("div",{style:P.statItem},n.createElement("span",{style:P.statLabel},"Total Properties:"),n.createElement("span",{style:P.statValue},s.length)),n.createElement("div",{style:P.statItem},n.createElement("span",{style:P.statLabel},"For Sale:"),n.createElement("span",{style:P.statValue},s.filter(I=>I.listingType==="sale").length)),n.createElement("div",{style:P.statItem},n.createElement("span",{style:P.statLabel},"For Rent:"),n.createElement("span",{style:P.statValue},s.filter(I=>I.listingType==="rent").length)),n.createElement("div",{style:P.statItem},n.createElement("span",{style:P.statLabel},"Verified:"),n.createElement("span",{style:P.statValue},s.filter(I=>I.isVerified).length))),n.createElement("div",{style:P.grid},s.map(I=>n.createElement(md,{key:I.propertyId||I.id,property:I,onPropertyUpdated:h,onPropertyDeleted:A})))):n.createElement("div",{style:P.emptyState},n.createElement("div",{style:P.emptyIcon},""),n.createElement("h3",{style:P.emptyTitle},"No Properties Posted Yet"),n.createElement("p",{style:P.emptyText},"Start by posting your first property to see it here"),n.createElement("button",{onClick:o,style:P.postBtn},n.createElement("span",{style:P.btnIcon},"")," Post Your First Property")))}const Wu=({title:o})=>n.createElement("div",{style:{...P.container,textAlign:"center",padding:"80px 32px"}},n.createElement("h1",{style:P.pageTitle},o),n.createElement("p",{style:P.pageSubtitle},"This page is currently under construction.  Please check back later!")),dg=()=>{const{user:o,isAuthenticated:c}=st(),s=Tt(),[d,m]=g.useState([]),[f,x]=g.useState([]),[y,E]=g.useState({}),[k,h]=g.useState(!0),[A,I]=g.useState(null),[M,Y]=g.useState(!1),[U,S]=g.useState(null),[N,C]=g.useState("active");g.useEffect(()=>{if(!c||!o||o.role!=="AGENT"&&o.role!=="ADMIN"){console.log(" Access Denied: Not an agent or admin"),s("/");return}console.log(" Agent Dashboard: User authenticated and authorized"),console.log("User Role:",o.role),H()},[o,c,s]);const H=async()=>{h(!0),I(null);const W={Authorization:`Bearer ${localStorage.getItem("authToken")}`};try{console.log(" Fetching agent data for user:",o.id);const ie=await fetch(`${Ie}/api/deals/agent/${o.id}`,{headers:W});if(ie.ok){const ce=await ie.json();console.log(" Full deals response:",ce);let O=[];Array.isArray(ce)?O=ce:(ce.success&&Array.isArray(ce.data)||ce.data&&Array.isArray(ce.data))&&(O=ce.data),console.log(" Deals loaded:",O.length),m(O)}else console.error(" Deals response not ok:",ie.status),I("Failed to load deals"),m([]);const re=await fetch(`${Ie}/api/agents/${o.id}/all-properties`,{headers:W}).catch(()=>({ok:!1}));if(re.ok){const ce=await re.json();console.log(" Properties loaded:",ce),x(ce.success?ce.data:Array.isArray(ce)?ce:[])}else console.log(" Properties endpoint failed"),x([]);const Z=await fetch(`${Ie}/api/agents/${o.id}/stats`,{headers:W}).catch(()=>({ok:!1}));if(Z.ok){const ce=await Z.json();console.log(" Stats loaded:",ce),E(ce.success?ce.data:{})}else console.log(" Stats endpoint failed"),E({})}catch(ie){console.error(" Error fetching agent data:",ie),I("Failed to load dashboard data")}finally{h(!1)}},$=()=>{console.log(" Opening create deal modal"),Y(!0)},q=d.filter(D=>D.stage!=="COMPLETED").length,X=d.filter(D=>D.stage==="COMPLETED").length,xe=N==="active"?d.filter(D=>D.stage!=="COMPLETED"):N==="completed"?d.filter(D=>D.stage==="COMPLETED"):N==="total"?d:[],he=()=>{switch(N){case"active":return` Active Deals (${q})`;case"completed":return` Completed Deals (${X})`;case"properties":return` Properties Managed (${f.length})`;case"total":return` Total Deals (${d.length})`;default:return"Deals"}};return c?k?n.createElement("div",{style:we.container},n.createElement("div",{style:we.loading},n.createElement("div",{style:{fontSize:"48px",marginBottom:"16px"}},""),n.createElement("h3",null,"Loading dashboard..."))):n.createElement("div",{style:we.container},n.createElement("div",{style:we.header},n.createElement("h1",{style:we.title}," Agent Dashboard"),n.createElement("p",{style:we.subtitle},"Manage your deals and properties")),A&&n.createElement("div",{style:we.error}," ",A),n.createElement("div",{style:we.statsGrid},n.createElement("div",{style:we.statCard,onClick:()=>C("active")},n.createElement("div",{style:we.statIcon},""),n.createElement("div",{style:we.statLabel},"Active Deals"),n.createElement("div",{style:we.statValue},q)),n.createElement("div",{style:we.statCard,onClick:()=>C("completed")},n.createElement("div",{style:we.statIcon},""),n.createElement("div",{style:we.statLabel},"Completed Deals"),n.createElement("div",{style:we.statValue},X)),n.createElement("div",{style:we.statCard,onClick:()=>C("properties")},n.createElement("div",{style:we.statIcon},""),n.createElement("div",{style:we.statLabel},"Properties Managed"),n.createElement("div",{style:we.statValue},f.length)),n.createElement("div",{style:we.statCard,onClick:()=>C("total")},n.createElement("div",{style:we.statIcon},""),n.createElement("div",{style:we.statLabel},"Total Deals"),n.createElement("div",{style:we.statValue},d.length))),n.createElement("div",{style:we.createDealSection},n.createElement("div",null,n.createElement("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1e40af",marginBottom:"4px"}}," Create New Deal"),n.createElement("div",{style:{fontSize:"12px",color:"#64748b"}},"Create a deal for a buyer interested in a property")),n.createElement("button",{onClick:$,style:we.newDealBtn},"+ New Deal")),n.createElement("div",{style:we.section},n.createElement("div",{style:we.tabContainer},n.createElement("button",{onClick:()=>C("active"),style:{...we.tab,...N==="active"?we.activeTab:{}}}," Active Deals (",q,")"),n.createElement("button",{onClick:()=>C("completed"),style:{...we.tab,...N==="completed"?we.activeTab:{}}}," Completed Deals (",X,")"),n.createElement("button",{onClick:()=>C("properties"),style:{...we.tab,...N==="properties"?we.activeTab:{}}}," Managed Properties (",f.length,")"),n.createElement("button",{onClick:()=>C("total"),style:{...we.tab,...N==="total"?we.activeTab:{}}}," Total Deals (",d.length,")")),n.createElement("h2",{style:we.sectionTitle},he()),N!=="properties"?xe.length>0?n.createElement("div",{style:we.dealsGrid},xe.map(D=>n.createElement("div",{key:D.id||D.dealId,style:we.dealCard},n.createElement("div",{style:{...we.stageBadge,backgroundColor:$u(D.stage)}},D.stage),n.createElement("h3",{style:we.dealTitle},D.property?.title||"Property"),n.createElement("div",{style:we.dealMeta},n.createElement("p",{style:we.metaItem}," ",D.property?.city||"Location"),n.createElement("p",{style:we.metaItem}," Buyer: ",D.buyer?.firstName||"N/A"," ",D.buyer?.lastName||""),D.agreedPrice&&n.createElement("p",{style:we.metaItem}," ",D.agreedPrice.toLocaleString("en-IN")),n.createElement("p",{style:we.metaItem}," ",new Date(D.createdAt).toLocaleDateString())),n.createElement("div",{style:we.progressBar},n.createElement("div",{style:{...we.progressFill,width:`${pg(D.stage)}%`,backgroundColor:$u(D.stage)}})),n.createElement("button",{onClick:()=>S(D),style:we.viewDealBtn}," View & Manage Deal")))):n.createElement("div",{style:we.emptyState},n.createElement("p",null,N==="active"?" No active deals yet. Create one to get started!":N==="completed"?" No completed deals yet.":" No deals found.")):f.length>0?n.createElement("div",{style:we.dealsGrid},f.map(D=>n.createElement("div",{key:D.id||D.propertyId,style:we.propertyCard},n.createElement("img",{src:D.imageUrl||"https://images.unsplash.com/photo-1560518883-ce09059eeffa?w=400&h=300&fit=crop",alt:D.title,style:{...we.propertyImage,cursor:"pointer"},onClick:()=>s(`/property/${D.id||D.propertyId}`)}),n.createElement("h3",{style:{...we.dealTitle,padding:"12px 16px 0 16px",marginBottom:"12px"}},D.title),n.createElement("div",{style:{...we.dealMeta,padding:"0 16px"}},n.createElement("p",{style:we.metaItem}," ",(D.price||0).toLocaleString("en-IN")),n.createElement("p",{style:we.metaItem}," ",D.bedrooms," Bed |  ",D.bathrooms," Bath"),n.createElement("p",{style:we.metaItem}," ",D.areaSqft||"N/A"," sqft"),n.createElement("p",{style:we.metaItem}," ",D.areaName||D.city)),D.isFeatured&&n.createElement("div",{style:{...we.stageBadge,backgroundColor:"#f59e0b",marginTop:"12px",marginLeft:"16px"}}," Featured")))):n.createElement("div",{style:we.emptyState},n.createElement("p",null," No properties managed yet."))),M&&n.createElement(fd,{onClose:()=>{console.log("Closing modal"),Y(!1)},onDealCreated:()=>{console.log("Deal created"),Y(!1),H()}}),U&&n.createElement(vr,{deal:U,onClose:()=>S(null),onUpdate:()=>{S(null),H()},userRole:o.role})):n.createElement("div",{style:we.container},n.createElement("h2",null,"Please log in"))},$u=o=>({INQUIRY:"#3b82f6",SHORTLIST:"#8b5cf6",NEGOTIATION:"#f59e0b",AGREEMENT:"#10b981",REGISTRATION:"#06b6d4",PAYMENT:"#ec4899",COMPLETED:"#22c55e"})[o]||"#6b7280",pg=o=>{const c=["INQUIRY","SHORTLIST","NEGOTIATION","AGREEMENT","REGISTRATION","PAYMENT","COMPLETED"];return(c.indexOf(o)+1)/c.length*100},we={container:{maxWidth:1400,margin:"0 auto",padding:"24px 32px",minHeight:"80vh",backgroundColor:"#f9fafb"},header:{marginBottom:"32px",paddingBottom:"24px",borderBottom:"2px solid #e5e7eb"},title:{fontSize:"36px",fontWeight:"800",color:"#1e293b",margin:0,marginBottom:"8px"},subtitle:{fontSize:"16px",color:"#64748b",fontWeight:"500",margin:0},error:{backgroundColor:"#fee2e2",color:"#dc2626",padding:"16px",borderRadius:"8px",marginBottom:"24px",border:"1px solid #fca5a5"},statsGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px",marginBottom:"32px"},statCard:{backgroundColor:"white",padding:"24px",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",textAlign:"center",border:"1px solid #e5e7eb",cursor:"pointer",transition:"all 0.3s ease"},statIcon:{fontSize:"32px",marginBottom:"12px"},statLabel:{fontSize:"14px",color:"#64748b",marginBottom:"8px"},statValue:{fontSize:"28px",fontWeight:"700",color:"#1e293b"},createDealSection:{padding:"16px",backgroundColor:"#f0f9ff",borderRadius:"12px",border:"1px solid #bfdbfe",marginBottom:"24px",display:"flex",justifyContent:"space-between",alignItems:"center"},newDealBtn:{padding:"10px 20px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600",whiteSpace:"nowrap",marginLeft:"12px",transition:"background 0.2s, transform 0.2s",boxShadow:"0 2px 8px rgba(59, 130, 246, 0.2)"},section:{backgroundColor:"white",padding:"24px",borderRadius:"12px",marginBottom:"32px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},tabContainer:{display:"flex",gap:"12px",marginBottom:"24px",paddingBottom:"12px",borderBottom:"2px solid #e5e7eb"},tab:{padding:"12px 20px",background:"#f8fafc",color:"#64748b",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"600",transition:"all 0.2s"},activeTab:{backgroundColor:"#3b82f6",color:"white"},sectionTitle:{fontSize:"20px",fontWeight:"700",color:"#1e293b",margin:"0 0 16px 0",paddingBottom:"12px",borderBottom:"2px solid #e5e7eb"},dealsGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(320px, 1fr))",gap:"16px"},dealCard:{backgroundColor:"#f8fafc",padding:"16px",borderRadius:"12px",border:"1px solid #e2e8f0",transition:"all 0.2s"},stageBadge:{display:"inline-block",padding:"6px 12px",borderRadius:"6px",color:"white",fontSize:"12px",fontWeight:"600",marginBottom:"12px"},dealTitle:{fontSize:"16px",fontWeight:"600",color:"#1e293b",margin:"0 0 12px 0"},dealMeta:{fontSize:"13px",color:"#64748b",marginBottom:"12px"},metaItem:{margin:"4px 0",lineHeight:"1.4"},progressBar:{width:"100%",height:"6px",backgroundColor:"#e2e8f0",borderRadius:"3px",overflow:"hidden",marginBottom:"12px"},progressFill:{height:"100%",transition:"width 0.3s"},viewDealBtn:{width:"100%",padding:"10px",backgroundColor:"#10b981",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"14px",transition:"background 0.2s"},loading:{textAlign:"center",padding:"80px 20px"},emptyState:{textAlign:"center",padding:"40px 20px",color:"#64748b",backgroundColor:"#f9fafb",borderRadius:"8px",border:"1px dashed #e2e8f0"},propertyCard:{backgroundColor:"#f8fafc",borderRadius:"12px",border:"1px solid #e2e8f0",overflow:"hidden",transition:"all 0.2s",padding:"0 0 16px 0"},propertyImage:{width:"100%",height:"180px",objectFit:"cover"}},mg=()=>{const{user:o}=st(),[c,s]=g.useState([]),[d,m]=g.useState(!0),[f,x]=g.useState(null);g.useEffect(()=>{o?.id&&y()},[o]);const y=async()=>{try{const A=await(await fetch(`${Ie}/api/deals/buyer/${o.id}`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}})).json();A.success?s(A.data||[]):s(Array.isArray(A)?A:[])}catch(h){console.error("Error fetching buyer deals:",h)}finally{m(!1)}},E=h=>({INQUIRY:"#3b82f6",SHORTLIST:"#8b5cf6",NEGOTIATION:"#f59e0b",AGREEMENT:"#10b981",REGISTRATION:"#06b6d4",PAYMENT:"#ec4899",COMPLETED:"#22c55e"})[h]||"#6b7280",k=h=>h?typeof h=="number"?h.toLocaleString("en-IN"):String(h):"N/A";return d?n.createElement("div",{style:{padding:"24px"}}," Loading your deals..."):n.createElement("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"24px"}},n.createElement("h1",{style:{fontSize:"28px",fontWeight:"700",marginBottom:"8px"}}," My Purchase Deals"),n.createElement("p",{style:{fontSize:"16px",color:"#64748b",marginBottom:"24px"}},"Track all properties you're interested in purchasing"),c.length===0?n.createElement("div",{style:{textAlign:"center",padding:"40px",color:"#64748b"}},n.createElement("div",{style:{fontSize:"48px",marginBottom:"16px"}},""),n.createElement("p",null,"You haven't started any deals yet")):n.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(320px, 1fr))",gap:"20px"}},c.map(h=>n.createElement("div",{key:h.id||h.dealId,onClick:()=>x(h),style:{padding:"20px",backgroundColor:"white",borderRadius:"12px",border:"1px solid #e2e8f0",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 1px 3px rgba(0,0,0,0.05)"},onMouseEnter:A=>{A.currentTarget.style.transform="translateY(-4px)",A.currentTarget.style.boxShadow="0 8px 16px rgba(0,0,0,0.15)"},onMouseLeave:A=>{A.currentTarget.style.transform="translateY(0)",A.currentTarget.style.boxShadow="0 1px 3px rgba(0,0,0,0.05)"}},n.createElement("div",{style:{display:"inline-block",padding:"6px 12px",backgroundColor:E(h.stage||h.currentStage),color:"white",borderRadius:"6px",fontSize:"12px",fontWeight:"600",marginBottom:"12px"}},h.stage||h.currentStage),n.createElement("h3",{style:{margin:"0 0 12px 0",fontSize:"16px",fontWeight:"700",color:"#1e293b"}},h.propertyTitle||h.property?.title),h.agreedPrice&&n.createElement("div",{style:{fontSize:"16px",fontWeight:"700",color:"#10b981",backgroundColor:"#ecfdf5",padding:"10px 12px",borderRadius:"6px",marginBottom:"12px",border:"1px solid #86efac"}}," ",k(h.agreedPrice)),n.createElement("p",{style:{margin:"0 0 12px 0",fontSize:"13px",color:"#64748b"}}," ",h.property?.city||h.propertyCity||"Location"),h.property?.user&&n.createElement("div",{style:{padding:"10px 12px",backgroundColor:"#f8fafc",borderRadius:"6px",marginBottom:"10px",fontSize:"13px",borderLeft:"3px solid #3b82f6"}},n.createElement("div",{style:{fontWeight:"600",color:"#1e293b"}}," Seller"),n.createElement("div",{style:{fontSize:"14px",fontWeight:"700",color:"#1e293b",marginTop:"2px"}},h.sellerName||`${h.property.user?.firstName} ${h.property.user?.lastName}`),n.createElement("div",{style:{fontSize:"12px",color:"#64748b",marginTop:"2px"}},""," ",h.sellerMobile||h.property.user?.mobileNumber||"N/A")),h.agent&&n.createElement("div",{style:{padding:"10px 12px",backgroundColor:"#f8fafc",borderRadius:"6px",marginBottom:"10px",fontSize:"13px",borderLeft:"3px solid #8b5cf6"}},n.createElement("div",{style:{fontWeight:"600",color:"#1e293b"}}," Agent"),n.createElement("div",{style:{fontSize:"14px",fontWeight:"700",color:"#1e293b",marginTop:"2px"}},h.agentName||`${h.agent?.firstName} ${h.agent?.lastName}`),n.createElement("div",{style:{fontSize:"12px",color:"#64748b",marginTop:"2px"}}," ",h.agentEmail||h.agent?.email||"N/A")),n.createElement("div",{style:{fontSize:"12px",color:"#94a3b8",marginBottom:"16px"}},"Created: ",new Date(h.createdAt).toLocaleDateString()),n.createElement("button",{style:{width:"100%",padding:"10px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"14px",transition:"background 0.2s"},onMouseEnter:A=>A.target.style.backgroundColor="#2563eb",onMouseLeave:A=>A.target.style.backgroundColor="#3b82f6"}," View Deal")))),f&&n.createElement(vr,{deal:f,onClose:()=>x(null),onUpdate:()=>{x(null),y()},userRole:"BUYER"}))},fg=()=>{const{user:o}=st(),[c,s]=g.useState({}),[d,m]=g.useState([]),[f,x]=g.useState(null),[y,E]=g.useState(!0),[k,h]=g.useState("all"),[A,I]=g.useState(null);g.useEffect(()=>{o?.id&&M()},[o?.id]);const M=async()=>{try{I(null);const w={Authorization:`Bearer ${localStorage.getItem("authToken")}`};console.log(" Fetching admin deals for user:",o?.id);const j=[],J={},oe=["INQUIRY","SHORTLIST","NEGOTIATION","AGREEMENT","REGISTRATION","PAYMENT"];for(const ke of oe)try{console.log(` Fetching stage: ${ke}`);const pe=await fetch(`${Ie}/api/deals/stage/${ke}?userId=${o.id}`,{headers:w});if(console.log(`Stage ${ke} response status:`,pe.status),!pe.ok){console.warn(` Stage ${ke} failed with status ${pe.status}`);continue}const Be=await pe.json();console.log(`Stage ${ke} response:`,Be);let Pe=[];Array.isArray(Be)?Pe=Be:(Be.success&&Array.isArray(Be.data)||Be.data&&Array.isArray(Be.data))&&(Pe=Be.data),Pe.length>0&&(console.log(` Found ${Pe.length} deals in ${ke}`),j.push(...Pe),Pe.forEach(ze=>{const ue=ze.agent;if(ue){const De=`${ue.id}-${ue.firstName} ${ue.lastName}`;J[De]||(J[De]={agentId:ue.id,agentName:`${ue.firstName} ${ue.lastName}`,agentEmail:ue.email,agentMobile:ue.mobileNumber,deals:[]}),J[De].deals.push(ze)}}))}catch(pe){console.error(` Error fetching stage ${ke}:`,pe)}console.log(` Total deals loaded: ${j.length}`),console.log("Deals by agent:",J),m(j),s(J)}catch(w){console.error(" Error fetching deals:",w),I(`Error loading deals: ${w.message}`)}finally{E(!1)}},Y=()=>{const w={};return Object.keys(c).forEach(j=>{const J=c[j];let oe=J.deals;k!=="all"&&(oe=oe.filter(ke=>ke.stage===k)),oe.length>0&&(w[j]={...J,deals:oe})}),w},U={maxWidth:"1600px",margin:"0 auto",padding:"24px"},S={fontSize:"32px",fontWeight:"700",color:"#1e293b",marginBottom:"8px"},N={fontSize:"16px",color:"#64748b",marginBottom:"24px"},C={display:"flex",gap:"12px",marginBottom:"24px",borderBottom:"2px solid #e2e8f0",paddingBottom:"12px",overflowX:"auto"},H=w=>({padding:"10px 20px",backgroundColor:w?"#3b82f6":"#f8fafc",color:w?"white":"#64748b",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"14px",whiteSpace:"nowrap"}),$={backgroundColor:"#f9fafb",borderRadius:"12px",padding:"24px",marginBottom:"24px",border:"2px solid #e2e8f0"},q={display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"20px",paddingBottom:"16px",borderBottom:"2px solid #e2e8f0"},X={fontSize:"22px",fontWeight:"700",color:"#1e293b",margin:"0 0 12px 0"},xe={display:"flex",gap:"16px",flexWrap:"wrap",fontSize:"13px",color:"#64748b"},he={display:"flex",gap:"12px"},D={backgroundColor:"white",padding:"10px 14px",borderRadius:"8px",border:"1px solid #e2e8f0",textAlign:"center"},W={fontSize:"11px",color:"#64748b",fontWeight:"600",marginBottom:"4px"},ie={fontSize:"18px",fontWeight:"700",color:"#3b82f6"},re={display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(320px, 1fr))",gap:"16px"},Z={padding:"16px",backgroundColor:"#fef3c7",borderRadius:"12px",border:"1px solid #fcd34d",cursor:"pointer",transition:"all 0.2s",boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},ce={display:"inline-block",padding:"4px 8px",backgroundColor:"#f59e0b",color:"white",borderRadius:"4px",fontSize:"11px",fontWeight:"600",marginBottom:"8px"},O={margin:"0 0 12px 0",color:"#1e293b",fontWeight:"600",fontSize:"14px"},G={width:"100%",padding:"8px 12px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"12px"};if(y)return n.createElement("div",{style:U},n.createElement("h2",null," Loading deals..."));if(!o)return n.createElement("div",{style:U},n.createElement("h2",null," Please log in to view deals"));const V=["INQUIRY","SHORTLIST","NEGOTIATION","AGREEMENT","REGISTRATION","PAYMENT"],b={};V.forEach(w=>{b[w]=d.filter(j=>j.stage===w).length});const F=Y(),p=Object.keys(c).length;return n.createElement("div",{style:U},n.createElement("h1",{style:S}," Admin Dashboard - Deal Management"),n.createElement("p",{style:N},p," Agent",p!==1?"s":"","  ",d.length," ","Total Deals"),A&&n.createElement("div",{style:{padding:"12px 16px",backgroundColor:"#fee2e2",color:"#dc2626",borderRadius:"8px",marginBottom:"16px",border:"1px solid #fecaca"}}," ",A),n.createElement("div",{style:C},n.createElement("button",{style:H(k==="all"),onClick:()=>h("all")},"All Deals (",d.length,")"),V.map(w=>n.createElement("button",{key:w,style:H(k===w),onClick:()=>h(w)},w," (",b[w],")"))),Object.keys(F).length===0?n.createElement("div",{style:{textAlign:"center",padding:"60px 20px",color:"#64748b",backgroundColor:"#f8fafc",borderRadius:"12px"}},n.createElement("div",{style:{fontSize:"48px",marginBottom:"12px"}},""),n.createElement("p",{style:{margin:0,fontSize:"16px",fontWeight:"600"}},"No deals found")):n.createElement("div",null,Object.entries(F).map(([w,j])=>n.createElement("div",{key:w,style:$},n.createElement("div",{style:q},n.createElement("div",null,n.createElement("h2",{style:X}," ",j.agentName),n.createElement("div",{style:xe},n.createElement("span",null,n.createElement("strong",null," ID:")," ",j.agentId),n.createElement("span",null,n.createElement("strong",null," Email:")," ",j.agentEmail||"N/A"),n.createElement("span",null,n.createElement("strong",null," Phone:")," ",j.agentMobile||"N/A"))),n.createElement("div",{style:he},n.createElement("div",{style:D},n.createElement("div",{style:W},"Total Deals"),n.createElement("div",{style:ie},j.deals.length)),n.createElement("div",{style:D},n.createElement("div",{style:W},"Active"),n.createElement("div",{style:ie},j.deals.filter(J=>J.stage!=="COMPLETED").length)),n.createElement("div",{style:D},n.createElement("div",{style:W},"Completed"),n.createElement("div",{style:ie},j.deals.filter(J=>J.stage==="COMPLETED").length)))),n.createElement("div",{style:re},j.deals.map(J=>{const oe=J.buyer,ke=J.property?.user;return n.createElement("div",{key:J.id,style:Z,onClick:()=>x(J),onMouseEnter:pe=>{pe.currentTarget.style.boxShadow="0 8px 16px rgba(0,0,0,0.15)",pe.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:pe=>{pe.currentTarget.style.boxShadow="0 2px 4px rgba(0,0,0,0.05)",pe.currentTarget.style.transform="translateY(0)"}},n.createElement("div",{style:ce},J.stage),n.createElement("h4",{style:O}," ",J.propertyTitle||J.property?.title),J.agreedPrice&&n.createElement("div",{style:{padding:"8px",backgroundColor:"#dcfce7",borderRadius:"6px",marginBottom:"10px",fontSize:"14px",fontWeight:"700",color:"#065f46"}}," ",J.agreedPrice.toLocaleString("en-IN")),oe&&n.createElement("div",{style:{padding:"8px",backgroundColor:"rgba(255,255,255,0.6)",borderRadius:"6px",marginBottom:"8px",fontSize:"12px"}},n.createElement("div",{style:{fontWeight:"600",color:"#1e293b",marginBottom:"2px"}}," Buyer: ",oe?.firstName," ",oe?.lastName),oe?.mobileNumber&&n.createElement("div",{style:{color:"#64748b",fontSize:"11px"}}," ",oe.mobileNumber)),ke&&n.createElement("div",{style:{padding:"8px",backgroundColor:"rgba(255,255,255,0.6)",borderRadius:"6px",marginBottom:"8px",fontSize:"12px"}},n.createElement("div",{style:{fontWeight:"600",color:"#1e293b",marginBottom:"2px"}}," Seller: ",ke.firstName," ",ke.lastName),ke.mobileNumber&&n.createElement("div",{style:{color:"#64748b",fontSize:"11px"}}," ",ke.mobileNumber)),n.createElement("p",{style:{margin:"8px 0 12px 0",fontSize:"11px",color:"#64748b"}}," ",new Date(J.createdAt).toLocaleDateString()),n.createElement("button",{style:G,onClick:pe=>{pe.stopPropagation(),x(J)}},"View & Manage Deal"))}))))),f&&n.createElement(vr,{deal:f,onClose:()=>x(null),onUpdate:()=>{x(null),M()},userRole:"ADMIN"}))},gg=()=>{const{user:o}=st(),c=Tt(),[s,d]=g.useState([]),[m,f]=g.useState([]),[x,y]=g.useState(!0),[E,k]=g.useState(""),[h,A]=g.useState(null),[I,M]=g.useState([]),[Y,U]=g.useState(!1),[S,N]=g.useState(null),[C,H]=g.useState(null),[$,q]=g.useState(!1);g.useEffect(()=>{if(o?.role!=="ADMIN"){c("/");return}X()},[o,c]);const X=async()=>{y(!0);try{const O=await fetch(`${Ie}/api/users/agents`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(O.ok){const G=await O.json(),V=G.success?G.data||[]:Array.isArray(G)?G:[];d(V),he(V,E)}else console.error("Failed to fetch agents:",O.status),d([])}catch(O){console.error("Error fetching agents:",O),d([])}finally{y(!1)}},xe=async O=>{U(!0);try{const G=await fetch(`${Ie}/api/deals/admin/agent/${O}?userId=${o.id}`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(G.ok){const V=await G.json(),b=V.success?V.data||[]:Array.isArray(V)?V:[];M(b)}else console.error("Failed to fetch deals:",G.status),M([])}catch(G){console.error("Error fetching deals:",G),M([])}finally{U(!1)}},he=(O,G)=>{let V=O;G&&(V=V.filter(b=>b.firstName?.toLowerCase().includes(G.toLowerCase())||b.lastName?.toLowerCase().includes(G.toLowerCase())||b.email?.toLowerCase().includes(G.toLowerCase())||b.mobileNumber?.includes(G))),f(V)},D=O=>{k(O),he(s,O)},W=O=>{A(O),xe(O.id)},ie=O=>{H({...O}),q(!0)},re=async()=>{try{const O=await fetch(`${Ie}/api/users/${C.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify(C)});if(O.ok){const V=(await O.json()).data||C;d(s.map(b=>b.id===C.id?V:b)),he(s.map(b=>b.id===C.id?V:b),E),A(V),q(!1),H(null),alert("Agent updated successfully!")}else alert("Failed to update agent")}catch(O){console.error("Error updating agent:",O),alert("Error updating agent")}},Z=async O=>{if(window.confirm("Are you sure you want to delete this agent?"))try{(await fetch(`${Ie}/api/users/${O}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}})).ok?(d(s.filter(V=>V.id!==O)),he(s.filter(V=>V.id!==O),E),A(null),M([]),alert("Agent deleted successfully!")):alert("Failed to delete agent")}catch(G){console.error("Error deleting agent:",G),alert("Error deleting agent")}},ce=O=>({INQUIRY:"#3b82f6",SHORTLIST:"#8b5cf6",NEGOTIATION:"#f59e0b",AGREEMENT:"#10b981",REGISTRATION:"#06b6d4",PAYMENT:"#ec4899",COMPLETED:"#22c55e"})[O]||"#6b7280";return x?n.createElement("div",{style:K.container},n.createElement("div",{style:K.loading}," Loading agents...")):n.createElement("div",{style:K.container},n.createElement("div",{style:K.header},n.createElement("h1",{style:K.title}," Agent Management"),n.createElement("p",{style:K.subtitle},"Manage all agents - view, edit, and modify agent details and their deals")),n.createElement("div",{style:K.controlsSection},n.createElement("div",{style:K.searchBox},n.createElement("input",{type:"text",placeholder:"Search by name, email, or phone...",value:E,onChange:O=>D(O.target.value),style:K.searchInput}))),n.createElement("div",{style:K.mainContent},n.createElement("div",{style:K.agentsList},n.createElement("div",{style:K.agentsHeader},n.createElement("h3",null,"Agents (",m.length,")")),m.length===0?n.createElement("div",{style:K.emptyState},n.createElement("p",null," No agents found")):n.createElement("div",{style:K.agentsGrid},m.map(O=>n.createElement("div",{key:O.id,style:{...K.agentCard,backgroundColor:h?.id===O.id?"#dbeafe":"white",borderColor:h?.id===O.id?"#3b82f6":"#e2e8f0"},onClick:()=>W(O)},n.createElement("div",{style:K.agentCardHeader},n.createElement("div",null,n.createElement("h4",{style:K.agentName},O.firstName," ",O.lastName),n.createElement("p",{style:K.agentEmail},O.email)),n.createElement("span",{style:K.roleBadge},"AGENT")),n.createElement("div",{style:K.agentInfo},n.createElement("p",null," ",O.mobileNumber||"N/A"),n.createElement("p",null," ",new Date(O.createdAt).toLocaleDateString())))))),n.createElement("div",{style:K.rightPanel},h?n.createElement(n.Fragment,null,n.createElement("div",{style:K.detailsCard},n.createElement("h2",{style:K.detailsTitle},"Agent Details"),n.createElement("div",{style:K.detailsGrid},n.createElement("div",null,n.createElement("p",{style:K.label},"First Name"),n.createElement("p",{style:K.value},h.firstName)),n.createElement("div",null,n.createElement("p",{style:K.label},"Last Name"),n.createElement("p",{style:K.value},h.lastName)),n.createElement("div",null,n.createElement("p",{style:K.label},"Email"),n.createElement("p",{style:K.value},h.email)),n.createElement("div",null,n.createElement("p",{style:K.label},"Phone"),n.createElement("p",{style:K.value},h.mobileNumber||"N/A")),n.createElement("div",null,n.createElement("p",{style:K.label},"Username"),n.createElement("p",{style:K.value},h.username||"N/A")),n.createElement("div",null,n.createElement("p",{style:K.label},"Member Since"),n.createElement("p",{style:K.value},new Date(h.createdAt).toLocaleDateString()))),h.address&&n.createElement("div",{style:K.addressSection},n.createElement("p",{style:K.label},"Address"),n.createElement("p",{style:K.value},h.address)),n.createElement("div",{style:K.statusSection},n.createElement("p",{style:K.label},"Status"),n.createElement("span",{style:{...K.statusBadge,backgroundColor:h.isActive?"#10b981":"#ef4444"}},h.isActive?"Active":"Inactive")),n.createElement("div",{style:K.actionButtons},n.createElement("button",{onClick:()=>ie(h),style:K.editBtn}," Edit Agent"),n.createElement("button",{onClick:()=>Z(h.id),style:K.deleteBtn}," Delete Agent"))),n.createElement("div",{style:K.dealsSection},n.createElement("h3",{style:K.dealsTitle},"Deals by ",h.firstName," (",I.length,")"),Y?n.createElement("div",{style:K.loading}," Loading deals..."):I.length===0?n.createElement("div",{style:K.emptyDeals},n.createElement("p",null,"No deals created by this agent")):n.createElement("div",{style:K.dealsGrid},I.map(O=>n.createElement("div",{key:O.id||O.dealId,style:K.dealCard,onClick:()=>N(O),onMouseEnter:G=>{G.currentTarget.style.boxShadow="0 8px 16px rgba(0,0,0,0.15)",G.currentTarget.style.transform="translateY(-4px)"},onMouseLeave:G=>{G.currentTarget.style.boxShadow="0 1px 3px rgba(0,0,0,0.05)",G.currentTarget.style.transform="translateY(0)"}},n.createElement("div",{style:{...K.dealStageBadge,backgroundColor:ce(O.stage||O.currentStage)}},O.stage||O.currentStage),n.createElement("h4",{style:K.dealTitle},O.property?.title||O.propertyTitle),O.property?.city&&n.createElement("p",{style:K.dealMeta}," ",O.property.city),O.buyer&&n.createElement("p",{style:K.dealMeta}," Buyer: ",O.buyer.firstName," ",O.buyer.lastName),O.property?.user&&n.createElement("p",{style:K.dealMeta}," Seller: ",O.property.user.firstName," ",O.property.user.lastName),O.agreedPrice&&n.createElement("p",{style:K.dealPrice}," ",O.agreedPrice.toLocaleString("en-IN")),n.createElement("p",{style:K.dealDate}," ",new Date(O.createdAt).toLocaleDateString())))))):n.createElement("div",{style:K.emptyDetails},n.createElement("p",null," Select an agent to view details and deals")))),S&&n.createElement("div",{style:K.modal},n.createElement("div",{style:K.modalContent},n.createElement("div",{style:K.modalHeader},n.createElement("h3",null,"Deal Details"),n.createElement("button",{onClick:()=>N(null),style:K.closeBtn},"")),n.createElement("div",{style:K.dealDetailsGrid},n.createElement("div",null,n.createElement("p",{style:K.label},"Deal Stage"),n.createElement("div",{style:{display:"inline-block",padding:"6px 12px",backgroundColor:ce(S.stage||S.currentStage),color:"white",borderRadius:"6px",fontWeight:"600",fontSize:"13px"}},S.stage||S.currentStage)),n.createElement("div",null,n.createElement("p",{style:K.label},"Created Date"),n.createElement("p",{style:K.value},new Date(S.createdAt).toLocaleDateString()))),n.createElement("div",{style:K.sectionDivider},n.createElement("h4",{style:K.sectionTitle},"Property Details"),n.createElement("div",{style:K.dealDetailsGrid},n.createElement("div",null,n.createElement("p",{style:K.label},"Property Title"),n.createElement("p",{style:K.value},S.property?.title||S.propertyTitle)),S.property?.city&&n.createElement("div",null,n.createElement("p",{style:K.label},"Location"),n.createElement("p",{style:K.value},S.property.city)),S.property?.price&&n.createElement("div",null,n.createElement("p",{style:K.label},"Property Price"),n.createElement("p",{style:K.value},"",S.property.price.toLocaleString("en-IN"))))),S.agreedPrice&&n.createElement("div",{style:K.sectionDivider},n.createElement("h4",{style:K.sectionTitle},"Agreed Price"),n.createElement("p",{style:{fontSize:"18px",fontWeight:"700",color:"#10b981"}},"",S.agreedPrice.toLocaleString("en-IN"))),S.buyer&&n.createElement("div",{style:K.sectionDivider},n.createElement("h4",{style:K.sectionTitle},"Buyer Information"),n.createElement("div",{style:K.dealDetailsGrid},n.createElement("div",null,n.createElement("p",{style:K.label},"Name"),n.createElement("p",{style:K.value},S.buyer.firstName," ",S.buyer.lastName)),n.createElement("div",null,n.createElement("p",{style:K.label},"Email"),n.createElement("p",{style:K.value},S.buyer.email)),n.createElement("div",null,n.createElement("p",{style:K.label},"Phone"),n.createElement("p",{style:K.value},S.buyer.mobileNumber)))),S.property?.user&&n.createElement("div",{style:K.sectionDivider},n.createElement("h4",{style:K.sectionTitle},"Seller Information"),n.createElement("div",{style:K.dealDetailsGrid},n.createElement("div",null,n.createElement("p",{style:K.label},"Name"),n.createElement("p",{style:K.value},S.property.user.firstName," ",S.property.user.lastName)),n.createElement("div",null,n.createElement("p",{style:K.label},"Email"),n.createElement("p",{style:K.value},S.property.user.email)),n.createElement("div",null,n.createElement("p",{style:K.label},"Phone"),n.createElement("p",{style:K.value},S.property.user.mobileNumber)))),S.notes&&n.createElement("div",{style:K.sectionDivider},n.createElement("h4",{style:K.sectionTitle},"Notes"),n.createElement("p",{style:K.value},S.notes)),n.createElement("div",{style:K.modalButtons},n.createElement("button",{onClick:()=>N(null),style:K.cancelBtn},"Close")))),$&&C&&n.createElement("div",{style:K.modal},n.createElement("div",{style:K.modalContent},n.createElement("div",{style:K.modalHeader},n.createElement("h3",null,"Edit Agent"),n.createElement("button",{onClick:()=>q(!1),style:K.closeBtn},"")),n.createElement("div",{style:K.formGroup},n.createElement("label",null,"First Name"),n.createElement("input",{type:"text",value:C.firstName||"",onChange:O=>H({...C,firstName:O.target.value}),style:K.input})),n.createElement("div",{style:K.formGroup},n.createElement("label",null,"Last Name"),n.createElement("input",{type:"text",value:C.lastName||"",onChange:O=>H({...C,lastName:O.target.value}),style:K.input})),n.createElement("div",{style:K.formGroup},n.createElement("label",null,"Email"),n.createElement("input",{type:"email",value:C.email||"",onChange:O=>H({...C,email:O.target.value}),style:K.input})),n.createElement("div",{style:K.formGroup},n.createElement("label",null,"Phone"),n.createElement("input",{type:"tel",value:C.mobileNumber||"",onChange:O=>H({...C,mobileNumber:O.target.value}),style:K.input})),n.createElement("div",{style:K.formGroup},n.createElement("label",null,"Address"),n.createElement("textarea",{value:C.address||"",onChange:O=>H({...C,address:O.target.value}),style:K.textarea})),n.createElement("div",{style:K.formGroup},n.createElement("label",null,"Active Status"),n.createElement("select",{value:C.isActive?"true":"false",onChange:O=>H({...C,isActive:O.target.value==="true"}),style:K.input},n.createElement("option",{value:"true"},"Active"),n.createElement("option",{value:"false"},"Inactive"))),n.createElement("div",{style:K.modalButtons},n.createElement("button",{onClick:re,style:K.saveBtn}," Save Changes"),n.createElement("button",{onClick:()=>q(!1),style:K.cancelBtn},"Cancel")))))},K={container:{maxWidth:1800,margin:"0 auto",padding:"24px 32px",minHeight:"100vh",backgroundColor:"#f8fafc"},header:{marginBottom:"32px"},title:{fontSize:"32px",fontWeight:"700",color:"#1e293b",marginBottom:"8px"},subtitle:{fontSize:"16px",color:"#64748b",margin:0},loading:{textAlign:"center",padding:"80px 20px",fontSize:"18px",color:"#64748b"},controlsSection:{marginBottom:"24px"},searchBox:{marginBottom:"16px"},searchInput:{width:"100%",padding:"12px 16px",borderRadius:"8px",border:"1px solid #e2e8f0",fontSize:"14px",boxSizing:"border-box"},mainContent:{display:"grid",gridTemplateColumns:"350px 1fr",gap:"24px"},agentsList:{backgroundColor:"white",borderRadius:"12px",padding:"20px",boxShadow:"0 1px 3px rgba(0,0,0,0.05)",height:"fit-content"},agentsHeader:{marginBottom:"16px",paddingBottom:"12px",borderBottom:"2px solid #e2e8f0"},agentsGrid:{display:"flex",flexDirection:"column",gap:"12px"},agentCard:{padding:"12px",borderRadius:"8px",border:"1px solid",cursor:"pointer",transition:"all 0.2s"},agentCardHeader:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"8px"},agentName:{fontSize:"14px",fontWeight:"700",color:"#1e293b",margin:0},agentEmail:{fontSize:"12px",color:"#64748b",margin:"4px 0 0 0"},roleBadge:{display:"inline-block",padding:"4px 8px",borderRadius:"4px",color:"white",fontSize:"10px",fontWeight:"600",backgroundColor:"#10b981"},agentInfo:{fontSize:"12px",color:"#64748b",margin:0},rightPanel:{backgroundColor:"white",borderRadius:"12px",padding:"20px",boxShadow:"0 1px 3px rgba(0,0,0,0.05)",overflowY:"auto",maxHeight:"calc(100vh - 200px)"},detailsCard:{marginBottom:"24px",paddingBottom:"24px",borderBottom:"2px solid #e2e8f0"},detailsTitle:{fontSize:"20px",fontWeight:"700",color:"#1e293b",margin:"0 0 16px 0"},detailsGrid:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px",marginBottom:"16px"},label:{fontSize:"12px",color:"#64748b",margin:"0 0 4px 0",fontWeight:"600"},value:{fontSize:"14px",fontWeight:"700",color:"#1e293b",margin:0},addressSection:{marginTop:"16px",padding:"12px",backgroundColor:"#f8fafc",borderRadius:"6px"},statusSection:{marginTop:"16px",padding:"12px",backgroundColor:"#f8fafc",borderRadius:"6px"},statusBadge:{display:"inline-block",padding:"4px 8px",borderRadius:"4px",color:"white",fontSize:"12px",fontWeight:"600"},actionButtons:{display:"flex",gap:"12px",marginTop:"16px"},editBtn:{flex:1,padding:"10px 16px",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"14px"},deleteBtn:{flex:1,padding:"10px 16px",backgroundColor:"#ef4444",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"14px"},dealsSection:{marginTop:"24px"},dealsTitle:{fontSize:"18px",fontWeight:"700",color:"#1e293b",marginBottom:"16px",margin:"0 0 16px 0"},dealsGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"12px"},dealCard:{padding:"12px",backgroundColor:"#f8fafc",borderRadius:"8px",border:"1px solid #e2e8f0",cursor:"pointer",transition:"all 0.3s",":hover":{boxShadow:"0 4px 12px rgba(0,0,0,0.1)",transform:"translateY(-2px)"}},dealStageBadge:{display:"inline-block",padding:"4px 8px",borderRadius:"4px",color:"white",fontSize:"10px",fontWeight:"600",marginBottom:"8px"},dealTitle:{fontSize:"13px",fontWeight:"700",color:"#1e293b",margin:"0 0 8px 0"},dealMeta:{fontSize:"11px",color:"#64748b",margin:"4px 0"},dealPrice:{fontSize:"12px",fontWeight:"700",color:"#10b981",margin:"8px 0 4px 0"},dealDate:{fontSize:"10px",color:"#94a3b8",margin:"4px 0"},dealDetailsGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"16px",marginBottom:"12px"},sectionDivider:{marginTop:"16px",paddingTop:"16px",borderTop:"1px solid #e2e8f0"},sectionTitle:{fontSize:"14px",fontWeight:"700",color:"#1e293b",margin:"0 0 12px 0"},emptyDeals:{textAlign:"center",padding:"20px",color:"#64748b",backgroundColor:"#f8fafc",borderRadius:"8px",border:"1px dashed #e2e8f0",fontSize:"13px"},emptyDetails:{textAlign:"center",padding:"60px 20px",color:"#64748b"},emptyState:{textAlign:"center",padding:"40px 20px",color:"#64748b",backgroundColor:"#f8fafc",borderRadius:"8px",border:"1px dashed #e2e8f0"},modal:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},modalContent:{backgroundColor:"white",borderRadius:"12px",padding:"24px",maxWidth:"500px",width:"90%",maxHeight:"90vh",overflowY:"auto"},modalHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px",paddingBottom:"12px",borderBottom:"1px solid #e2e8f0"},closeBtn:{backgroundColor:"transparent",border:"none",fontSize:"24px",cursor:"pointer",color:"#64748b"},formGroup:{marginBottom:"16px"},input:{width:"100%",padding:"10px 12px",borderRadius:"6px",border:"1px solid #e2e8f0",fontSize:"14px",boxSizing:"border-box",fontFamily:"inherit"},textarea:{width:"100%",padding:"10px 12px",borderRadius:"6px",border:"1px solid #e2e8f0",fontSize:"14px",boxSizing:"border-box",minHeight:"100px",fontFamily:"inherit"},modalButtons:{display:"flex",gap:"12px",marginTop:"20px"},saveBtn:{flex:1,padding:"10px 16px",backgroundColor:"#10b981",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"14px"},cancelBtn:{flex:1,padding:"10px 16px",backgroundColor:"#e2e8f0",color:"#1e293b",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"14px"}},yg=()=>{const{user:o}=st(),[c,s]=g.useState([]),[d,m]=g.useState(!0),[f,x]=g.useState(null),[y,E]=g.useState("active");g.useEffect(()=>{o?.id&&k()},[o]);const k=async()=>{m(!0);try{const N=await(await fetch(`${Ie}/api/deals/my-deals?userRole=SELLER`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}})).json();N.success?(console.log(" Seller deals loaded:",N.data),s(N.data||[])):(console.log(" Failed to load seller deals"),s([]))}catch(S){console.error("Error fetching seller deals:",S),s([])}finally{m(!1)}},h=()=>y==="active"?c.filter(S=>(S.stage||S.currentStage)!=="COMPLETED"):y==="completed"?c.filter(S=>(S.stage||S.currentStage)==="COMPLETED"):c,A=S=>({INQUIRY:"#3b82f6",SHORTLIST:"#8b5cf6",NEGOTIATION:"#f59e0b",AGREEMENT:"#10b981",REGISTRATION:"#06b6d4",PAYMENT:"#ec4899",COMPLETED:"#22c55e"})[S]||"#6b7280",I=S=>S?typeof S=="number"?S.toLocaleString("en-IN"):String(S):"N/A",M=h(),Y=c.filter(S=>(S.stage||S.currentStage)!=="COMPLETED").length,U=c.filter(S=>(S.stage||S.currentStage)==="COMPLETED").length;return d?n.createElement("div",{style:P.container},n.createElement("div",{style:P.loadingContainer},n.createElement("div",{style:P.spinner},""),n.createElement("h3",null,"Loading deals on your properties..."))):n.createElement("div",{style:P.container},n.createElement("div",{style:P.pageHeader},n.createElement("h1",{style:P.pageTitle}," Deals on My Properties"),n.createElement("p",{style:P.pageSubtitle},"Monitor all buyer inquiries and deals for your listed properties")),n.createElement("div",{style:it.filterTabsStyle},n.createElement("button",{onClick:()=>E("active"),style:{...it.tabStyle,...y==="active"?it.activeTabStyle:{}}}," Active (",Y,")"),n.createElement("button",{onClick:()=>E("completed"),style:{...it.tabStyle,...y==="completed"?it.activeTabStyle:{}}}," Completed (",U,")"),n.createElement("button",{onClick:()=>E("all"),style:{...it.tabStyle,...y==="all"?it.activeTabStyle:{}}}," All (",c.length,")")),M.length===0?n.createElement("div",{style:it.emptyStateStyle},n.createElement("div",{style:{fontSize:"48px",marginBottom:"16px"}},""),n.createElement("h3",{style:{fontSize:"20px",fontWeight:"700",color:"#1e293b",margin:"0 0 8px 0"}},"No Deals Yet"),n.createElement("p",{style:{color:"#64748b",margin:0}},y==="active"&&"No active deals on your properties",y==="completed"&&"No completed deals yet",y==="all"&&"No deals have been created for your properties")):n.createElement("div",{style:it.gridStyle},M.map(S=>n.createElement("div",{key:S.id||S.dealId,style:it.cardStyle,onClick:()=>x(S),onMouseEnter:N=>{N.currentTarget.style.transform="translateY(-4px)",N.currentTarget.style.boxShadow="0 8px 16px rgba(0,0,0,0.15)"},onMouseLeave:N=>{N.currentTarget.style.transform="translateY(0)",N.currentTarget.style.boxShadow="0 1px 3px rgba(0,0,0,0.05)"}},n.createElement("div",{style:{...it.stageBadgeStyle,backgroundColor:A(S.stage||S.currentStage)}},S.stage||S.currentStage),n.createElement("h3",{style:it.cardTitleStyle},S.propertyTitle||S.property?.title||"Property"),S.agreedPrice&&n.createElement("div",{style:it.priceDisplayStyle}," ",I(S.agreedPrice)),S.buyer&&n.createElement("div",{style:it.personDetailStyle},n.createElement("div",{style:{fontWeight:"600",color:"#1e293b"}}," Buyer"),n.createElement("div",{style:{fontSize:"14px",fontWeight:"700",color:"#1e293b"}},S.buyerName||`${S.buyer?.firstName} ${S.buyer?.lastName}`),n.createElement("div",{style:{fontSize:"12px",color:"#64748b",marginTop:"2px"}}," ",S.buyerMobile||S.buyer?.mobileNumber||"N/A")),S.property?.user&&n.createElement("div",{style:it.personDetailStyle},n.createElement("div",{style:{fontWeight:"600",color:"#1e293b"}}," Seller (You)"),n.createElement("div",{style:{fontSize:"14px",fontWeight:"700",color:"#1e293b"}},S.sellerName||`${S.property.user?.firstName} ${S.property.user?.lastName}`),n.createElement("div",{style:{fontSize:"12px",color:"#64748b",marginTop:"2px"}},""," ",S.sellerMobile||S.property.user?.mobileNumber||"N/A")),S.agent&&n.createElement("div",{style:it.personDetailStyle},n.createElement("div",{style:{fontWeight:"600",color:"#1e293b"}}," Agent"),n.createElement("div",{style:{fontSize:"14px",fontWeight:"700",color:"#1e293b"}},S.agentName||`${S.agent?.firstName} ${S.agent?.lastName}`),n.createElement("div",{style:{fontSize:"12px",color:"#64748b",marginTop:"2px"}}," ",S.agentEmail||S.agent?.email||"N/A")),n.createElement("div",{style:it.dateStyle},"Created: ",new Date(S.createdAt).toLocaleDateString()),n.createElement("button",{style:it.viewBtnStyle,onMouseEnter:N=>N.target.style.backgroundColor="#059669",onMouseLeave:N=>N.target.style.backgroundColor="#10b981"}," View Details")))),f&&n.createElement(vr,{deal:f,onClose:()=>x(null),onUpdate:()=>{x(null),k()},userRole:"SELLER"}))},it={filterTabsStyle:{display:"flex",gap:"12px",marginBottom:"24px",borderBottom:"2px solid #e2e8f0",paddingBottom:"12px",flexWrap:"wrap"},tabStyle:{padding:"10px 20px",backgroundColor:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"14px",color:"#64748b",transition:"all 0.2s"},activeTabStyle:{backgroundColor:"#3b82f6",color:"white",borderColor:"#3b82f6"},gridStyle:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(320px, 1fr))",gap:"20px"},cardStyle:{padding:"20px",backgroundColor:"white",borderRadius:"12px",border:"1px solid #e2e8f0",cursor:"pointer",transition:"all 0.3s ease",boxShadow:"0 1px 3px rgba(0,0,0,0.05)"},stageBadgeStyle:{display:"inline-block",padding:"6px 12px",borderRadius:"6px",color:"white",fontSize:"12px",fontWeight:"600",marginBottom:"12px"},cardTitleStyle:{fontSize:"16px",fontWeight:"700",color:"#1e293b",margin:"0 0 12px 0"},priceDisplayStyle:{fontSize:"16px",fontWeight:"700",color:"#10b981",backgroundColor:"#ecfdf5",padding:"10px 12px",borderRadius:"6px",marginBottom:"12px",border:"1px solid #86efac"},personDetailStyle:{padding:"10px 12px",backgroundColor:"#f8fafc",borderRadius:"6px",marginBottom:"10px",fontSize:"13px",display:"flex",flexDirection:"column",gap:"4px",borderLeft:"3px solid #3b82f6"},dateStyle:{fontSize:"12px",color:"#94a3b8",marginBottom:"16px"},viewBtnStyle:{width:"100%",padding:"10px",backgroundColor:"#10b981",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"14px",transition:"background 0.2s"},emptyStateStyle:{textAlign:"center",padding:"60px 20px",backgroundColor:"#f8fafc",borderRadius:"12px",border:"2px dashed #e2e8f0"}},le={formContainer:{backgroundColor:"white",padding:"32px",borderRadius:"16px",boxShadow:"0 8px 20px rgba(0,0,0,0.05)",border:"1px solid #e2e8f0",marginTop:"32px"},formGroup:{marginBottom:"20px"},label:{display:"block",fontWeight:600,color:"#475569",marginBottom:"8px",fontSize:"14px"},input:{width:"100%",padding:"12px 16px",fontSize:"16px",border:"1px solid #cbd5e1",borderRadius:"12px",boxSizing:"border-box",color:"#334155"},errorInput:{border:"1px solid #ef4444",boxShadow:"0 0 0 2px #fecaca"},errorMessage:{color:"#dc2626",fontSize:"12px",fontWeight:500,marginTop:"4px"},idGroup:{display:"flex",gap:"12px"},idType:{flex:"1 1 30%"},idNumber:{flex:"1 1 70%"},select:{width:"100%",padding:"12px 16px",fontSize:"16px",border:"1px solid #cbd5e1",borderRadius:"12px",boxSizing:"border-box",color:"#334155",backgroundColor:"white"},buttonGroup:{display:"flex",justifyContent:"space-between",gap:"12px",marginTop:"32px"},primaryButton:{...P.signupBtn,backgroundColor:"#667eea",color:"white",padding:"12px 24px",fontSize:"16px",fontWeight:"600",flex:1},disabledButton:{...P.signupBtn,backgroundColor:"#94a3b8",color:"white",padding:"12px 24px",fontSize:"16px",fontWeight:"600",flex:1,cursor:"not-allowed",opacity:.7},secondaryButton:{...P.loginBtn,backgroundColor:"#f1f5f9",color:"#475569",border:"1px solid #e2e8f0",padding:"12px 24px",fontSize:"16px",fontWeight:"600",flex:1},successMessage:{...P.noPropertiesContainer,border:"2px solid #10b981",backgroundColor:"#f0fdf4",color:"#065f46"},infoBox:{backgroundColor:"#f0f9ff",border:"1px solid #bae6fd",padding:"16px",borderRadius:"12px",fontSize:"14px",lineHeight:"1.6",marginBottom:"20px"},infoBoxTitle:{marginTop:0,marginBottom:"10px",color:"#0369a1",fontSize:"16px",fontWeight:"700"}},ye={container:{backgroundColor:"white",border:"1px solid #e2e8f0",padding:"50px 60px",fontFamily:"'Times New Roman', Times, serif",color:"#000",lineHeight:1.6,margin:"20px 0"},title:{textAlign:"center",fontSize:"24px",fontWeight:"bold",textTransform:"uppercase",textDecoration:"underline",marginBottom:"40px"},header:{textAlign:"center",fontSize:"14px",color:"#555",borderBottom:"1px dashed #ccc",paddingBottom:"10px",marginBottom:"30px"},paragraph:{fontSize:"16px",marginBottom:"20px",textAlign:"justify"},data:{fontWeight:"bold"},clause:{marginBottom:"25px"},clauseTitle:{fontSize:"17px",fontWeight:"bold",marginBottom:"10px"},subParagraph:{fontSize:"16px",marginBottom:"10px",textAlign:"justify",paddingLeft:"20px"},signatureBlock:{display:"flex",justifyContent:"space-between",marginTop:"60px"},witnessBlock:{marginTop:"70px",fontSize:"15px"},signature:{width:"45%",borderTop:"1px solid #000",paddingTop:"8px",fontSize:"16px"}};function _u(o){if(o==null||o==="")return"[AMOUNT IN WORDS]";if(o=parseInt(o,10),o===0)return"Zero";const c=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine"],s=["Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],d=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"],m=["","Thousand","Lakh","Crore"];let f=[],x=0;for(;o>0;){let y=o%1e3;if((x===1||x>1)&&(y=o%100),y>0){let E=[];y>=100&&(E.push(c[Math.floor(y/100)]+" Hundred"),y%=100),y>=10&&y<=19?E.push(s[y-10]):(y>=20&&(E.push(d[Math.floor(y/10)]),y%=10),y>0&&E.push(c[y])),m[x]&&E.push(m[x]),f.unshift(E.join(" "))}if(x===0?o=Math.floor(o/1e3):o=Math.floor(o/100),x++,x>=m.length)break}return f.join(" ")}const Uu=n.forwardRef(({formData:o},c)=>{const s=()=>{if(!o.startDate)return{day:"[DAY]",month:"[MONTH]",year:"[YEAR]"};try{const k=new Date(o.startDate),h=k.getDate(),A=k.toLocaleString("default",{month:"long"}),I=k.getFullYear();return{day:h,month:A,year:I}}catch{return{day:"[DAY]",month:"[MONTH]",year:"[YEAR]"}}},{day:d,month:m,year:f}=s(),x=parseInt(o.duration,10),y=o.agreementType==="Lease Agreement";let E=1;return n.createElement("div",{style:ye.container,ref:c},n.createElement("div",{style:ye.header},"Generated through ",n.createElement("strong",null,"Zero Brokerage Platform")),n.createElement("h1",{style:ye.title},o.agreementType),n.createElement("p",{style:ye.paragraph},"This ",o.agreementType," is made and entered into on this ",n.createElement("span",{style:ye.data},d)," day of ",n.createElement("span",{style:ye.data},m),", ",n.createElement("span",{style:ye.data},f)),n.createElement("p",{style:ye.paragraph},n.createElement("strong",null,"BY AND BETWEEN:")),n.createElement("p",{style:{...ye.paragraph,paddingLeft:"20px"}},n.createElement("span",{style:ye.data},o.ownerName||"[OWNER NAME]"),", (Phone: ",n.createElement("span",{style:ye.data},o.ownerPhone||"[OWNER PHONE]"),", ",o.ownerIdType,": ",n.createElement("span",{style:ye.data},o.ownerIdNumber||"[OWNER ID]"),') (Hereinafter referred to as the "',n.createElement("strong",null,"OWNER"),'" or "',y?"LESSOR":"LICENSOR",'", which expression shall unless repugnant to the context or meaning thereof mean and include their legal heirs, executors, administrators, and assigns) of the ',n.createElement("strong",null,"FIRST PART"),"."),n.createElement("p",{style:ye.paragraph},n.createElement("strong",null,"AND")),n.createElement("p",{style:{...ye.paragraph,paddingLeft:"20px"}},n.createElement("span",{style:ye.data},o.tenantName||"[TENANT NAME]"),", (Phone: ",n.createElement("span",{style:ye.data},o.tenantPhone||"[TENANT PHONE]"),", ",o.tenantIdType,": ",n.createElement("span",{style:ye.data},o.tenantIdNumber||"[TENANT ID]"),') (Hereinafter referred to as the "',n.createElement("strong",null,"TENANT"),'" or "',y?"LESSEE":"LICENSEE",'", which expression shall unless repugnant to the context or meaning thereof mean and include their legal heirs, executors, administrators, and assigns) of the ',n.createElement("strong",null,"SECOND PART"),"."),n.createElement("p",{style:ye.paragraph},"The Owner is the absolute and legal owner of the property situated at ",n.createElement("span",{style:ye.data},o.propertyAddress||"[PROPERTY ADDRESS]"),' (Hereinafter referred to as the "',n.createElement("strong",null,"PREMISES"),'").'),n.createElement("p",{style:ye.paragraph},"WHEREAS, the Tenant has requested the Owner to grant this ",y?"lease":"license"," with respect to the Premises, and the Owner has agreed to grant the same on the terms and conditions hereinafter appearing."),n.createElement("h2",{style:{...ye.title,fontSize:"20px",textDecoration:"none",marginBottom:"30px",marginTop:"40px"}},"NOW, THIS AGREEMENT WITNESSETH AS FOLLOWS:"),n.createElement("div",{style:ye.clause},n.createElement("h3",{style:ye.clauseTitle},E++,". PREMISES"),n.createElement("p",{style:ye.paragraph},"The Owner hereby grants to the Tenant the right to occupy and use the Premises located at: ",n.createElement("span",{style:ye.data},o.propertyAddress||"[PROPERTY ADDRESS]"),".")),n.createElement("div",{style:ye.clause},n.createElement("h3",{style:ye.clauseTitle},E++,". TERM"),n.createElement("p",{style:ye.paragraph},"The term of this ",y?"lease":"agreement"," shall be for a period of ",n.createElement("span",{style:ye.data},o.duration)," ",o.duration==="1"?"month":"months",", commencing from ",n.createElement("span",{style:ye.data},o.startDate||"[START DATE]"),".")),n.createElement("div",{style:ye.clause},n.createElement("h3",{style:ye.clauseTitle},E++,". RENT / LICENSE FEE"),n.createElement("p",{style:ye.paragraph},"The Tenant shall pay to the Owner a monthly ",y?"rent":"license fee"," of ",n.createElement("span",{style:ye.data},"",o.rentAmount||"[RENT AMOUNT]")," (Rupees ",n.createElement("span",{style:ye.data},_u(o.rentAmount))," Only). This amount shall be payable in advance on or before the 5th day of each English calendar month.")),n.createElement("div",{style:ye.clause},n.createElement("h3",{style:ye.clauseTitle},E++,". SECURITY DEPOSIT"),n.createElement("p",{style:ye.subParagraph},"A. Upon the execution of this Agreement, the Tenant shall pay the Owner an interest-free security deposit of ",n.createElement("span",{style:ye.data},"",o.depositAmount||"[DEPOSIT AMOUNT]")," (Rupees ",n.createElement("span",{style:ye.data},_u(o.depositAmount))," Only)."),n.createElement("p",{style:ye.subParagraph},"B. The Owner shall refund this deposit to the Tenant, free of interest, within 15 (fifteen) days of the termination of this agreement and after the Tenant has handed over vacant and peaceful possession of the Premises, subject to any deductions for unpaid rent/utilities, damages to the property (reasonable wear and tear excepted), or any breach of the terms herein.")),y&&x>=18&&parseFloat(o.incrementPercentage)>0&&n.createElement("div",{style:ye.clause},n.createElement("h3",{style:ye.clauseTitle},E++,". RENT INCREMENT"),n.createElement("p",{style:ye.paragraph},"It is hereby agreed that the rent shall be subject to an increment of ",n.createElement("span",{style:ye.data},o.incrementPercentage,"%")," after the completion of every 18 (eighteen) months of the term, in accordance with governing State Rent Control Laws.")),n.createElement("div",{style:ye.clause},n.createElement("h3",{style:ye.clauseTitle},E++,". USE OF PREMISES"),n.createElement("p",{style:ye.paragraph},"The Premises shall be used by the Tenant strictly for private residential purposes only and for no other purpose whatsoever.")),n.createElement("div",{style:ye.clause},n.createElement("h3",{style:ye.clauseTitle},E++,". UTILITIES AND CHARGES"),n.createElement("p",{style:ye.paragraph},"The Tenant shall be responsible for and shall pay all charges for electricity, water, gas, internet, and any other utilities consumed on the Premises directly to the concerned authorities.")),n.createElement("div",{style:ye.clause},n.createElement("h3",{style:ye.clauseTitle},E++,". TERMINATION"),n.createElement("p",{style:ye.paragraph},"Either party may terminate this Agreement by providing 30 (thirty) days' written notice to the other party, without assigning any reason therefor.")),n.createElement("div",{style:ye.clause},n.createElement("h3",{style:ye.clauseTitle},E++,". GOVERNING LAW"),n.createElement("p",{style:ye.paragraph},"This Agreement shall be governed by and construed in accordance with the laws of India. The courts in ",n.createElement("span",{style:ye.data},o.jurisdiction||"[CITY/STATE]")," shall have exclusive jurisdiction over any disputes arising hereunder.")),n.createElement("p",{style:{...ye.paragraph,marginTop:"50px"}},n.createElement("strong",null,"IN WITNESS WHEREOF"),", the parties have executed this Agreement on the date first above written."),n.createElement("div",{style:ye.signatureBlock},n.createElement("div",{style:ye.signature},n.createElement("strong",null,"(OWNER / ",y?"LESSOR":"LICENSOR",")"),n.createElement("br",null),n.createElement("br",null),n.createElement("br",null),n.createElement("span",{style:ye.data},o.ownerName||"[OWNER NAME]")),n.createElement("div",{style:ye.signature},n.createElement("strong",null,"(TENANT / ",y?"LESSEE":"LICENSEE",")"),n.createElement("br",null),n.createElement("br",null),n.createElement("br",null),n.createElement("span",{style:ye.data},o.tenantName||"[TENANT NAME]"))),n.createElement("div",{style:ye.witnessBlock},n.createElement("p",null,n.createElement("strong",null,"WITNESSES:")),n.createElement("div",{style:ye.signatureBlock},n.createElement("div",{style:ye.signature},n.createElement("strong",null,"1. Signature:"),n.createElement("br",null),n.createElement("strong",null,"Name:"),n.createElement("br",null),n.createElement("strong",null,"Address:")),n.createElement("div",{style:ye.signature},n.createElement("strong",null,"2. Signature:"),n.createElement("br",null),n.createElement("strong",null,"Name:"),n.createElement("br",null),n.createElement("strong",null,"Address:")))))}),ju={ownerName:"",ownerPhone:"",ownerIdType:"Aadhaar",ownerIdNumber:"",tenantName:"",tenantPhone:"",tenantIdType:"Aadhaar",tenantIdNumber:"",propertyAddress:"",jurisdiction:"",rentAmount:"",depositAmount:"",startDate:"",duration:"11",incrementPercentage:"5",agreementType:"Rental Agreement"};function hg(){const[o,c]=g.useState(1),[s,d]=g.useState(ju),[m,f]=g.useState({}),[x,y]=g.useState({}),E=g.useRef(),k=D=>{const W=/^\d{10}$/;return D?W.test(D)?"":"Must be exactly 10 numeric digits.":"Phone number is required."},h=D=>{const W=/^\d{12}$/;return D?W.test(D)?"":"Must be exactly 12 numeric digits.":"Aadhaar number is required."},A=D=>{const W=/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/;return D?W.test(D)?"":"Invalid PAN format (AAAAA1111A).":"PAN number is required."},I=(D,W)=>D?"":`${W} is required.`,M=(D,W,ie)=>{let re="";const Z=ie||s;switch(D){case"ownerName":re=I(W,"Owner name");break;case"tenantName":re=I(W,"Tenant name");break;case"ownerPhone":re=k(W);break;case"tenantPhone":re=k(W);break;case"ownerIdNumber":re=Z.ownerIdType==="Aadhaar"?h(W):A(W);break;case"tenantIdNumber":re=Z.tenantIdType==="Aadhaar"?h(W):A(W);break;case"propertyAddress":re=I(W,"Property address");break;case"jurisdiction":re=I(W,"Jurisdiction");break;case"rentAmount":re=I(W,"Rent amount");break;case"depositAmount":re=I(W,"Deposit amount");break;case"startDate":re=I(W,"Start date");break}return f(ce=>({...ce,[D]:re})),re},Y=D=>{const W={};let ie={};D===2?(W.ownerName=I(s.ownerName,"Owner name"),W.tenantName=I(s.tenantName,"Tenant name"),W.ownerPhone=k(s.ownerPhone),W.tenantPhone=k(s.tenantPhone),W.ownerIdNumber=s.ownerIdType==="Aadhaar"?h(s.ownerIdNumber):A(s.ownerIdNumber),W.tenantIdNumber=s.tenantIdType==="Aadhaar"?h(s.tenantIdNumber):A(s.tenantIdNumber),ie={ownerName:!0,tenantName:!0,ownerPhone:!0,tenantPhone:!0,ownerIdNumber:!0,tenantIdNumber:!0}):D===3&&(W.propertyAddress=I(s.propertyAddress,"Property address"),W.jurisdiction=I(s.jurisdiction,"Jurisdiction"),W.rentAmount=I(s.rentAmount,"Rent amount"),W.depositAmount=I(s.depositAmount,"Deposit amount"),W.startDate=I(s.startDate,"Start date"),ie={propertyAddress:!0,jurisdiction:!0,rentAmount:!0,depositAmount:!0,startDate:!0});const re=Object.keys(W).reduce((Z,ce)=>(W[ce]&&(Z[ce]=W[ce]),Z),{});return f(re),y(Z=>({...Z,...ie})),Object.keys(re).length===0},U=()=>!(I(s.ownerName,"")||I(s.tenantName,"")||k(s.ownerPhone)||k(s.tenantPhone)||(s.ownerIdType==="Aadhaar"?h(s.ownerIdNumber):A(s.ownerIdNumber))||(s.tenantIdType==="Aadhaar"?h(s.tenantIdNumber):A(s.tenantIdNumber))),S=()=>!(I(s.propertyAddress,"")||I(s.jurisdiction,"")||I(s.rentAmount,"")||I(s.depositAmount,"")||I(s.startDate,"")),N=D=>{let{name:W,value:ie}=D.target;if((W==="ownerPhone"||W==="tenantPhone")&&(ie=ie.replace(/\D/g,"").substring(0,10)),W==="ownerIdNumber"||W==="tenantIdNumber"){const Z=W==="ownerIdNumber"?s.ownerIdType:s.tenantIdType;if(Z==="Aadhaar")ie=ie.replace(/\D/g,"").substring(0,12);else if(Z==="PAN"){ie=ie.toUpperCase();let ce="";ie.length>0&&(ce+=ie.substring(0,5).replace(/[^A-Z]/g,"")),ie.length>5&&(ce+=ie.substring(5,9).replace(/[^0-9]/g,"")),ie.length>9&&(ce+=ie.substring(9,10).replace(/[^A-Z]/g,"")),ie=ce}}(W==="rentAmount"||W==="depositAmount")&&(ie=ie.replace(/\D/g,""));const re={...s,[W]:ie};if(W==="duration"){const Z=parseInt(ie,10);re.agreementType=Z<=11?"Rental Agreement":"Lease Agreement"}W==="ownerIdType"&&(re.ownerIdNumber="",x.ownerIdNumber&&M("ownerIdNumber","",re)),W==="tenantIdType"&&(re.tenantIdNumber="",x.tenantIdNumber&&M("tenantIdNumber","",re)),d(re),x[W]&&M(W,ie,re)},C=D=>{const{name:W,value:ie}=D.target;y(re=>({...re,[W]:!0})),M(W,ie,s)},H=()=>{let D=!1;o===2?D=Y(2):o===3?D=Y(3):D=!0,D&&(f({}),c(W=>W+1))},$=()=>{f({}),c(D=>D-1)},q=()=>{window.print()},X=D=>{D.preventDefault(),console.log("Final Agreement Data:",s),c(5)},xe=!U(),he=!S();return n.createElement("div",{style:{...P.container,maxWidth:"900px",margin:"40px auto",padding:"0 20px"}},n.createElement("style",null,`
          @media print {
            body * {
              visibility: hidden;
            }
            #printable-agreement, #printable-agreement * {
              visibility: visible;
            }
            #printable-agreement {
              position: absolute;
              left: 0;
              top: 0;
              width: 100%;
              margin: 0;
              padding: 0;
              border: none;
            }
            .no-print {
              display: none !important;
            }
          }
        `),n.createElement("h1",{className:"no-print",style:{...P.pageTitle,fontSize:"32px",marginBottom:"8px"}},"Online Rental Agreement"),n.createElement("p",{className:"no-print",style:{...P.pageSubtitle,fontSize:"16px",color:"#667eea",fontWeight:600,marginTop:0,marginBottom:"16px"}},"through ",n.createElement("strong",null,"Zero Brokerage Platform")),o===1&&n.createElement("div",{className:"no-print"},n.createElement("p",{style:{...P.pageSubtitle,fontSize:"18px",lineHeight:"1.6",marginBottom:"32px"}},"Streamline your rental process with our easy-to-use digital rental agreement service. We provide government-approved, e-stamped agreements delivered right to your doorstep."),n.createElement("div",{style:le.formContainer},n.createElement("h3",{style:{...P.sectionTitle,fontSize:"22px",margin:"0 0 20px 0"}},"Key Features:"),n.createElement("ul",{style:{listStyle:"none",paddingLeft:0,margin:0,fontSize:"16px",lineHeight:"1.7",color:"#334155"}},n.createElement("li",{style:{marginBottom:"15px",display:"flex",alignItems:"center"}},n.createElement("span",{style:{marginRight:"12px",fontSize:"20px"}},""),"100% Online & Paperless Process"),n.createElement("li",{style:{marginBottom:"15px",display:"flex",alignItems:"center"}},n.createElement("span",{style:{marginRight:"12px",fontSize:"20px"}},""),"Legally Valid & E-Stamped"),n.createElement("li",{style:{marginBottom:"15px",display:"flex",alignItems:"center"}},n.createElement("span",{style:{marginRight:"12px",fontSize:"20px"}},""),"Express Delivery Available")),n.createElement("button",{style:{...le.primaryButton,marginTop:"30px",width:"100%",flex:"none"},onClick:H},"Create Your Agreement Now"))),o===2&&n.createElement("div",{style:le.formContainer,className:"no-print"},n.createElement("h2",{style:{...P.sectionTitle,fontSize:"22px",marginTop:0}},"Step 1: Parties Information"),n.createElement("h3",{style:{...P.dropdownTitle,color:"#334155",fontSize:"16px"}},"Owner Details"),n.createElement("div",{style:le.formGroup},n.createElement("label",{style:le.label,htmlFor:"ownerName"},"Owner Full Name"),n.createElement("input",{style:{...le.input,...x.ownerName&&m.ownerName&&le.errorInput},type:"text",id:"ownerName",name:"ownerName",value:s.ownerName,onChange:N,onBlur:C,placeholder:"e.g., John Doe"}),x.ownerName&&m.ownerName&&n.createElement("span",{style:le.errorMessage},m.ownerName)),n.createElement("div",{style:le.formGroup},n.createElement("label",{style:le.label,htmlFor:"ownerPhone"},"Owner Phone Number (10 Digits)"),n.createElement("input",{style:{...le.input,...x.ownerPhone&&m.ownerPhone&&le.errorInput},type:"tel",id:"ownerPhone",name:"ownerPhone",value:s.ownerPhone,onChange:N,onBlur:C,placeholder:"e.g., 9876543210"}),x.ownerPhone&&m.ownerPhone&&n.createElement("span",{style:le.errorMessage},m.ownerPhone)),n.createElement("div",{style:le.idGroup},n.createElement("div",{style:{...le.formGroup,...le.idType}},n.createElement("label",{style:le.label,htmlFor:"ownerIdType"},"Govt. ID Type"),n.createElement("select",{style:le.select,id:"ownerIdType",name:"ownerIdType",value:s.ownerIdType,onChange:N,onBlur:C},n.createElement("option",{value:"Aadhaar"},"Aadhaar"),n.createElement("option",{value:"PAN"},"PAN"))),n.createElement("div",{style:{...le.formGroup,...le.idNumber}},n.createElement("label",{style:le.label,htmlFor:"ownerIdNumber"},"ID Number"),n.createElement("input",{style:{...le.input,...x.ownerIdNumber&&m.ownerIdNumber&&le.errorInput},type:"text",id:"ownerIdNumber",name:"ownerIdNumber",value:s.ownerIdNumber,onChange:N,onBlur:C,placeholder:s.ownerIdType==="Aadhaar"?"12-digit number":"e.g. AAAAA1111A"}),x.ownerIdNumber&&m.ownerIdNumber&&n.createElement("span",{style:le.errorMessage},m.ownerIdNumber))),n.createElement("hr",{style:{border:0,borderTop:"1px solid #eee",margin:"24px 0"}}),n.createElement("h3",{style:{...P.dropdownTitle,color:"#334155",fontSize:"16px"}},"Tenant Details"),n.createElement("div",{style:le.formGroup},n.createElement("label",{style:le.label,htmlFor:"tenantName"},"Tenant Full Name"),n.createElement("input",{style:{...le.input,...x.tenantName&&m.tenantName&&le.errorInput},type:"text",id:"tenantName",name:"tenantName",value:s.tenantName,onChange:N,onBlur:C,placeholder:"e.g., Jane Smith"}),x.tenantName&&m.tenantName&&n.createElement("span",{style:le.errorMessage},m.tenantName)),n.createElement("div",{style:le.formGroup},n.createElement("label",{style:le.label,htmlFor:"tenantPhone"},"Tenant Phone Number (10 Digits)"),n.createElement("input",{style:{...le.input,...x.tenantPhone&&m.tenantPhone&&le.errorInput},type:"tel",id:"tenantPhone",name:"tenantPhone",value:s.tenantPhone,onChange:N,onBlur:C,placeholder:"e.g., 1234567890"}),x.tenantPhone&&m.tenantPhone&&n.createElement("span",{style:le.errorMessage},m.tenantPhone)),n.createElement("div",{style:le.idGroup},n.createElement("div",{style:{...le.formGroup,...le.idType}},n.createElement("label",{style:le.label,htmlFor:"tenantIdType"},"Govt. ID Type"),n.createElement("select",{style:le.select,id:"tenantIdType",name:"tenantIdType",value:s.tenantIdType,onChange:N,onBlur:C},n.createElement("option",{value:"Aadhaar"},"Aadhaar"),n.createElement("option",{value:"PAN"},"PAN"))),n.createElement("div",{style:{...le.formGroup,...le.idNumber}},n.createElement("label",{style:le.label,htmlFor:"tenantIdNumber"},"ID Number"),n.createElement("input",{style:{...le.input,...x.tenantIdNumber&&m.tenantIdNumber&&le.errorInput},type:"text",id:"tenantIdNumber",name:"tenantIdNumber",value:s.tenantIdNumber,onChange:N,onBlur:C,placeholder:s.tenantIdType==="Aadhaar"?"12-digit number":"e.g. AAAAA1111A"}),x.tenantIdNumber&&m.tenantIdNumber&&n.createElement("span",{style:le.errorMessage},m.tenantIdNumber))),n.createElement("div",{style:le.buttonGroup},n.createElement("button",{type:"button",style:{...le.secondaryButton,flex:"0 1 auto"},onClick:()=>c(1)},"Back"),n.createElement("button",{type:"button",style:xe?le.disabledButton:{...le.primaryButton,flex:"1 1 auto"},onClick:H,disabled:xe},"Next: Property Details"))),o===3&&n.createElement("div",{style:le.formContainer,className:"no-print"},n.createElement("h2",{style:{...P.sectionTitle,fontSize:"22px",marginTop:0}},"Step 2: Property & Terms"),n.createElement("div",{style:le.infoBox},n.createElement("h4",{style:le.infoBoxTitle}," Agreement Type Note:"),n.createElement("p",{style:{margin:0}},"Agreements up to 11 months are typically considered 'Rental Agreements'. Agreements for 12 months or longer are often treated as 'Lease Agreements' and may require registration and potentially different stamp duty depending on state laws.")),n.createElement("div",{style:le.formGroup},n.createElement("label",{style:le.label,htmlFor:"propertyAddress"},"Property Address"),n.createElement("input",{style:{...le.input,...x.propertyAddress&&m.propertyAddress&&le.errorInput},type:"text",id:"propertyAddress",name:"propertyAddress",value:s.propertyAddress,onChange:N,onBlur:C,placeholder:"Full address of the rental property"}),x.propertyAddress&&m.propertyAddress&&n.createElement("span",{style:le.errorMessage},m.propertyAddress)),n.createElement("div",{style:le.formGroup},n.createElement("label",{style:le.label,htmlFor:"jurisdiction"},"Jurisdiction (City/State)"),n.createElement("input",{style:{...le.input,...x.jurisdiction&&m.jurisdiction&&le.errorInput},type:"text",id:"jurisdiction",name:"jurisdiction",value:s.jurisdiction,onChange:N,onBlur:C,placeholder:"e.g., Hyderabad, Telangana"}),x.jurisdiction&&m.jurisdiction&&n.createElement("span",{style:le.errorMessage},m.jurisdiction)),n.createElement("div",{style:{display:"flex",gap:"12px"}},n.createElement("div",{style:{...le.formGroup,flex:1}},n.createElement("label",{style:le.label,htmlFor:"rentAmount"},"Monthly Rent ()"),n.createElement("input",{style:{...le.input,...x.rentAmount&&m.rentAmount&&le.errorInput},type:"tel",id:"rentAmount",name:"rentAmount",value:s.rentAmount,onChange:N,onBlur:C,placeholder:"e.g., 15000"}),x.rentAmount&&m.rentAmount&&n.createElement("span",{style:le.errorMessage},m.rentAmount)),n.createElement("div",{style:{...le.formGroup,flex:1}},n.createElement("label",{style:le.label,htmlFor:"depositAmount"},"Security Deposit ()"),n.createElement("input",{style:{...le.input,...x.depositAmount&&m.depositAmount&&le.errorInput},type:"tel",id:"depositAmount",name:"depositAmount",value:s.depositAmount,onChange:N,onBlur:C,placeholder:"e.g., 30000"}),x.depositAmount&&m.depositAmount&&n.createElement("span",{style:le.errorMessage},m.depositAmount))),n.createElement("div",{style:le.formGroup},n.createElement("label",{style:le.label,htmlFor:"startDate"},"Agreement Start Date"),n.createElement("input",{style:{...le.input,...x.startDate&&m.startDate&&le.errorInput},type:"date",id:"startDate",name:"startDate",value:s.startDate,onChange:N,onBlur:C}),x.startDate&&m.startDate&&n.createElement("span",{style:le.errorMessage},m.startDate)),n.createElement("div",{style:le.formGroup},n.createElement("label",{style:le.label,htmlFor:"duration"},"Agreement Duration"),n.createElement("select",{style:le.select,id:"duration",name:"duration",value:s.duration,onChange:N,onBlur:C},Array.from({length:60},(D,W)=>W+1).map(D=>n.createElement("option",{key:D,value:D},D," ",D===1?"Month":"Months",D===12&&" (1 Year)",D===24&&" (2 Years)",D===36&&" (3 Years)",D===48&&" (4 Years)",D===60&&" (5 Years)")))),n.createElement("div",{style:le.formGroup},n.createElement("label",{style:le.label},"Agreement Type (Determined by Duration)"),n.createElement("input",{style:{...le.input,backgroundColor:"#f8fafc",color:"#334155",fontWeight:"bold"},type:"text",value:s.agreementType,disabled:!0})),s.agreementType==="Lease Agreement"&&parseInt(s.duration,10)>=18&&n.createElement("div",{style:le.formGroup},n.createElement("label",{style:le.label,htmlFor:"incrementPercentage"},"Rent Increment (%) after 18 Months"),n.createElement("input",{style:le.input,type:"number",id:"incrementPercentage",name:"incrementPercentage",value:s.incrementPercentage,onChange:N,onBlur:C,placeholder:"e.g., 5"})),n.createElement("div",{style:le.buttonGroup},n.createElement("button",{type:"button",style:{...le.secondaryButton,flex:"0 1 auto"},onClick:$},"Back"),n.createElement("button",{type:"button",style:he?le.disabledButton:{...le.primaryButton,flex:"1 1 auto"},onClick:H,disabled:he},"Next: Review & Print"))),o===4&&n.createElement("form",{onSubmit:X},n.createElement("h2",{style:{...P.sectionTitle,fontSize:"22px",marginTop:0},className:"no-print"},"Step 3: Review & Print Agreement"),n.createElement("p",{style:{...P.pageSubtitle,marginTop:"-16px",marginBottom:"24px"},className:"no-print"},"Review the agreement below. You can print it or save it as a PDF before submitting."),n.createElement("div",{id:"printable-agreement"},n.createElement(Uu,{formData:s,ref:E})),n.createElement("div",{style:le.buttonGroup,className:"no-print"},n.createElement("button",{type:"button",style:le.secondaryButton,onClick:$},"Back"),n.createElement("button",{type:"button",style:{...le.secondaryButton,...P.postBtn},onClick:q}," Print/Save as PDF"),n.createElement("button",{type:"submit",style:le.primaryButton},"Submit Agreement"))),o===5&&n.createElement("div",null,n.createElement("div",{style:le.successMessage,className:"no-print"},n.createElement("div",{style:{fontSize:"48px",marginBottom:"16px"}},""),n.createElement("h2",{style:{...P.emptyTitle,color:"inherit"}},"Agreement Submitted!"),n.createElement("p",{style:{...P.emptyText,color:"inherit",maxWidth:"550px",margin:"0 auto 24px auto"}},"The ",s.agreementType," between",n.createElement("strong",{style:{color:"#047857"}}," ",s.ownerName," "),"(Owner) and",n.createElement("strong",{style:{color:"#047857"}}," ",s.tenantName," "),"(Tenant) has been successfully created. Thank you for using ",n.createElement("strong",null,"Zero Brokerage Platform"),"!"),n.createElement("div",{style:{...le.buttonGroup,maxWidth:"500px",margin:"0 auto"}},n.createElement("button",{style:le.secondaryButton,onClick:q},"Download Duplicate"),n.createElement("button",{style:{...le.primaryButton,backgroundColor:"#059669"},onClick:()=>{c(1),d(ju),f({}),y({})}},"Create Another Agreement"))),n.createElement("div",{style:{display:"none"}},n.createElement("div",{id:"printable-agreement-duplicate"}," ",n.createElement(Uu,{formData:s,ref:E})))))}function xg(){const[o,c]=g.useState([]),[s,d]=g.useState(!0),[m,f]=g.useState(null),x=Tt();return g.useEffect(()=>{console.log("Loading agreements from localStorage..."),d(!0),f(null);try{const y=localStorage.getItem("myAgreements"),E=y?JSON.parse(y):[];console.log("Found locally stored agreements:",E),c(E)}catch(y){console.error("Error loading agreements from localStorage:",y),f("Could not load locally stored agreements. Data might be corrupted."),c([])}finally{d(!1)}},[]),s?n.createElement("div",{style:{...P.container,...P.loadingContainer}},n.createElement("div",{style:P.spinner}),n.createElement("p",null,"Loading your agreements")):m?n.createElement("div",{style:{...P.container,...P.errorContainer}},n.createElement("div",{style:{fontSize:"48px",marginBottom:"16px"}},""),n.createElement("p",{style:{fontWeight:"600"}},"Could not load agreements"),n.createElement("p",{style:{fontSize:"14px",color:"#b91c1c"}},m)):n.createElement("div",{style:P.container},n.createElement("div",{style:P.pageHeader},n.createElement("h1",{style:P.pageTitle},"My Agreements"),n.createElement("p",{style:P.pageSubtitle},"Rental and Lease agreements created by you (Saved Locally).")),o.length===0?n.createElement("div",{style:P.noPropertiesContainer},n.createElement("p",{style:P.noPropertiesText},"You haven't created any rental agreements yet."),n.createElement("button",{style:P.primaryButton||P.signupBtn,onClick:()=>x("/rental-agreement")},"Create Your First Agreement")):n.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"20px"}},o.map(y=>n.createElement("div",{key:y.agreementId,style:un.card},n.createElement("div",{style:un.header},n.createElement("h2",{style:un.title},y.agreementType," #"," ",y.agreementId?y.agreementId.substring(6):"N/A"),n.createElement("span",{style:{...un.statusBadge,...y.status==="ACTIVE"?un.activeStatus:un.inactiveStatus}},y.status||"N/A")),n.createElement("div",{style:un.detailsGrid},n.createElement(sl,{label:"Owner",value:y.ownerName}),n.createElement(sl,{label:"Tenant",value:y.tenantName}),n.createElement(sl,{label:"Property",value:y.propertyAddressShort||y.propertyAddress||"N/A",span:2}),n.createElement(sl,{label:"Start Date",value:y.startDate?new Date(y.startDate).toLocaleDateString():"N/A"}),n.createElement(sl,{label:"Duration",value:`${y.durationMonths||y.duration} months`}))))))}const sl=({label:o,value:c,span:s=1})=>n.createElement("div",{style:{gridColumn:`span ${s}`}},n.createElement("p",{style:un.detailLabel},o,":"),n.createElement("p",{style:un.detailValue},c||"N/A")),un={card:{border:"1px solid #e2e8f0",padding:"20px 25px",borderRadius:"12px",backgroundColor:"white",boxShadow:"0 4px 12px rgba(0,0,0,0.05)",transition:"transform 0.2s ease, box-shadow 0.2s ease"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid #f1f5f9",paddingBottom:"10px",marginBottom:"15px"},title:{marginTop:0,marginBottom:0,fontSize:"18px",color:P.sectionTitle?P.sectionTitle.color:"#1e293b",fontWeight:600},statusBadge:{padding:"4px 10px",borderRadius:"20px",fontSize:"12px",fontWeight:"700",textTransform:"uppercase"},activeStatus:{backgroundColor:"#dcfce7",color:"#166534"},inactiveStatus:{backgroundColor:"#f1f5f9",color:"#475569"},detailsGrid:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"10px 20px"},detailLabel:{margin:"0 0 2px 0",fontSize:"13px",color:"#64748b",fontWeight:500},detailValue:{margin:0,fontSize:"15px",color:"#334155",fontWeight:500}};function Eg(){const o=Tt(),[c,s]=g.useState(!1),[d,m]=g.useState(!1),[f,x]=g.useState(!1),[y,E]=g.useState(!1),{isAuthenticated:k,user:h,logout:A}=st();g.useEffect(()=>{Uf()},[]);const I=()=>{m(!1),o("/my-properties")},M=()=>{k?m(!0):s(!0)};return n.createElement("div",{style:P.app},n.createElement(lg,{onLoginClick:()=>s(!0),onSignupClick:()=>x(!0),onPostPropertyClick:M,onProfileClick:()=>E(!0)}),n.createElement(cf,null,n.createElement(rt,{path:"/",element:n.createElement(cg,null)}),n.createElement(rt,{path:"/search",element:n.createElement(ug,null)}),n.createElement(rt,{path:"/property/:id",element:n.createElement(ig,null)}),n.createElement(rt,{path:"/property-type/:listingType/:propertyType",element:n.createElement(Fu,null)}),n.createElement(rt,{path:"/area/:areaName",element:n.createElement(Fu,null)}),n.createElement(rt,{path:"/my-properties",element:n.createElement(Ou,{onPostPropertyClick:M})}),n.createElement(rt,{path:"/dashboard",element:n.createElement(Ou,{onPostPropertyClick:M})}),n.createElement(rt,{path:"/my-deals",element:n.createElement(fg,null)}),n.createElement(rt,{path:"/buyer-deals",element:n.createElement(mg,null)}),n.createElement(rt,{path:"/seller-deals",element:n.createElement(yg,null)}),n.createElement(rt,{path:"/agent-dashboard",element:n.createElement(dg,null)}),n.createElement(rt,{path:"/admin-deals",element:n.createElement(ng,null)}),n.createElement(rt,{path:"/admin-agents",element:n.createElement(gg,null)}),n.createElement(rt,{path:"/admin-users",element:n.createElement(rg,null)}),n.createElement(rt,{path:"/rental-agreement",element:n.createElement(hg,null)}),n.createElement(rt,{path:"/my-agreements",element:n.createElement(xg,null)}),n.createElement(rt,{path:"/owner-plans",element:n.createElement(Wu,{title:"Owner Plans"})}),n.createElement(rt,{path:"/home-renovation",element:n.createElement(Wu,{title:"Home Interior/Renovation"})})),c&&n.createElement(jf,{onClose:()=>s(!1)}),d&&n.createElement(Hf,{onClose:()=>m(!1),onPropertyPosted:I}),f&&n.createElement(qf,{onClose:()=>x(!1)}),y&&n.createElement(Jf,{user:h,onClose:()=>E(!1),logout:A}))}function vg(){return n.createElement(Bf,null,n.createElement(ud,null,n.createElement(Eg,null)))}const bg=document.getElementById("root"),Sg=xm.createRoot(bg);Sg.render(n.createElement(n.StrictMode,null,n.createElement(ud,null,n.createElement(vg,null))));
